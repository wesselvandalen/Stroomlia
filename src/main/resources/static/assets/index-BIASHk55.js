var BT=Object.defineProperty;var zT=(r,e,n)=>e in r?BT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var Mc=(r,e,n)=>zT(r,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function S2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ud={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function HT(){if(U1)return bl;U1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return bl.Fragment=e,bl.jsx=n,bl.jsxs=n,bl}var B1;function qT(){return B1||(B1=1,Ud.exports=HT()),Ud.exports}var g=qT(),Bd={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function FT(){if(z1)return be;z1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Y={};function q(N,te,fe){this.props=N,this.context=te,this.refs=Y,this.updater=fe||j}q.prototype.isReactComponent={},q.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=q.prototype;function Q(N,te,fe){this.props=N,this.context=te,this.refs=Y,this.updater=fe||j}var W=Q.prototype=new K;W.constructor=Q,L(W,q.prototype),W.isPureReactComponent=!0;var ce=Array.isArray,le={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function D(N,te,fe,se,ae,Re){return fe=Re.ref,{$$typeof:r,type:N,key:te,ref:fe!==void 0?fe:null,props:Re}}function b(N,te){return D(N.type,te,void 0,void 0,void 0,N.props)}function S(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function I(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(fe){return te[fe]})}var M=/\/+/g;function z(N,te){return typeof N=="object"&&N!==null&&N.key!=null?I(""+N.key):te.toString(36)}function k(){}function _t(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(k,k):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function dt(N,te,fe,se,ae){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var Se=!1;if(N===null)Se=!0;else switch(Re){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(N.$$typeof){case r:case e:Se=!0;break;case T:return Se=N._init,dt(Se(N._payload),te,fe,se,ae)}}if(Se)return ae=ae(N),Se=se===""?"."+z(N,0):se,ce(ae)?(fe="",Se!=null&&(fe=Se.replace(M,"$&/")+"/"),dt(ae,te,fe,"",function(rt){return rt})):ae!=null&&(S(ae)&&(ae=b(ae,fe+(ae.key==null||N&&N.key===ae.key?"":(""+ae.key).replace(M,"$&/")+"/")+Se)),te.push(ae)),1;Se=0;var mt=se===""?".":se+":";if(ce(N))for(var Be=0;Be<N.length;Be++)se=N[Be],Re=mt+z(se,Be),Se+=dt(se,te,fe,Re,ae);else if(Be=x(N),typeof Be=="function")for(N=Be.call(N),Be=0;!(se=N.next()).done;)se=se.value,Re=mt+z(se,Be++),Se+=dt(se,te,fe,Re,ae);else if(Re==="object"){if(typeof N.then=="function")return dt(_t(N),te,fe,se,ae);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Se}function re(N,te,fe){if(N==null)return N;var se=[],ae=0;return dt(N,se,"","",function(Re){return te.call(fe,Re,ae++)}),se}function _e(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(fe){(N._status===0||N._status===-1)&&(N._status=1,N._result=fe)},function(fe){(N._status===0||N._status===-1)&&(N._status=2,N._result=fe)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Fe(){}return be.Children={map:re,forEach:function(N,te,fe){re(N,function(){te.apply(this,arguments)},fe)},count:function(N){var te=0;return re(N,function(){te++}),te},toArray:function(N){return re(N,function(te){return te})||[]},only:function(N){if(!S(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},be.Component=q,be.Fragment=n,be.Profiler=o,be.PureComponent=Q,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,be.act=function(){throw Error("act(...) is not supported in production builds of React.")},be.cache=function(N){return function(){return N.apply(null,arguments)}},be.cloneElement=function(N,te,fe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=L({},N.props),ae=N.key,Re=void 0;if(te!=null)for(Se in te.ref!==void 0&&(Re=void 0),te.key!==void 0&&(ae=""+te.key),te)!Te.call(te,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&te.ref===void 0||(se[Se]=te[Se]);var Se=arguments.length-2;if(Se===1)se.children=fe;else if(1<Se){for(var mt=Array(Se),Be=0;Be<Se;Be++)mt[Be]=arguments[Be+2];se.children=mt}return D(N.type,ae,void 0,void 0,Re,se)},be.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},be.createElement=function(N,te,fe){var se,ae={},Re=null;if(te!=null)for(se in te.key!==void 0&&(Re=""+te.key),te)Te.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ae[se]=te[se]);var Se=arguments.length-2;if(Se===1)ae.children=fe;else if(1<Se){for(var mt=Array(Se),Be=0;Be<Se;Be++)mt[Be]=arguments[Be+2];ae.children=mt}if(N&&N.defaultProps)for(se in Se=N.defaultProps,Se)ae[se]===void 0&&(ae[se]=Se[se]);return D(N,Re,void 0,void 0,null,ae)},be.createRef=function(){return{current:null}},be.forwardRef=function(N){return{$$typeof:m,render:N}},be.isValidElement=S,be.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:_e}},be.memo=function(N,te){return{$$typeof:y,type:N,compare:te===void 0?null:te}},be.startTransition=function(N){var te=le.T,fe={};le.T=fe;try{var se=N(),ae=le.S;ae!==null&&ae(fe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Fe,me)}catch(Re){me(Re)}finally{le.T=te}},be.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},be.use=function(N){return le.H.use(N)},be.useActionState=function(N,te,fe){return le.H.useActionState(N,te,fe)},be.useCallback=function(N,te){return le.H.useCallback(N,te)},be.useContext=function(N){return le.H.useContext(N)},be.useDebugValue=function(){},be.useDeferredValue=function(N,te){return le.H.useDeferredValue(N,te)},be.useEffect=function(N,te){return le.H.useEffect(N,te)},be.useId=function(){return le.H.useId()},be.useImperativeHandle=function(N,te,fe){return le.H.useImperativeHandle(N,te,fe)},be.useInsertionEffect=function(N,te){return le.H.useInsertionEffect(N,te)},be.useLayoutEffect=function(N,te){return le.H.useLayoutEffect(N,te)},be.useMemo=function(N,te){return le.H.useMemo(N,te)},be.useOptimistic=function(N,te){return le.H.useOptimistic(N,te)},be.useReducer=function(N,te,fe){return le.H.useReducer(N,te,fe)},be.useRef=function(N){return le.H.useRef(N)},be.useState=function(N){return le.H.useState(N)},be.useSyncExternalStore=function(N,te,fe){return le.H.useSyncExternalStore(N,te,fe)},be.useTransition=function(){return le.H.useTransition()},be.version="19.0.0",be}var H1;function Om(){return H1||(H1=1,Bd.exports=FT()),Bd.exports}var P=Om();const zl=S2(P);var zd={exports:{}},Rl={},Hd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function GT(){return q1||(q1=1,function(r){function e(re,_e){var me=re.length;re.push(_e);e:for(;0<me;){var Fe=me-1>>>1,N=re[Fe];if(0<o(N,_e))re[Fe]=_e,re[me]=N,me=Fe;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var _e=re[0],me=re.pop();if(me!==_e){re[0]=me;e:for(var Fe=0,N=re.length,te=N>>>1;Fe<te;){var fe=2*(Fe+1)-1,se=re[fe],ae=fe+1,Re=re[ae];if(0>o(se,me))ae<N&&0>o(Re,se)?(re[Fe]=Re,re[ae]=me,Fe=ae):(re[Fe]=se,re[fe]=me,Fe=fe);else if(ae<N&&0>o(Re,me))re[Fe]=Re,re[ae]=me,Fe=ae;else break e}}return _e}function o(re,_e){var me=re.sortIndex-_e.sortIndex;return me!==0?me:re.id-_e.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,C=null,x=3,j=!1,L=!1,Y=!1,q=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function W(re){for(var _e=n(y);_e!==null;){if(_e.callback===null)s(y);else if(_e.startTime<=re)s(y),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(y)}}function ce(re){if(Y=!1,W(re),!L)if(n(p)!==null)L=!0,_t();else{var _e=n(y);_e!==null&&dt(ce,_e.startTime-re)}}var le=!1,Te=-1,D=5,b=-1;function S(){return!(r.unstable_now()-b<D)}function I(){if(le){var re=r.unstable_now();b=re;var _e=!0;try{e:{L=!1,Y&&(Y=!1,K(Te),Te=-1),j=!0;var me=x;try{t:{for(W(re),C=n(p);C!==null&&!(C.expirationTime>re&&S());){var Fe=C.callback;if(typeof Fe=="function"){C.callback=null,x=C.priorityLevel;var N=Fe(C.expirationTime<=re);if(re=r.unstable_now(),typeof N=="function"){C.callback=N,W(re),_e=!0;break t}C===n(p)&&s(p),W(re)}else s(p);C=n(p)}if(C!==null)_e=!0;else{var te=n(y);te!==null&&dt(ce,te.startTime-re),_e=!1}}break e}finally{C=null,x=me,j=!1}_e=void 0}}finally{_e?M():le=!1}}}var M;if(typeof Q=="function")M=function(){Q(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,k=z.port2;z.port1.onmessage=I,M=function(){k.postMessage(null)}}else M=function(){q(I,0)};function _t(){le||(le=!0,M())}function dt(re,_e){Te=q(function(){re(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){L||j||(L=!0,_t())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(re){switch(x){case 1:case 2:case 3:var _e=3;break;default:_e=x}var me=x;x=_e;try{return re()}finally{x=me}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,_e){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=x;x=re;try{return _e()}finally{x=me}},r.unstable_scheduleCallback=function(re,_e,me){var Fe=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Fe+me:Fe):me=Fe,re){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,re={id:T++,callback:_e,priorityLevel:re,startTime:me,expirationTime:N,sortIndex:-1},me>Fe?(re.sortIndex=me,e(y,re),n(p)===null&&re===n(y)&&(Y?(K(Te),Te=-1):Y=!0,dt(ce,me-Fe))):(re.sortIndex=N,e(p,re),L||j||(L=!0,_t())),re},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(re){var _e=x;return function(){var me=x;x=_e;try{return re.apply(this,arguments)}finally{x=me}}}}(qd)),qd}var F1;function KT(){return F1||(F1=1,Hd.exports=GT()),Hd.exports}var Fd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function QT(){if(G1)return Kt;G1=1;var r=Om();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,T)},Kt.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Kt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,C=m(T,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:x,fetchPriority:j}):T==="script"&&s.d.X(p,{crossOrigin:C,integrity:x,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Kt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Kt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,C=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Kt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,y){return p(y)},Kt.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.0.0",Kt}var K1;function YT(){if(K1)return Fd.exports;K1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=QT(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function XT(){if(Q1)return Rl;Q1=1;var r=KT(),e=Om(),n=YT();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),j=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),ce=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function Te(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case x:return(t._context.displayName||"Context")+".Consumer";case L:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return i=t.displayName||null,i!==null?i:b(t.type)||"Memo";case Q:i=t._payload,t=t._init;try{return b(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,M,z;function k(t){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+z}var _t=!1;function dt(t,i){if(!t||_t)return"";_t=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(X){var F=X}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(X){F=X}t.call(ee.prototype)}}else{try{throw Error()}catch(X){F=X}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(X){if(X&&F&&typeof X.stack=="string")return[X.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var R=E.split(`
`),V=w.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===V.length)for(l=R.length-1,h=V.length-1;1<=l&&0<=h&&R[l]!==V[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==V[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==V[h]){var $=`
`+R[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{_t=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?k(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return k(t.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 15:return t=dt(t.type,!1),t;case 11:return t=dt(t.type.render,!1),t;case 1:return t=dt(t.type,!0),t;default:return""}}function _e(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function me(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Fe(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function N(t){if(me(t)!==t)throw Error(s(188))}function te(t){var i=t.alternate;if(!i){if(i=me(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),t;if(d===l)return N(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=d;break}if(w===l){E=!0,l=h,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=h;break}if(w===l){E=!0,l=d,a=h;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function fe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=fe(t),i!==null)return i;t=t.sibling}return null}var se=Array.isArray,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Se=[],mt=-1;function Be(t){return{current:t}}function rt(t){0>mt||(t.current=Se[mt],Se[mt]=null,mt--)}function Qe(t,i){mt++,Se[mt]=t.current,t.current=i}var Wt=Be(null),wi=Be(null),yn=Be(null),lr=Be(null);function ur(t,i){switch(Qe(yn,i),Qe(wi,t),Qe(Wt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?m1(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=m1(t),i=p1(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}rt(Wt),Qe(Wt,i)}function Ai(){rt(Wt),rt(wi),rt(yn)}function To(t){t.memoizedState!==null&&Qe(lr,t);var i=Wt.current,a=p1(i,t.type);i!==a&&(Qe(wi,t),Qe(Wt,a))}function ia(t){wi.current===t&&(rt(Wt),rt(wi)),lr.current===t&&(rt(lr),Tl._currentValue=Re)}var ra=Object.prototype.hasOwnProperty,fs=r.unstable_scheduleCallback,sa=r.unstable_cancelCallback,Bh=r.unstable_shouldYield,wo=r.unstable_requestPaint,rn=r.unstable_now,du=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,It=r.unstable_UserBlockingPriority,Ci=r.unstable_NormalPriority,mu=r.unstable_LowPriority,Ao=r.unstable_IdlePriority,zh=r.log,ds=r.unstable_setDisableYieldValue,cr=null,Ft=null;function Co(t){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(cr,t,void 0,(t.current.flags&128)===128)}catch{}}function $n(t){if(typeof zh=="function"&&ds(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(cr,t)}catch{}}var Zt=Math.clz32?Math.clz32:gu,So=Math.log,pu=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(So(t)/pu|0)|0}var Wn=128,hr=4194304;function Bn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _n(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,E=t.warmLanes;t=t.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~h,a!==0?l=Bn(a):(d&=w,d!==0?l=Bn(d):t||(E=w&~E,E!==0&&(l=Bn(E))))):(w=a&~h,w!==0?l=Bn(w):d!==0?l=Bn(d):t||(E=a&~E,E!==0&&(l=Bn(E)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,E=i&-i,h>=E||h===32&&(E&4194176)!==0)?i:l}function fr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function aa(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var t=Wn;return Wn<<=1,(Wn&4194176)===0&&(Wn=128),t}function dr(){var t=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),t}function oa(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ct(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vu(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,R=t.expirationTimes,V=t.hiddenUpdates;for(a=E&~a;0<a;){var $=31-Zt(a),ee=1<<$;w[$]=0,R[$]=-1;var F=V[$];if(F!==null)for(V[$]=null,$=0;$<F.length;$++){var X=F[$];X!==null&&(X.lane&=-536870913)}a&=~ee}l!==0&&mr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function mr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function pr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Zt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function yu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:O1(t.type))}function gr(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Zn=Math.random().toString(36).slice(2),kt="__reactFiber$"+Zn,Tt="__reactProps$"+Zn,Si="__reactContainer$"+Zn,ms="__reactEvents$"+Zn,la="__reactListeners$"+Zn,Jn="__reactHandles$"+Zn,Ro="__reactResources$"+Zn,vr="__reactMarker$"+Zn;function ps(t){delete t[kt],delete t[Tt],delete t[ms],delete t[la],delete t[Jn]}function zn(t){var i=t[kt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Si]||a[kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=y1(t);t!==null;){if(a=t[kt])return a;t=y1(t)}return i}t=a,a=t.parentNode}return null}function bi(t){if(t=t[kt]||t[Si]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function yr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function _r(t){var i=t[Ro];return i||(i=t[Ro]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Je(t){t[vr]=!0}var xo=new Set,ua={};function un(t,i){sn(t,i),sn(t+"Capture",i)}function sn(t,i){for(ua[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},ko={};function Eu(t){return ra.call(ko,t)?!0:ra.call(Io,t)?!1:Hh.test(t)?ko[t]=!0:(Io[t]=!0,!1)}function Er(t,i,a){if(Eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Tr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function En(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qh(t){var i=Tu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function gs(t){t._valueTracker||(t._valueTracker=qh(t))}function No(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Tu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ri=/[\n"\\]/g;function st(t){return t.replace(Ri,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wr(t,i,a,l,h,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?ha(t,E,Jt(i)):a!=null?ha(t,E,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Jt(w):t.removeAttribute("name")}function vs(t,i,a,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function ha(t,i,a){i==="number"&&ca(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ze(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ys(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Fh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Fh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function wu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Do(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Do(t,d,i[d])}function Oo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(t){return Kh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var wn=null;function fa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,Ii=null;function ki(t){var i=bi(t);if(i&&(t=i.stateNode)){var a=t[Tt]||null;e:switch(t=i.stateNode,i.type){case"input":if(wr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+st(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Tt]||null;if(!h)throw Error(s(90));wr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&No(l)}break e;case"textarea":ys(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ze(t,!!a.multiple,i,!1)}}}var Mo=!1;function Au(t,i,a){if(Mo)return t(i,a);Mo=!0;try{var l=t(i);return l}finally{if(Mo=!1,(xi!==null||Ii!==null)&&(mc(),xi&&(i=xi,t=Ii,Ii=xi=null,ki(i),t)))for(i=0;i<t.length;i++)ki(t[i])}}function _s(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!1;if(cn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){An=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{An=!1}var ti=null,Cr=null,Ni=null;function jo(){if(Ni)return Ni;var t,i=Cr,a=i.length,l,h="value"in ti?ti.value:ti.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function ni(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function Vo(){return!1}function Nt(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:Vo,this.isPropagationStopped=Vo,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Nt(Ge),Ts=I({},Ge,{view:0,detail:0}),Cu=Nt(Ts),ma,pa,ri,ws=I({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(ma=t.screenX-ri.screenX,pa=t.screenY-ri.screenY):pa=ma=0,ri=t),ma)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Cn=Nt(ws),Su=I({},ws,{dataTransfer:0}),Qh=Nt(Su),As=I({},Ts,{relatedTarget:0}),ga=Nt(As),Po=I({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),va=Nt(Po),bu=I({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ya=Nt(bu),Yh=I({},Ge,{data:0}),Lo=Nt(Yh),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xu[t])?!!i[t]:!1}function Ss(){return Uo}var Iu=I({},Ts,{key:function(t){if(t.key){var i=Cs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(t){return t.type==="keypress"?ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_a=Nt(Iu),ku=I({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Nt(ku),Di=I({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),Nu=Nt(Di),Du=I({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ou=Nt(Du),Mu=I({},ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ea=Nt(Mu),en=I({},Ge,{newState:0,oldState:0}),ju=Nt(en),Vu=[9,13,27,32],si=cn&&"CompositionEvent"in window,c=null;cn&&"documentMode"in document&&(c=document.documentMode);var v=cn&&"TextEvent"in window&&!c,_=cn&&(!si||c&&8<c&&11>=c),A=" ",B=!1;function G(t,i){switch(t){case"keyup":return Vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function wt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(B=!0,A);case"textInput":return t=i.data,t===A&&B?null:t;default:return null}}function Pe(t,i){if(Ve)return t==="compositionend"||!si&&G(t,i)?(t=jo(),Ni=Cr=ti=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function Oi(t,i,a,l){xi?Ii?Ii.push(l):Ii=[l]:xi=l,i=_c(i,"onChange"),0<i.length&&(a=new da("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Pt=null,ai=null;function zo(t){u1(t,0)}function Pu(t){var i=yr(t);if(No(i))return t}function Lp(t,i){if(t==="change")return i}var Up=!1;if(cn){var Xh;if(cn){var $h="oninput"in document;if(!$h){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),$h=typeof Bp.oninput=="function"}Xh=$h}else Xh=!1;Up=Xh&&(!document.documentMode||9<document.documentMode)}function zp(){Pt&&(Pt.detachEvent("onpropertychange",Hp),ai=Pt=null)}function Hp(t){if(t.propertyName==="value"&&Pu(ai)){var i=[];Oi(i,ai,t,fa(t)),Au(zo,i)}}function gE(t,i,a){t==="focusin"?(zp(),Pt=i,ai=a,Pt.attachEvent("onpropertychange",Hp)):t==="focusout"&&zp()}function vE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(ai)}function yE(t,i){if(t==="click")return Pu(i)}function _E(t,i){if(t==="input"||t==="change")return Pu(i)}function EE(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:EE;function Ho(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ra.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fp(t,i){var a=qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Gp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Gp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ca(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ca(t.document)}return i}function Wh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function TE(t,i){var a=Kp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Gp(i.ownerDocument.documentElement,i)){if(l!==null&&Wh(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Fp(i,d);var E=Fp(i,l);h&&E&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(E.node,E.offset)):(t.setEnd(E.node,E.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var wE=cn&&"documentMode"in document&&11>=document.documentMode,Ta=null,Zh=null,qo=null,Jh=!1;function Qp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||Ta==null||Ta!==ca(l)||(l=Ta,"selectionStart"in l&&Wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qo&&Ho(qo,l)||(qo=l,l=_c(Zh,"onSelect"),0<l.length&&(i=new da("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ta)))}function bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var wa={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},ef={},Yp={};cn&&(Yp=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Rs(t){if(ef[t])return ef[t];if(!wa[t])return t;var i=wa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Yp)return ef[t]=i[a];return t}var Xp=Rs("animationend"),$p=Rs("animationiteration"),Wp=Rs("animationstart"),AE=Rs("transitionrun"),CE=Rs("transitionstart"),SE=Rs("transitioncancel"),Zp=Rs("transitionend"),Jp=new Map,eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Hn(t,i){Jp.set(t,i),un(i,[t])}var Sn=[],Aa=0,tf=0;function Lu(){for(var t=Aa,i=tf=Aa=0;i<t;){var a=Sn[i];Sn[i++]=null;var l=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&tg(a,h,d)}}function Uu(t,i,a,l){Sn[Aa++]=t,Sn[Aa++]=i,Sn[Aa++]=a,Sn[Aa++]=l,tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,i,a,l){return Uu(t,i,a,l),Bu(t)}function Sr(t,i){return Uu(t,null,null,i),Bu(t)}function tg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Zt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Bu(t){if(50<ml)throw ml=0,ud=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ca={},ng=new WeakMap;function bn(t,i){if(typeof t=="object"&&t!==null){var a=ng.get(t);return a!==void 0?a:(i={value:t,source:i,stack:_e(i)},ng.set(t,i),i)}return{value:t,source:i,stack:_e(i)}}var Sa=[],ba=0,zu=null,Hu=0,Rn=[],xn=0,xs=null,Mi=1,ji="";function Is(t,i){Sa[ba++]=Hu,Sa[ba++]=zu,zu=t,Hu=i}function ig(t,i,a){Rn[xn++]=Mi,Rn[xn++]=ji,Rn[xn++]=xs,xs=t;var l=Mi;t=ji;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var d=32-Zt(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Mi=1<<32-Zt(i)+h|a<<h|l,ji=d+t}else Mi=1<<d|a<<h|l,ji=t}function rf(t){t.return!==null&&(Is(t,1),ig(t,1,0))}function sf(t){for(;t===zu;)zu=Sa[--ba],Sa[ba]=null,Hu=Sa[--ba],Sa[ba]=null;for(;t===xs;)xs=Rn[--xn],Rn[xn]=null,ji=Rn[--xn],Rn[xn]=null,Mi=Rn[--xn],Rn[xn]=null}var tn=null,Lt=null,He=!1,qn=null,oi=!1,af=Error(s(519));function ks(t){var i=Error(s(418,""));throw Ko(bn(i,t)),af}function rg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[kt]=t,i[Tt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Oe(gl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),vs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gs(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Ar(i,l.value,l.defaultValue,l.children),gs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||d1(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Ec),i=!0):i=!1,i||ks(t)}function sg(t){for(tn=t.return;tn;)switch(tn.tag){case 3:case 27:oi=!0;return;case 5:case 13:oi=!1;return;default:tn=tn.return}}function Fo(t){if(t!==tn)return!1;if(!He)return sg(t),He=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Lt&&ks(t),sg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Lt=Gn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Lt=null}}else Lt=tn?Gn(t.stateNode.nextSibling):null;return!0}function Go(){Lt=tn=null,He=!1}function Ko(t){qn===null?qn=[t]:qn.push(t)}var Qo=Error(s(460)),ag=Error(s(474)),of={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qu(){}function lg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(qu,qu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Qo?Error(s(483)):t;default:if(typeof i.status=="string")i.then(qu,qu);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Qo?Error(s(483)):t}throw Yo=i,Qo}}var Yo=null;function ug(){if(Yo===null)throw Error(s(459));var t=Yo;return Yo=null,t}var Ra=null,Xo=0;function Fu(t){var i=Xo;return Xo+=1,Ra===null&&(Ra=[]),lg(Ra,t,i)}function $o(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Gu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function cg(t){var i=t._init;return i(t._payload)}function hg(t){function i(U,O){if(t){var H=U.deletions;H===null?(U.deletions=[O],U.flags|=16):H.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Pr(U,O),U.index=0,U.sibling=null,U}function d(U,O,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<O?(U.flags|=33554434,O):H):(U.flags|=33554434,O)):(U.flags|=1048576,O)}function E(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function w(U,O,H,Z){return O===null||O.tag!==6?(O=td(H,U.mode,Z),O.return=U,O):(O=h(O,H),O.return=U,O)}function R(U,O,H,Z){var ue=H.type;return ue===p?$(U,O,H.props.children,Z,H.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Q&&cg(ue)===O.type)?(O=h(O,H.props),$o(O,H),O.return=U,O):(O=uc(H.type,H.key,H.props,null,U.mode,Z),$o(O,H),O.return=U,O)}function V(U,O,H,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=nd(H,U.mode,Z),O.return=U,O):(O=h(O,H.children||[]),O.return=U,O)}function $(U,O,H,Z,ue){return O===null||O.tag!==7?(O=Bs(H,U.mode,Z,ue),O.return=U,O):(O=h(O,H),O.return=U,O)}function ee(U,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=td(""+O,U.mode,H),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case f:return H=uc(O.type,O.key,O.props,null,U.mode,H),$o(H,O),H.return=U,H;case m:return O=nd(O,U.mode,H),O.return=U,O;case Q:var Z=O._init;return O=Z(O._payload),ee(U,O,H)}if(se(O)||Te(O))return O=Bs(O,U.mode,H,null),O.return=U,O;if(typeof O.then=="function")return ee(U,Fu(O),H);if(O.$$typeof===j)return ee(U,ac(U,O),H);Gu(U,O)}return null}function F(U,O,H,Z){var ue=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ue!==null?null:w(U,O,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===ue?R(U,O,H,Z):null;case m:return H.key===ue?V(U,O,H,Z):null;case Q:return ue=H._init,H=ue(H._payload),F(U,O,H,Z)}if(se(H)||Te(H))return ue!==null?null:$(U,O,H,Z,null);if(typeof H.then=="function")return F(U,O,Fu(H),Z);if(H.$$typeof===j)return F(U,O,ac(U,H),Z);Gu(U,H)}return null}function X(U,O,H,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(H)||null,w(O,U,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return U=U.get(Z.key===null?H:Z.key)||null,R(O,U,Z,ue);case m:return U=U.get(Z.key===null?H:Z.key)||null,V(O,U,Z,ue);case Q:var Ie=Z._init;return Z=Ie(Z._payload),X(U,O,H,Z,ue)}if(se(Z)||Te(Z))return U=U.get(H)||null,$(O,U,Z,ue,null);if(typeof Z.then=="function")return X(U,O,H,Fu(Z),ue);if(Z.$$typeof===j)return X(U,O,H,ac(O,Z),ue);Gu(O,Z)}return null}function he(U,O,H,Z){for(var ue=null,Ie=null,de=O,ve=O=0,jt=null;de!==null&&ve<H.length;ve++){de.index>ve?(jt=de,de=null):jt=de.sibling;var qe=F(U,de,H[ve],Z);if(qe===null){de===null&&(de=jt);break}t&&de&&qe.alternate===null&&i(U,de),O=d(qe,O,ve),Ie===null?ue=qe:Ie.sibling=qe,Ie=qe,de=jt}if(ve===H.length)return a(U,de),He&&Is(U,ve),ue;if(de===null){for(;ve<H.length;ve++)de=ee(U,H[ve],Z),de!==null&&(O=d(de,O,ve),Ie===null?ue=de:Ie.sibling=de,Ie=de);return He&&Is(U,ve),ue}for(de=l(de);ve<H.length;ve++)jt=X(de,U,ve,H[ve],Z),jt!==null&&(t&&jt.alternate!==null&&de.delete(jt.key===null?ve:jt.key),O=d(jt,O,ve),Ie===null?ue=jt:Ie.sibling=jt,Ie=jt);return t&&de.forEach(function(Fr){return i(U,Fr)}),He&&Is(U,ve),ue}function Ae(U,O,H,Z){if(H==null)throw Error(s(151));for(var ue=null,Ie=null,de=O,ve=O=0,jt=null,qe=H.next();de!==null&&!qe.done;ve++,qe=H.next()){de.index>ve?(jt=de,de=null):jt=de.sibling;var Fr=F(U,de,qe.value,Z);if(Fr===null){de===null&&(de=jt);break}t&&de&&Fr.alternate===null&&i(U,de),O=d(Fr,O,ve),Ie===null?ue=Fr:Ie.sibling=Fr,Ie=Fr,de=jt}if(qe.done)return a(U,de),He&&Is(U,ve),ue;if(de===null){for(;!qe.done;ve++,qe=H.next())qe=ee(U,qe.value,Z),qe!==null&&(O=d(qe,O,ve),Ie===null?ue=qe:Ie.sibling=qe,Ie=qe);return He&&Is(U,ve),ue}for(de=l(de);!qe.done;ve++,qe=H.next())qe=X(de,U,ve,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?ve:qe.key),O=d(qe,O,ve),Ie===null?ue=qe:Ie.sibling=qe,Ie=qe);return t&&de.forEach(function(UT){return i(U,UT)}),He&&Is(U,ve),ue}function lt(U,O,H,Z){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:e:{for(var ue=H.key;O!==null;){if(O.key===ue){if(ue=H.type,ue===p){if(O.tag===7){a(U,O.sibling),Z=h(O,H.props.children),Z.return=U,U=Z;break e}}else if(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Q&&cg(ue)===O.type){a(U,O.sibling),Z=h(O,H.props),$o(Z,H),Z.return=U,U=Z;break e}a(U,O);break}else i(U,O);O=O.sibling}H.type===p?(Z=Bs(H.props.children,U.mode,Z,H.key),Z.return=U,U=Z):(Z=uc(H.type,H.key,H.props,null,U.mode,Z),$o(Z,H),Z.return=U,U=Z)}return E(U);case m:e:{for(ue=H.key;O!==null;){if(O.key===ue)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){a(U,O.sibling),Z=h(O,H.children||[]),Z.return=U,U=Z;break e}else{a(U,O);break}else i(U,O);O=O.sibling}Z=nd(H,U.mode,Z),Z.return=U,U=Z}return E(U);case Q:return ue=H._init,H=ue(H._payload),lt(U,O,H,Z)}if(se(H))return he(U,O,H,Z);if(Te(H)){if(ue=Te(H),typeof ue!="function")throw Error(s(150));return H=ue.call(H),Ae(U,O,H,Z)}if(typeof H.then=="function")return lt(U,O,Fu(H),Z);if(H.$$typeof===j)return lt(U,O,ac(U,H),Z);Gu(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(a(U,O.sibling),Z=h(O,H),Z.return=U,U=Z):(a(U,O),Z=td(H,U.mode,Z),Z.return=U,U=Z),E(U)):a(U,O)}return function(U,O,H,Z){try{Xo=0;var ue=lt(U,O,H,Z);return Ra=null,ue}catch(de){if(de===Qo)throw de;var Ie=Dn(29,de,null,U.mode);return Ie.lanes=Z,Ie.return=U,Ie}finally{}}}var Ns=hg(!0),fg=hg(!1),xa=Be(null),Ku=Be(0);function dg(t,i){t=Ki,Qe(Ku,t),Qe(xa,i),Ki=t|i.baseLanes}function lf(){Qe(Ku,Ki),Qe(xa,xa.current)}function uf(){Ki=Ku.current,rt(xa),rt(Ku)}var In=Be(null),li=null;function br(t){var i=t.alternate;Qe(Ct,Ct.current&1),Qe(In,t),li===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(li=t)}function mg(t){if(t.tag===22){if(Qe(Ct,Ct.current),Qe(In,t),li===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(li=t)}}else Rr()}function Rr(){Qe(Ct,Ct.current),Qe(In,In.current)}function Vi(t){rt(In),li===t&&(li=null),rt(Ct)}var Ct=Be(0);function Qu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var bE=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},RE=r.unstable_scheduleCallback,xE=r.unstable_NormalPriority,St={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new bE,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&RE(xE,function(){t.controller.abort()})}var Zo=null,hf=0,Ia=0,ka=null;function IE(t,i){if(Zo===null){var a=Zo=[];hf=0,Ia=vd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,i.then(pg,pg),i}function pg(){if(--hf===0&&Zo!==null){ka!==null&&(ka.status="fulfilled");var t=Zo;Zo=null,Ia=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function kE(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var gg=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&IE(t,i),gg!==null&&gg(t,i)};var Ds=Be(null);function ff(){var t=Ds.current;return t!==null?t:We.pooledCache}function Yu(t,i){i===null?Qe(Ds,Ds.current):Qe(Ds,i.pool)}function vg(){var t=ff();return t===null?null:{parent:St._currentValue,pool:t}}var xr=0,xe=null,Ye=null,pt=null,Xu=!1,Na=!1,Os=!1,$u=0,Jo=0,Da=null,NE=0;function ht(){throw Error(s(321))}function df(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hn(t[a],i[a]))return!1;return!0}function mf(t,i,a,l,h,d){return xr=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?Ms:Ir,Os=!1,d=a(l,h),Os=!1,Na&&(d=_g(i,a,l,h)),yg(t),d}function yg(t){S.H=ui;var i=Ye!==null&&Ye.next!==null;if(xr=0,pt=Ye=xe=null,Xu=!1,Jo=0,Da=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&sc(t)&&(Ot=!0))}function _g(t,i,a,l){xe=t;var h=0;do{if(Na&&(Da=null),Jo=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,pt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=js,d=i(a,l)}while(Na);return d}function DE(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?el(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(xe.flags|=1024),i}function pf(){var t=$u!==0;return $u=0,t}function gf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function vf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}xr=0,pt=Ye=xe=null,Na=!1,Jo=$u=0,Da=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?xe.memoizedState=pt=t:pt=pt.next=t,pt}function gt(){if(Ye===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=pt===null?xe.memoizedState:pt.next;if(i!==null)pt=i,Ye=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},pt===null?xe.memoizedState=pt=t:pt=pt.next=t}return pt}var Wu;Wu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function el(t){var i=Jo;return Jo+=1,Da===null&&(Da=[]),t=lg(Da,t,i),i=xe,(pt===null?i.memoizedState:pt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Ms:Ir),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===j)return Gt(t)}throw Error(s(438,String(t)))}function yf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Wu(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ce;return i.index++,a}function Pi(t,i){return typeof i=="function"?i(t):i}function Ju(t){var i=gt();return _f(i,Ye,t)}function _f(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var w=E=null,R=null,V=i,$=!1;do{var ee=V.lane&-536870913;if(ee!==V.lane?(Le&ee)===ee:(xr&ee)===ee){var F=V.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ee===Ia&&($=!0);else if((xr&F)===F){V=V.next,F===Ia&&($=!0);continue}else ee={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(w=R=ee,E=d):R=R.next=ee,xe.lanes|=F,Lr|=F;ee=V.action,Os&&a(d,ee),d=V.hasEagerState?V.eagerState:a(d,ee)}else F={lane:ee,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(w=R=F,E=d):R=R.next=F,xe.lanes|=ee,Lr|=ee;V=V.next}while(V!==null&&V!==i);if(R===null?E=d:R.next=w,!hn(d,t.memoizedState)&&(Ot=!0,$&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ef(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);hn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Eg(t,i,a){var l=xe,h=gt(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!hn((Ye||h).memoizedState,a);if(E&&(h.memoizedState=a,Ot=!0),h=h.queue,Af(Ag.bind(null,l,h,t),[t]),h.getSnapshot!==i||E||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,wg.bind(null,l,h,a,i),{destroy:void 0},null),We===null)throw Error(s(349));d||(xr&60)!==0||Tg(l,i,a)}return a}function Tg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=Wu(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function wg(t,i,a,l){i.value=a,i.getSnapshot=l,Cg(i)&&Sg(t)}function Ag(t,i,a){return a(function(){Cg(i)&&Sg(t)})}function Cg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hn(t,a)}catch{return!0}}function Sg(t){var i=Sr(t,2);i!==null&&nn(i,t,2)}function Tf(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),Os){$n(!0);try{a()}finally{$n(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},i}function bg(t,i,a,l){return t.baseState=a,_f(t,Ye,typeof l=="function"?l:Pi)}function OE(t,i,a,l,h){if(nc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Rg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Rg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=S.T,E={};S.T=E;try{var w=a(h,l),R=S.S;R!==null&&R(E,w),xg(t,i,w)}catch(V){wf(t,i,V)}finally{S.T=d}}else try{d=a(h,l),xg(t,i,d)}catch(V){wf(t,i,V)}}function xg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ig(t,i,l)},function(l){return wf(t,i,l)}):Ig(t,i,a)}function Ig(t,i,a){i.status="fulfilled",i.value=a,kg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Rg(t,a)))}function wf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,kg(i),i=i.next;while(i!==l)}t.action=null}function kg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ng(t,i){return i}function Dg(t,i){if(He){var a=We.formState;if(a!==null){e:{var l=xe;if(He){if(Lt){t:{for(var h=Lt,d=oi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Lt=Gn(h.nextSibling),l=h.data==="F!";break e}}ks(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:i},a.queue=l,a=$g.bind(null,xe,l),l.dispatch=a,l=Tf(!1),d=xf.bind(null,xe,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=OE.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Og(t){var i=gt();return Mg(i,Ye,t)}function Mg(t,i,a){i=_f(t,i,Ng)[0],t=Ju(Pi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?el(i):i;var l=gt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,Oa(9,ME.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function ME(t,i){t.action=i}function jg(t){var i=gt(),a=Ye;if(a!==null)return Mg(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Oa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=xe.updateQueue,i===null&&(i=Wu(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Vg(){return gt().memoizedState}function ec(t,i,a,l){var h=an();xe.flags|=t,h.memoizedState=Oa(1|i,a,{destroy:void 0},l===void 0?null:l)}function tc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&df(l,Ye.memoizedState.deps)?h.memoizedState=Oa(i,a,d,l):(xe.flags|=t,h.memoizedState=Oa(1|i,a,d,l))}function Pg(t,i){ec(8390656,8,t,i)}function Af(t,i){tc(2048,8,t,i)}function Lg(t,i){return tc(4,2,t,i)}function Ug(t,i){return tc(4,4,t,i)}function Bg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function zg(t,i,a){a=a!=null?a.concat([t]):null,tc(4,4,Bg.bind(null,i,t),a)}function Cf(){}function Hg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&df(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function qg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&df(i,l[1]))return l[0];if(l=t(),Os){$n(!0);try{t()}finally{$n(!1)}}return a.memoizedState=[l,i],l}function Sf(t,i,a){return a===void 0||(xr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=G0(),xe.lanes|=t,Lr|=t,a)}function Fg(t,i,a,l){return hn(a,i)?a:xa.current!==null?(t=Sf(t,a,l),hn(t,i)||(Ot=!0),t):(xr&42)===0?(Ot=!0,t.memoizedState=a):(t=G0(),xe.lanes|=t,Lr|=t,i)}function Gg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var E=S.T,w={};S.T=w,xf(t,!1,i,a);try{var R=h(),V=S.S;if(V!==null&&V(w,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var $=kE(R,l);tl(t,i,$,pn(t))}else tl(t,i,l,pn(t))}catch(ee){tl(t,i,{then:function(){},status:"rejected",reason:ee},pn())}finally{ae.p=d,S.T=E}}function jE(){}function bf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Kg(t).queue;Gg(t,h,i,Re,a===null?jE:function(){return Qg(t),a(l)})}function Kg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:Re},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Qg(t){var i=Kg(t).next.queue;tl(t,i,{},pn())}function Rf(){return Gt(Tl)}function Yg(){return gt().memoizedState}function Xg(){return gt().memoizedState}function VE(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();t=Dr(a);var l=Or(i,t,a);l!==null&&(nn(l,i,a),rl(l,i,a)),i={cache:cf()},t.payload=i;return}i=i.return}}function PE(t,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?Wg(i,a):(a=nf(t,i,a,l),a!==null&&(nn(a,t,l),Zg(a,i,l)))}function $g(t,i,a){var l=pn();tl(t,i,a,l)}function tl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Wg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,w=d(E,a);if(h.hasEagerState=!0,h.eagerState=w,hn(w,E))return Uu(t,i,h,0),We===null&&Lu(),!1}catch{}finally{}if(a=nf(t,i,h,l),a!==null)return nn(a,t,l),Zg(a,i,l),!0}return!1}function xf(t,i,a,l){if(l={lane:2,revertLane:vd(),action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(i)throw Error(s(479))}else i=nf(t,a,l,2),i!==null&&nn(i,t,2)}function nc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function Wg(t,i){Na=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Zg(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,pr(t,a)}}var ui={readContext:Gt,use:Zu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht};ui.useCacheRefresh=ht,ui.useMemoCache=ht,ui.useHostTransitionStatus=ht,ui.useFormState=ht,ui.useActionState=ht,ui.useOptimistic=ht;var Ms={readContext:Gt,use:Zu,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Pg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ec(4194308,4,Bg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ec(4194308,4,t,i)},useInsertionEffect:function(t,i){ec(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(Os){$n(!0);try{t()}finally{$n(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var h=a(i);if(Os){$n(!0);try{a(i)}finally{$n(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=PE.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Tf(t);var i=t.queue,a=$g.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(t,i){var a=an();return Sf(a,t,i)},useTransition:function(){var t=Tf(!1);return t=Gg.bind(null,xe,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=an();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(Le&60)!==0||Tg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Pg(Ag.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,wg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=an(),i=We.identifierPrefix;if(He){var a=ji,l=Mi;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=$u++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=NE++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return an().memoizedState=VE.bind(null,xe)}};Ms.useMemoCache=yf,Ms.useHostTransitionStatus=Rf,Ms.useFormState=Dg,Ms.useActionState=Dg,Ms.useOptimistic=function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xf.bind(null,xe,!0,a),a.dispatch=i,[t,i]};var Ir={readContext:Gt,use:Zu,useCallback:Hg,useContext:Gt,useEffect:Af,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:qg,useReducer:Ju,useRef:Vg,useState:function(){return Ju(Pi)},useDebugValue:Cf,useDeferredValue:function(t,i){var a=gt();return Fg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Ju(Pi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:el(t),i]},useSyncExternalStore:Eg,useId:Yg};Ir.useCacheRefresh=Xg,Ir.useMemoCache=yf,Ir.useHostTransitionStatus=Rf,Ir.useFormState=Og,Ir.useActionState=Og,Ir.useOptimistic=function(t,i){var a=gt();return bg(a,Ye,t,i)};var js={readContext:Gt,use:Zu,useCallback:Hg,useContext:Gt,useEffect:Af,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:qg,useReducer:Ef,useRef:Vg,useState:function(){return Ef(Pi)},useDebugValue:Cf,useDeferredValue:function(t,i){var a=gt();return Ye===null?Sf(a,t,i):Fg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Ef(Pi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:el(t),i]},useSyncExternalStore:Eg,useId:Yg};js.useCacheRefresh=Xg,js.useMemoCache=yf,js.useHostTransitionStatus=Rf,js.useFormState=jg,js.useActionState=jg,js.useOptimistic=function(t,i){var a=gt();return Ye!==null?bg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])};function If(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var kf={isMounted:function(t){return(t=t._reactInternals)?me(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=pn(),h=Dr(l);h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(nn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=pn(),h=Dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(nn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=pn(),l=Dr(a);l.tag=2,i!=null&&(l.callback=i),i=Or(t,l,a),i!==null&&(nn(i,t,a),rl(i,t,a))}};function Jg(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!Ho(a,l)||!Ho(h,d):!0}function e0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&kf.enqueueReplaceState(i,i.state,null)}function Vs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function t0(t){ic(t)}function n0(t){console.error(t)}function i0(t){ic(t)}function rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function r0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,i,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(t,i)},a}function s0(t){return t=Dr(t),t.tag=3,t}function a0(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){r0(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){r0(i,a,l),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function LE(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&il(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return li===null?fd():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===of?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),md(t,l,h)),!1;case 22:return a.flags|=65536,l===of?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),md(t,l,h)),!1}throw Error(s(435,a.tag))}return md(t,l,h),fd(),!1}if(He)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==af&&(t=Error(s(422),{cause:l}),Ko(bn(t,a)))):(l!==af&&(i=Error(s(423),{cause:l}),Ko(bn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,a),h=Nf(t.stateNode,l,h),Kf(t,h),ot!==4&&(ot=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),fl===null?fl=[d]:fl.push(d),ot!==4&&(ot=2),i===null)return!0;l=bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Nf(a.stateNode,l,t),Kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=s0(h),a0(h,t,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var o0=Error(s(461)),Ot=!1;function Ut(t,i,a,l){i.child=t===null?fg(i,null,a,l):Ns(i,t.child,a,l)}function l0(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Ls(i),l=mf(t,i,a,E,d,h),w=pf(),t!==null&&!Ot?(gf(t,i,h),Li(t,i,h)):(He&&w&&rf(i),i.flags|=1,Ut(t,i,l,h),i.child)}function u0(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ed(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,c0(t,i,d,l,h)):(t=uc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Bf(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(E,l)&&t.ref===i.ref)return Li(t,i,h)}return i.flags|=1,t=Pr(d,l),t.ref=i.ref,t.return=i,i.child=t}function c0(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ho(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,Bf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,Li(t,i,h)}return Df(t,i,a,l,h)}function h0(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,E=t!==null?t.memoizedState:null;if(nl(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return f0(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,E!==null?E.cachePool:null),E!==null?dg(i,E):lf(),mg(i);else return i.lanes=i.childLanes=536870912,f0(t,i,E!==null?E.baseLanes|a:a,a)}else E!==null?(Yu(i,E.cachePool),dg(i,E),Rr(),i.memoizedState=null):(t!==null&&Yu(i,null),lf(),Rr());return Ut(t,i,h,a),i.child}function f0(t,i,a,l){var h=ff();return h=h===null?null:{parent:St._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Yu(i,null),lf(),mg(i),t!==null&&il(t,i,l,!0),null}function nl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Df(t,i,a,l,h){return Ls(i),a=mf(t,i,a,l,void 0,h),l=pf(),t!==null&&!Ot?(gf(t,i,h),Li(t,i,h)):(He&&l&&rf(i),i.flags|=1,Ut(t,i,a,h),i.child)}function d0(t,i,a,l,h,d){return Ls(i),i.updateQueue=null,a=_g(i,l,a,h),yg(t),l=pf(),t!==null&&!Ot?(gf(t,i,d),Li(t,i,d)):(He&&l&&rf(i),i.flags|=1,Ut(t,i,a,d),i.child)}function m0(t,i,a,l,h){if(Ls(i),i.stateNode===null){var d=Ca,E=a.contextType;typeof E=="object"&&E!==null&&(d=Gt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ff(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Gt(E):Ca,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(If(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&kf.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,R=Vs(a,w);d.props=R;var V=d.context,$=a.contextType;E=Ca,typeof $=="object"&&$!==null&&(E=Gt($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||V!==E)&&e0(i,d,l,E),Nr=!1;var F=i.memoizedState;d.state=F,al(i,l,d,h),sl(),V=i.memoizedState,w||F!==V||Nr?(typeof ee=="function"&&(If(i,a,ee,l),V=i.memoizedState),(R=Nr||Jg(i,a,R,l,F,V,E))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=V),d.props=l,d.state=V,d.context=E,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Gf(t,i),E=i.memoizedProps,$=Vs(a,E),d.props=$,ee=i.pendingProps,F=d.context,V=a.contextType,R=Ca,typeof V=="object"&&V!==null&&(R=Gt(V)),w=a.getDerivedStateFromProps,(V=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||F!==R)&&e0(i,d,l,R),Nr=!1,F=i.memoizedState,d.state=F,al(i,l,d,h),sl();var X=i.memoizedState;E!==ee||F!==X||Nr||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof w=="function"&&(If(i,a,w,l),X=i.memoizedState),($=Nr||Jg(i,a,$,l,F,X,R)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=R,l=$):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,nl(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ns(i,t.child,null,h),i.child=Ns(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Li(t,i,h),t}function p0(t,i,a,l){return Go(),i.flags|=256,Ut(t,i,a,l),i.child}var Of={dehydrated:null,treeContext:null,retryLane:0};function Mf(t){return{baseLanes:t,cachePool:vg()}}function jf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=On),t}function g0(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?br(i):Rr(),He){var w=Lt,R;if(R=w){e:{for(R=w,w=oi;R.nodeType!==8;){if(!w){w=null;break e}if(R=Gn(R.nextSibling),R===null){w=null;break e}}w=R}w!==null?(i.memoizedState={dehydrated:w,treeContext:xs!==null?{id:Mi,overflow:ji}:null,retryLane:536870912},R=Dn(18,null,null,0),R.stateNode=w,R.return=i,i.child=R,tn=i,Lt=null,R=!0):R=!1}R||ks(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;Vi(i)}return w=l.children,l=l.fallback,h?(Rr(),h=i.mode,w=Pf({mode:"hidden",children:w},h),l=Bs(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=Mf(a),h.childLanes=jf(t,E,a),i.memoizedState=Of,l):(br(i),Vf(i,w))}if(R=t.memoizedState,R!==null&&(w=R.dehydrated,w!==null)){if(d)i.flags&256?(br(i),i.flags&=-257,i=Lf(t,i,a)):i.memoizedState!==null?(Rr(),i.child=t.child,i.flags|=128,i=null):(Rr(),h=l.fallback,w=i.mode,l=Pf({mode:"visible",children:l.children},w),h=Bs(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ns(i,t.child,null,a),l=i.child,l.memoizedState=Mf(a),l.childLanes=jf(t,E,a),i.memoizedState=Of,i=h);else if(br(i),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var V=E.dgst;E=V,l=Error(s(419)),l.stack="",l.digest=E,Ko({value:l,source:null,stack:null}),i=Lf(t,i,a)}else if(Ot||il(t,i,a,!1),E=(a&t.childLanes)!==0,Ot||E){if(E=We,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,Sr(t,l),nn(E,t,l),o0}w.data==="$?"||fd(),i=Lf(t,i,a)}else w.data==="$?"?(i.flags|=128,i.child=t.child,i=JE.bind(null,t),w._reactRetry=i,i=null):(t=R.treeContext,Lt=Gn(w.nextSibling),tn=i,He=!0,qn=null,oi=!1,t!==null&&(Rn[xn++]=Mi,Rn[xn++]=ji,Rn[xn++]=xs,Mi=t.id,ji=t.overflow,xs=i),i=Vf(i,l.children),i.flags|=4096);return i}return h?(Rr(),h=l.fallback,w=i.mode,R=t.child,V=R.sibling,l=Pr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,V!==null?h=Pr(V,h):(h=Bs(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=t.child.memoizedState,w===null?w=Mf(a):(R=w.cachePool,R!==null?(V=St._currentValue,R=R.parent!==V?{parent:V,pool:V}:R):R=vg(),w={baseLanes:w.baseLanes|a,cachePool:R}),h.memoizedState=w,h.childLanes=jf(t,E,a),i.memoizedState=Of,l):(br(i),a=t.child,t=a.sibling,a=Pr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function Vf(t,i){return i=Pf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Pf(t,i){return H0(t,i,0,null)}function Lf(t,i,a){return Ns(i,t.child,null,a),t=Vf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function v0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Hf(t.return,i,a)}function Uf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function y0(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v0(t,a,i);else if(t.tag===19)v0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Uf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Uf(i,!0,a,null,d);break;case"together":Uf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(il(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Pr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Pr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Bf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function UE(t,i,a){switch(i.tag){case 3:ur(i,i.stateNode.containerInfo),kr(i,St,t.memoizedState.cache),Go();break;case 27:case 5:To(i);break;case 4:ur(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?g0(t,i,a):(br(i),t=Li(t,i,a),t!==null?t.sibling:null);br(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(il(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return y0(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,h0(t,i,a);case 24:kr(i,St,t.memoizedState.cache)}return Li(t,i,a)}function _0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!Bf(t,a)&&(i.flags&128)===0)return Ot=!1,UE(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,He&&(i.flags&1048576)!==0&&ig(i,Hu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")ed(l)?(t=Vs(l,t),i.tag=1,i=m0(null,i,l,t,a)):(i.tag=0,i=Df(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===L){i.tag=11,i=l0(null,i,l,t,a);break e}else if(h===K){i.tag=14,i=u0(null,i,l,t,a);break e}}throw i=b(l)||l,Error(s(306,i,""))}}return i;case 0:return Df(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Vs(l,i.pendingProps),m0(t,i,l,h,a);case 3:e:{if(ur(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Gf(t,i),al(i,d,null,a);var E=i.memoizedState;if(d=E.cache,kr(i,St,d),d!==h.cache&&qf(i,[St],a,!0),sl(),d=E.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=p0(t,i,d,a);break e}else if(d!==l){l=bn(Error(s(424)),i),Ko(l),i=p0(t,i,d,a);break e}else for(Lt=Gn(i.stateNode.containerInfo.firstChild),tn=i,He=!0,qn=null,oi=!0,a=fg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Go(),d===l){i=Li(t,i,a);break e}Ut(t,i,d,a)}i=i.child}return i;case 26:return nl(t,i),t===null?(a=w1(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=Tc(yn.current).createElement(a),l[kt]=i,l[Tt]=t,Bt(l,a,t),Je(l),i.stateNode=l):i.memoizedState=w1(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return To(i),t===null&&He&&(l=i.stateNode=_1(i.type,i.pendingProps,yn.current),tn=i,oi=!0,Lt=Gn(l.firstChild)),l=i.pendingProps.children,t!==null||He?Ut(t,i,l,a):i.child=Ns(i,null,l,a),nl(t,i),i.child;case 5:return t===null&&He&&((h=l=Lt)&&(l=pT(l,i.type,i.pendingProps,oi),l!==null?(i.stateNode=l,tn=i,Lt=Gn(l.firstChild),oi=!1,h=!0):h=!1),h||ks(i)),To(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,bd(h,d)?l=null:E!==null&&bd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=mf(t,i,DE,null,null,a),Tl._currentValue=h),nl(t,i),Ut(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=Lt)&&(a=gT(a,i.pendingProps,oi),a!==null?(i.stateNode=a,tn=i,Lt=null,t=!0):t=!1),t||ks(i)),null;case 13:return g0(t,i,a);case 4:return ur(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ns(i,null,l,a):Ut(t,i,l,a),i.child;case 11:return l0(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Ut(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ls(i),h=Gt(h),l=l(h),i.flags|=1,Ut(t,i,l,a),i.child;case 14:return u0(t,i,i.type,i.pendingProps,a);case 15:return c0(t,i,i.type,i.pendingProps,a);case 19:return y0(t,i,a);case 22:return h0(t,i,a);case 24:return Ls(i),l=Gt(St),t===null?(h=ff(),h===null&&(h=We,d=cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Ff(i),kr(i,St,h)):((t.lanes&a)!==0&&(Gf(t,i),al(i,null,null,a),sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,St,l)):(l=d.cache,kr(i,St,l),l!==h.cache&&qf(i,[St],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var zf=Be(null),Ps=null,Ui=null;function kr(t,i,a){Qe(zf,i._currentValue),i._currentValue=a}function Bi(t){t._currentValue=zf.current,rt(zf)}function Hf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function qf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var R=0;R<i.length;R++)if(w.context===i[R]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Hf(d.return,a,t),l||(E=null);break e}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Hf(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function il(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=h.type;hn(h.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(h===lr.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&qf(i,t,a,l),i.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ls(t){Ps=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return E0(Ps,t)}function ac(t,i){return Ps===null&&Ls(t),E0(t,i)}function E0(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ui=Ui.next=i;return a}var Nr=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Dr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),tg(t,null,a),i}return Uu(t,l,i,a),Bu(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,pr(t,a)}}function Kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Qf=!1;function sl(){if(Qf){var t=ka;if(t!==null)throw t}}function al(t,i,a,l){Qf=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,V=R.next;R.next=null,E===null?d=V:E.next=V,E=R;var $=t.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==E&&(w===null?$.firstBaseUpdate=V:w.next=V,$.lastBaseUpdate=R))}if(d!==null){var ee=h.baseState;E=0,$=V=R=null,w=d;do{var F=w.lane&-536870913,X=F!==w.lane;if(X?(Le&F)===F:(l&F)===F){F!==0&&F===Ia&&(Qf=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=t,Ae=w;F=i;var lt=a;switch(Ae.tag){case 1:if(he=Ae.payload,typeof he=="function"){ee=he.call(lt,ee,F);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ae.payload,F=typeof he=="function"?he.call(lt,ee,F):he,F==null)break e;ee=I({},ee,F);break e;case 2:Nr=!0}}F=w.callback,F!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[F]:X.push(F))}else X={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(V=$=X,R=ee):$=$.next=X,E|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;X=w,w=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);$===null&&(R=ee),h.baseState=R,h.firstBaseUpdate=V,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Lr|=E,t.lanes=E,t.memoizedState=ee}}function T0(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function w0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)T0(a[t],i)}function ol(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){$e(i,i.return,w)}}function Mr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=i;var R=a;try{w()}catch(V){$e(h,R,V)}}}l=l.next}while(l!==d)}}catch(V){$e(i,i.return,V)}}function A0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{w0(i,a)}catch(l){$e(t,t.return,l)}}}function C0(t,i,a){a.props=Vs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function Us(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){$e(t,i,d)}}function fn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function S0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function b0(t,i,a){try{var l=t.stateNode;cT(l,t.type,a,i),l[Tt]=i}catch(h){$e(t,t.return,h)}}function R0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ec));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Xf(t,i,a),t=t.sibling;t!==null;)Xf(t,i,a),t=t.sibling}function oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(oc(t,i,a),t=t.sibling;t!==null;)oc(t,i,a),t=t.sibling}var zi=!1,at=!1,$f=!1,x0=typeof WeakSet=="function"?WeakSet:Set,Mt=null,I0=!1;function BE(t,i){if(t=t.containerInfo,Cd=Rc,t=Kp(t),Wh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,R=-1,V=0,$=0,ee=t,F=null;t:for(;;){for(var X;ee!==a||h!==0&&ee.nodeType!==3||(w=E+h),ee!==d||l!==0&&ee.nodeType!==3||(R=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(X=ee.firstChild)!==null;)F=ee,ee=X;for(;;){if(ee===t)break t;if(F===a&&++V===h&&(w=E),F===d&&++$===l&&(R=E),(X=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=X}a=w===-1||R===-1?null:{start:w,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:t,selectionRange:a},Rc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Vs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){$e(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Id(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}return he=I0,I0=!1,he}function k0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(t,a),l&4&&ol(5,a);break;case 1:if(qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(w){$e(a,a.return,w)}else{var h=Vs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){$e(a,a.return,w)}}l&64&&A0(a),l&512&&Us(a,a.return);break;case 3:if(qi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{w0(l,t)}catch(w){$e(a,a.return,w)}}break;case 26:qi(t,a),l&512&&Us(a,a.return);break;case 27:case 5:qi(t,a),i===null&&l&4&&S0(a),l&512&&Us(a,a.return);break;case 12:qi(t,a);break;case 13:qi(t,a),l&4&&O0(t,a);break;case 22:if(h=a.memoizedState!==null||zi,!h){i=i!==null&&i.memoizedState!==null||at;var d=zi,E=at;zi=h,(at=i)&&!E?jr(t,a,(a.subtreeFlags&8772)!==0):qi(t,a),zi=d,at=E}l&512&&(a.memoizedProps.mode==="manual"?Us(a,a.return):fn(a,a.return));break;default:qi(t,a)}}function N0(t){var i=t.alternate;i!==null&&(t.alternate=null,N0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ps(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,dn=!1;function Hi(t,i,a){for(a=a.child;a!==null;)D0(t,i,a),a=a.sibling}function D0(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(cr,a)}catch{}switch(a.tag){case 26:at||fn(a,i),Hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||fn(a,i);var l=vt,h=dn;for(vt=a.stateNode,Hi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ps(a),vt=l,dn=h;break;case 5:at||fn(a,i);case 6:h=vt;var d=dn;if(vt=null,Hi(t,i,a),vt=h,dn=d,vt!==null)if(dn)try{t=vt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(E){$e(a,i,E)}else try{vt.removeChild(a.stateNode)}catch(E){$e(a,i,E)}break;case 18:vt!==null&&(dn?(i=vt,a=a.stateNode,i.nodeType===8?xd(i.parentNode,a):i.nodeType===1&&xd(i,a),Sl(i)):xd(vt,a.stateNode));break;case 4:l=vt,h=dn,vt=a.stateNode.containerInfo,dn=!0,Hi(t,i,a),vt=l,dn=h;break;case 0:case 11:case 14:case 15:at||Mr(2,a,i),at||Mr(4,a,i),Hi(t,i,a);break;case 1:at||(fn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&C0(a,i,l)),Hi(t,i,a);break;case 21:Hi(t,i,a);break;case 22:at||fn(a,i),at=(l=at)||a.memoizedState!==null,Hi(t,i,a),at=l;break;default:Hi(t,i,a)}}function O0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sl(t)}catch(a){$e(i,i.return,a)}}function zE(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new x0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new x0),i;default:throw Error(s(435,t.tag))}}function Wf(t,i){var a=zE(t);i.forEach(function(l){var h=eT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function kn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:case 5:vt=w.stateNode,dn=!1;break e;case 3:vt=w.stateNode.containerInfo,dn=!0;break e;case 4:vt=w.stateNode.containerInfo,dn=!0;break e}w=w.return}if(vt===null)throw Error(s(160));D0(d,E,h),vt=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)M0(i,t),i=i.sibling}var Fn=null;function M0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:kn(i,t),Nn(t),l&4&&(Mr(3,t,t.return),ol(3,t),Mr(5,t,t.return));break;case 1:kn(i,t),Nn(t),l&512&&(at||a===null||fn(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(kn(i,t),Nn(t),l&512&&(at||a===null||fn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vr]||d[kt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[kt]=t,Je(d),l=d;break e;case"link":var E=S1("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=S1("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[kt]=t,Je(d),l=d}t.stateNode=l}else b1(h,t.type,t.stateNode);else t.stateNode=C1(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?b1(h,t.type,t.stateNode):C1(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&b0(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var R=h.firstChild;R;){var V=R.nextSibling,$=R.nodeName;R[vr]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=V}for(var ee=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);Bt(h,ee,d),h[kt]=t,h[Tt]=d}catch(he){$e(t,t.return,he)}}case 5:if(kn(i,t),Nn(t),l&512&&(at||a===null||fn(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(he){$e(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,b0(t,h,a!==null?a.memoizedProps:h)),l&1024&&($f=!0);break;case 6:if(kn(i,t),Nn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){$e(t,t.return,he)}}break;case 3:if(Cc=null,h=Fn,Fn=wc(i.containerInfo),kn(i,t),Fn=h,Nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(i.containerInfo)}catch(he){$e(t,t.return,he)}$f&&($f=!1,j0(t));break;case 4:l=Fn,Fn=wc(t.stateNode.containerInfo),kn(i,t),Nn(t),Fn=l;break;case 12:kn(i,t),Nn(t);break;case 13:kn(i,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ad=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wf(t,l)));break;case 22:if(l&512&&(at||a===null||fn(a,a.return)),R=t.memoizedState!==null,V=a!==null&&a.memoizedState!==null,$=zi,ee=at,zi=$||R,at=ee||V,kn(i,t),at=ee,zi=$,Nn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=zi||at,a===null||V||i||Ma(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){V=a=i;try{if(h=V.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{E=V.stateNode,w=V.memoizedProps.style;var X=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(he){$e(V,V.return,he)}}}else if(i.tag===6){if(a===null){V=i;try{V.stateNode.nodeValue=R?"":V.memoizedProps}catch(he){$e(V,V.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wf(t,a))));break;case 19:kn(i,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wf(t,l)));break;case 21:break;default:kn(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(R0(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Yf(t);oc(t,d,h);break;case 5:var E=l.stateNode;l.flags&32&&(Tn(E,""),l.flags&=-33);var w=Yf(t);oc(t,w,E);break;case 3:case 4:var R=l.stateNode.containerInfo,V=Yf(t);Xf(t,V,R);break;default:throw Error(s(161))}}}catch($){$e(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function j0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;j0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)k0(t,i.alternate,i),i=i.sibling}function Ma(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Ma(i);break;case 1:fn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&C0(i,i.return,a),Ma(i);break;case 26:case 27:case 5:fn(i,i.return),Ma(i);break;case 22:fn(i,i.return),i.memoizedState===null&&Ma(i);break;default:Ma(i)}t=t.sibling}}function jr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:jr(h,d,a),ol(4,d);break;case 1:if(jr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){$e(l,l.return,V)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)T0(R[h],w)}catch(V){$e(l,l.return,V)}}a&&E&64&&A0(d),Us(d,d.return);break;case 26:case 27:case 5:jr(h,d,a),a&&l===null&&E&4&&S0(d),Us(d,d.return);break;case 12:jr(h,d,a);break;case 13:jr(h,d,a),a&&E&4&&O0(h,d);break;case 22:d.memoizedState===null&&jr(h,d,a),Us(d,d.return);break;default:jr(h,d,a)}i=i.sibling}}function Zf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function Jf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t))}function Vr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)V0(t,i,a,l),i=i.sibling}function V0(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Vr(t,i,a,l),h&2048&&ol(9,i);break;case 3:Vr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){Vr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$e(i,i.return,R)}}else Vr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Vr(t,i,a,l):ll(t,i):d._visibility&4?Vr(t,i,a,l):(d._visibility|=4,ja(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Zf(i.alternate,i);break;case 24:Vr(t,i,a,l),h&2048&&Jf(i.alternate,i);break;default:Vr(t,i,a,l)}}function ja(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,w=a,R=l,V=E.flags;switch(E.tag){case 0:case 11:case 15:ja(d,E,w,R,h),ol(8,E);break;case 23:break;case 22:var $=E.stateNode;E.memoizedState!==null?$._visibility&4?ja(d,E,w,R,h):ll(d,E):($._visibility|=4,ja(d,E,w,R,h)),h&&V&2048&&Zf(E.alternate,E);break;case 24:ja(d,E,w,R,h),h&&V&2048&&Jf(E.alternate,E);break;default:ja(d,E,w,R,h)}i=i.sibling}}function ll(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&Zf(l.alternate,l);break;case 24:ll(a,l),h&2048&&Jf(l.alternate,l);break;default:ll(a,l)}i=i.sibling}}var ul=8192;function Va(t){if(t.subtreeFlags&ul)for(t=t.child;t!==null;)P0(t),t=t.sibling}function P0(t){switch(t.tag){case 26:Va(t),t.flags&ul&&t.memoizedState!==null&&IT(Fn,t.memoizedState,t.memoizedProps);break;case 5:Va(t);break;case 3:case 4:var i=Fn;Fn=wc(t.stateNode.containerInfo),Va(t),Fn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ul,ul=16777216,Va(t),ul=i):Va(t));break;default:Va(t)}}function L0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,B0(l,t)}L0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)U0(t),t=t.sibling}function U0(t){switch(t.tag){case 0:case 11:case 15:cl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:cl(t);break;case 12:cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,lc(t)):cl(t);break;default:cl(t)}}function lc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,B0(l,t)}L0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),lc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,lc(i));break;default:lc(i)}t=t.sibling}}function B0(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(N0(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}function HE(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,i,a,l){return new HE(t,i,a,l)}function ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pr(t,i){var a=t.alternate;return a===null?(a=Dn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function z0(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function uc(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")ed(t)&&(E=1);else if(typeof t=="string")E=RT(t,a,Wt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Bs(a.children,h,d,i);case y:E=8,h|=24;break;case T:return t=Dn(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case Y:return t=Dn(13,a,i,h),t.elementType=Y,t.lanes=d,t;case q:return t=Dn(19,a,i,h),t.elementType=q,t.lanes=d,t;case W:return H0(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:case j:E=10;break e;case x:E=9;break e;case L:E=11;break e;case K:E=14;break e;case Q:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Dn(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Bs(t,i,a,l){return t=Dn(7,t,l,i),t.lanes=a,t}function H0(t,i,a,l){t=Dn(22,t,l,i),t.elementType=W,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var E=Sr(d,2);E!==null&&(h._pendingVisibility|=2,nn(E,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var E=Sr(d,2);E!==null&&(h._pendingVisibility&=-3,nn(E,d,2))}}};return t.stateNode=h,t}function td(t,i,a){return t=Dn(6,t,null,i),t.lanes=a,t}function nd(t,i,a){return i=Dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Fi(t){t.flags|=4}function q0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R1(i)){if(i=In.current,i!==null&&((Le&4194176)===Le?li!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==li))throw Yo=of,ag;t.flags|=8192}}function cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?dr():536870912,t.lanes|=i,La|=i)}function hl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function et(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function qE(t,i,a){var l=i.pendingProps;switch(sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(i),null;case 1:return et(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(St),Ai(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fo(i)?Fi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qn!==null&&(cd(qn),qn=null))),et(i),null;case 26:return a=i.memoizedState,t===null?(Fi(i),a!==null?(et(i),q0(i,a)):(et(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Fi(i),et(i),q0(i,a)):(et(i),i.flags&=-16777217):(t.memoizedProps!==l&&Fi(i),et(i),i.flags&=-16777217),null;case 27:ia(i),a=yn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return et(i),null}t=Wt.current,Fo(i)?rg(i):(t=_1(h,l,a),i.stateNode=t,Fi(i))}return et(i),null;case 5:if(ia(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return et(i),null}if(t=Wt.current,Fo(i))rg(i);else{switch(h=Tc(yn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[kt]=i,t[Tt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fi(i)}}return et(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=yn.current,Fo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[kt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||d1(t.nodeValue,a)),t||ks(i)}else t=Tc(t).createTextNode(l),t[kt]=i,i.stateNode=t}return et(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Fo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[kt]=i}else Go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;et(i),h=!1}else qn!==null&&(cd(qn),qn=null),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),et(i),null;case 4:return Ai(),t===null&&Td(i.stateNode.containerInfo),et(i),null;case 10:return Bi(i.type),et(i),null;case 19:if(rt(Ct),h=i.memoizedState,h===null)return et(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)hl(h,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Qu(t),d!==null){for(i.flags|=128,hl(h,!1),t=d.updateQueue,i.updateQueue=t,cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)z0(a,t),a=a.sibling;return Qe(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&rn()>hc&&(i.flags|=128,l=!0,hl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Qu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,cc(i,t),hl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return et(i),null}else 2*rn()-h.renderingStartTime>hc&&a!==536870912&&(i.flags|=128,l=!0,hl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,t=Ct.current,Qe(Ct,l?t&1|2:t&1),i):(et(i),null);case 22:case 23:return Vi(i),uf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(et(i),i.subtreeFlags&6&&(i.flags|=8192)):et(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&rt(Ds),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(St),et(i),null;case 25:return null}throw Error(s(156,i.tag))}function FE(t,i){switch(sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bi(St),Ai(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 13:if(Vi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Go()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return rt(Ct),null;case 4:return Ai(),null;case 10:return Bi(i.type),null;case 22:case 23:return Vi(i),uf(),t!==null&&rt(Ds),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bi(St),null;case 25:return null;default:return null}}function F0(t,i){switch(sf(i),i.tag){case 3:Bi(St),Ai();break;case 26:case 27:case 5:ia(i);break;case 4:Ai();break;case 13:Vi(i);break;case 19:rt(Ct);break;case 10:Bi(i.type);break;case 22:case 23:Vi(i),uf(),t!==null&&rt(Ds);break;case 24:Bi(St)}}var GE={getCacheForType:function(t){var i=Gt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},KE=typeof WeakMap=="function"?WeakMap:Map,tt=0,We=null,ke=null,Le=0,Ze=0,mn=null,Gi=!1,Pa=!1,id=!1,Ki=0,ot=0,Lr=0,zs=0,rd=0,On=0,La=0,fl=null,ci=null,sd=!1,ad=0,hc=1/0,fc=null,Ur=null,dc=!1,Hs=null,dl=0,od=0,ld=null,ml=0,ud=null;function pn(){if((tt&2)!==0&&Le!==0)return Le&-Le;if(S.T!==null){var t=Ia;return t!==0?t:vd()}return _u()}function G0(){On===0&&(On=(Le&536870912)===0||He?bo():536870912);var t=In.current;return t!==null&&(t.flags|=32),On}function nn(t,i,a){(t===We&&Ze===2||t.cancelPendingCommit!==null)&&(Ua(t,0),Qi(t,Le,On,!1)),ct(t,a),((tt&2)===0||t!==We)&&(t===We&&((tt&2)===0&&(zs|=a),ot===4&&Qi(t,Le,On,!1)),hi(t))}function K0(t,i,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||fr(t,i),h=l?XE(t,i):dd(t,i,!0),d=l;do{if(h===0){Pa&&!l&&Qi(t,i,0,!1);break}else if(h===6)Qi(t,i,0,!Gi);else{if(a=t.current.alternate,d&&!QE(a)){h=dd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=t;h=fl;var R=w.current.memoizedState.isDehydrated;if(R&&(Ua(w,E).flags|=256),E=dd(w,E,!1),E!==2){if(id&&!R){w.errorRecoveryDisabledLanes|=d,zs|=d,h=4;break e}d=ci,ci=h,d!==null&&cd(d)}h=E}if(d=!1,h!==2)continue}}if(h===1){Ua(t,0),Qi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Qi(l,i,On,!Gi);break e}break;case 2:ci=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=ad+300-rn(),10<d)){if(Qi(l,i,On,!Gi),_n(l,0)!==0)break e;l.timeoutHandle=g1(Q0.bind(null,l,a,ci,fc,sd,i,On,zs,La,Gi,2,-0,0),d);break e}Q0(l,a,ci,fc,sd,i,On,zs,La,Gi,0,-0,0)}}break}while(!0);hi(t)}function cd(t){ci===null?ci=t:ci.push.apply(ci,t)}function Q0(t,i,a,l,h,d,E,w,R,V,$,ee,F){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:xT},P0(i),i=kT(),i!==null)){t.cancelPendingCommit=i(e1.bind(null,t,a,l,h,E,w,R,1,ee,F)),Qi(t,d,E,!V);return}e1(t,a,l,h,E,w,R,$,ee,F)}function QE(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qi(t,i,a,l){i&=~rd,i&=~zs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Zt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&mr(t,a,i)}function mc(){return(tt&6)===0?(pl(0),!1):!0}function hd(){if(ke!==null){if(Ze===0)var t=ke.return;else t=ke,Ui=Ps=null,vf(t),Ra=null,Xo=0,t=ke;for(;t!==null;)F0(t.alternate,t),t=t.return;ke=null}}function Ua(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hd(),We=t,ke=a=Pr(t.current,null),Le=i,Ze=0,mn=null,Gi=!1,Pa=fr(t,i),id=!1,La=On=rd=zs=Lr=ot=0,ci=fl=null,sd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Zt(l),d=1<<h;i|=t[h],l&=~d}return Ki=i,Lu(),a}function Y0(t,i){xe=null,S.H=ui,i===Qo?(i=ug(),Ze=3):i===ag?(i=ug(),Ze=4):Ze=i===o0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,ke===null&&(ot=1,rc(t,bn(i,t.current)))}function X0(){var t=S.H;return S.H=ui,t===null?ui:t}function $0(){var t=S.A;return S.A=GE,t}function fd(){ot=4,Gi||(Le&4194176)!==Le&&In.current!==null||(Pa=!0),(Lr&134217727)===0&&(zs&134217727)===0||We===null||Qi(We,Le,On,!1)}function dd(t,i,a){var l=tt;tt|=2;var h=X0(),d=$0();(We!==t||Le!==i)&&(fc=null,Ua(t,i)),i=!1;var E=ot;e:do try{if(Ze!==0&&ke!==null){var w=ke,R=mn;switch(Ze){case 8:hd(),E=6;break e;case 3:case 2:case 6:In.current===null&&(i=!0);var V=Ze;if(Ze=0,mn=null,Ba(t,w,R,V),a&&Pa){E=0;break e}break;default:V=Ze,Ze=0,mn=null,Ba(t,w,R,V)}}YE(),E=ot;break}catch($){Y0(t,$)}while(!0);return i&&t.shellSuspendCounter++,Ui=Ps=null,tt=l,S.H=h,S.A=d,ke===null&&(We=null,Le=0,Lu()),E}function YE(){for(;ke!==null;)W0(ke)}function XE(t,i){var a=tt;tt|=2;var l=X0(),h=$0();We!==t||Le!==i?(fc=null,hc=rn()+500,Ua(t,i)):Pa=fr(t,i);e:do try{if(Ze!==0&&ke!==null){i=ke;var d=mn;t:switch(Ze){case 1:Ze=0,mn=null,Ba(t,i,d,1);break;case 2:if(og(d)){Ze=0,mn=null,Z0(i);break}i=function(){Ze===2&&We===t&&(Ze=7),hi(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:og(d)?(Ze=0,mn=null,Z0(i)):(Ze=0,mn=null,Ba(t,i,d,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var w=ke;if(!E||R1(E)){Ze=0,mn=null;var R=w.sibling;if(R!==null)ke=R;else{var V=w.return;V!==null?(ke=V,pc(V)):ke=null}break t}}Ze=0,mn=null,Ba(t,i,d,5);break;case 6:Ze=0,mn=null,Ba(t,i,d,6);break;case 8:hd(),ot=6;break e;default:throw Error(s(462))}}$E();break}catch($){Y0(t,$)}while(!0);return Ui=Ps=null,S.H=l,S.A=h,tt=a,ke!==null?0:(We=null,Le=0,Lu(),ot)}function $E(){for(;ke!==null&&!Bh();)W0(ke)}function W0(t){var i=_0(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?pc(t):ke=i}function Z0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=d0(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=d0(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:vf(i);default:F0(a,i),i=ke=z0(i,Ki),i=_0(a,i,Ki)}t.memoizedProps=t.pendingProps,i===null?pc(t):ke=i}function Ba(t,i,a,l){Ui=Ps=null,vf(i),Ra=null,Xo=0;var h=i.return;try{if(LE(t,h,i,a,Le)){ot=1,rc(t,bn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;ot=1,rc(t,bn(a,t.current)),ke=null;return}i.flags&32768?(He||l===1?t=!0:Pa||(Le&536870912)!==0?t=!1:(Gi=t=!0,(l===2||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),J0(i,t)):pc(i)}function pc(t){var i=t;do{if((i.flags&32768)!==0){J0(i,Gi);return}t=i.return;var a=qE(i.alternate,i,Ki);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);ot===0&&(ot=5)}function J0(t,i){do{var a=FE(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);ot=6,ke=null}function e1(t,i,a,l,h,d,E,w,R,V){var $=S.T,ee=ae.p;try{ae.p=2,S.T=null,WE(t,i,a,l,ee,h,d,E,w,R,V)}finally{S.T=$,ae.p=ee}}function WE(t,i,a,l,h,d,E,w){do za();while(Hs!==null);if((tt&6)!==0)throw Error(s(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var V=R.lanes|R.childLanes;if(V|=tf,vu(t,l,V,d,E,w),t===We&&(ke=We=null,Le=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||dc||(dc=!0,od=V,ld=a,tT(Ci,function(){return za(),null})),a=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=ae.p,ae.p=2,E=tt,tt|=4,BE(t,R),M0(R,t),TE(Sd,t.containerInfo),Rc=!!Cd,Sd=Cd=null,t.current=R,k0(t,R.alternate,R),wo(),tt=E,ae.p=d,S.T=a):t.current=R,dc?(dc=!1,Hs=t,dl=l):t1(t,V),V=t.pendingLanes,V===0&&(Ur=null),Co(R.stateNode),hi(t),i!==null)for(h=t.onRecoverableError,R=0;R<i.length;R++)V=i[R],h(V.value,{componentStack:V.stack});return(dl&3)!==0&&za(),V=t.pendingLanes,(l&4194218)!==0&&(V&42)!==0?t===ud?ml++:(ml=0,ud=t):ml=0,pl(0),null}function t1(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Wo(i)))}function za(){if(Hs!==null){var t=Hs,i=od;od=0;var a=yu(dl),l=S.T,h=ae.p;try{if(ae.p=32>a?32:a,S.T=null,Hs===null)var d=!1;else{a=ld,ld=null;var E=Hs,w=dl;if(Hs=null,dl=0,(tt&6)!==0)throw Error(s(331));var R=tt;if(tt|=4,U0(E.current),V0(E,E.current,w,a),tt=R,pl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(cr,E)}catch{}d=!0}return d}finally{ae.p=h,S.T=l,t1(t,i)}}return!1}function n1(t,i,a){i=bn(a,i),i=Nf(t.stateNode,i,2),t=Or(t,i,2),t!==null&&(ct(t,2),hi(t))}function $e(t,i,a){if(t.tag===3)n1(t,t,a);else for(;i!==null;){if(i.tag===3){n1(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){t=bn(a,t),a=s0(2),l=Or(i,a,2),l!==null&&(a0(a,l,i,t),ct(l,2),hi(l));break}}i=i.return}}function md(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new KE;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(id=!0,h.add(a),t=ZE.bind(null,t,i,a),i.then(t,t))}function ZE(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(Le&a)===a&&(ot===4||ot===3&&(Le&62914560)===Le&&300>rn()-ad?(tt&2)===0&&Ua(t,0):rd|=a,La===Le&&(La=0)),hi(t)}function i1(t,i){i===0&&(i=dr()),t=Sr(t,i),t!==null&&(ct(t,i),hi(t))}function JE(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),i1(t,a)}function eT(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),i1(t,a)}function tT(t,i){return fs(t,i)}var gc=null,Ha=null,pd=!1,vc=!1,gd=!1,qs=0;function hi(t){t!==Ha&&t.next===null&&(Ha===null?gc=Ha=t:Ha=Ha.next=t),vc=!0,pd||(pd=!0,iT(nT))}function pl(t,i){if(!gd&&vc){gd=!0;do for(var a=!1,l=gc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=h&~(E&~w),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,a1(l,d))}else d=Le,d=_n(l,l===We?d:0),(d&3)===0||fr(l,d)||(a=!0,a1(l,d));l=l.next}while(a);gd=!1}}function nT(){vc=pd=!1;var t=0;qs!==0&&(hT()&&(t=qs),qs=0);for(var i=rn(),a=null,l=gc;l!==null;){var h=l.next,d=r1(l,i);d===0?(l.next=null,a===null?gc=h:a.next=h,h===null&&(Ha=a)):(a=l,(t!==0||(d&3)!==0)&&(vc=!0)),l=h}pl(t)}function r1(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Zt(d),w=1<<E,R=h[E];R===-1?((w&a)===0||(w&l)!==0)&&(h[E]=aa(w,i)):R<=i&&(t.expiredLanes|=w),d&=~w}if(i=We,a=Le,a=_n(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&Ze===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&sa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&sa(l),yu(a)){case 2:case 8:a=It;break;case 32:a=Ci;break;case 268435456:a=Ao;break;default:a=Ci}return l=s1.bind(null,t),a=fs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&sa(l),t.callbackPriority=2,t.callbackNode=null,2}function s1(t,i){var a=t.callbackNode;if(za()&&t.callbackNode!==a)return null;var l=Le;return l=_n(t,t===We?l:0),l===0?null:(K0(t,l,i),r1(t,rn()),t.callbackNode!=null&&t.callbackNode===a?s1.bind(null,t):null)}function a1(t,i){if(za())return null;K0(t,i,!0)}function iT(t){dT(function(){(tt&6)!==0?fs(Et,t):t()})}function vd(){return qs===0&&(qs=bo()),qs}function o1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ei(""+t)}function l1(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function rT(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=o1((h[Tt]||null).action),E=l.submitter;E&&(i=(i=E[Tt]||null)?o1(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var w=new da("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var R=E?l1(h,E):new FormData(h);bf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(w.preventDefault(),R=E?l1(h,E):new FormData(h),bf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var yd=0;yd<eg.length;yd++){var _d=eg[yd],sT=_d.toLowerCase(),aT=_d[0].toUpperCase()+_d.slice(1);Hn(sT,"on"+aT)}Hn(Xp,"onAnimationEnd"),Hn($p,"onAnimationIteration"),Hn(Wp,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(AE,"onTransitionRun"),Hn(CE,"onTransitionStart"),Hn(SE,"onTransitionCancel"),Hn(Zp,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function u1(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],R=w.instance,V=w.currentTarget;if(w=w.listener,R!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=V;try{d(h)}catch($){ic($)}h.currentTarget=null,d=R}else for(E=0;E<l.length;E++){if(w=l[E],R=w.instance,V=w.currentTarget,w=w.listener,R!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=V;try{d(h)}catch($){ic($)}h.currentTarget=null,d=R}}}}function Oe(t,i){var a=i[ms];a===void 0&&(a=i[ms]=new Set);var l=t+"__bubble";a.has(l)||(c1(i,t,2,!1),a.add(l))}function Ed(t,i,a){var l=0;i&&(l|=4),c1(a,t,l,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[yc]){t[yc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(oT.has(a)||Ed(a,!1,t),Ed(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[yc]||(i[yc]=!0,Ed("selectionchange",!1,i))}}function c1(t,i,a,l){switch(O1(i)){case 2:var h=OT;break;case 8:h=MT;break;default:h=Md}a=h.bind(null,i,a,t),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function wd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(E===4)for(E=l.return;E!==null;){var R=E.tag;if((R===3||R===4)&&(R=E.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;E=E.return}for(;w!==null;){if(E=zn(w),E===null)return;if(R=E.tag,R===5||R===6||R===26||R===27){l=d=E;continue e}w=w.parentNode}}l=l.return}Au(function(){var V=d,$=fa(a),ee=[];e:{var F=Jp.get(t);if(F!==void 0){var X=da,he=t;switch(t){case"keypress":if(ni(a)===0)break e;case"keydown":case"keyup":X=_a;break;case"focusin":he="focus",X=ga;break;case"focusout":he="blur",X=ga;break;case"beforeblur":case"afterblur":X=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Nu;break;case Xp:case $p:case Wp:X=va;break;case Zp:X=Ou;break;case"scroll":case"scrollend":X=Cu;break;case"wheel":X=Ea;break;case"copy":case"cut":case"paste":X=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Bo;break;case"toggle":case"beforetoggle":X=ju}var Ae=(i&4)!==0,lt=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?F!==null?F+"Capture":null:F;Ae=[];for(var O=V,H;O!==null;){var Z=O;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||U===null||(Z=_s(O,U),Z!=null&&Ae.push(vl(O,Z,H))),lt)break;O=O.return}0<Ae.length&&(F=new X(F,he,null,a,$),ee.push({event:F,listeners:Ae}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",F&&a!==wn&&(he=a.relatedTarget||a.fromElement)&&(zn(he)||he[Si]))break e;if((X||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,X?(he=a.relatedTarget||a.toElement,X=V,he=he?zn(he):null,he!==null&&(lt=me(he),Ae=he.tag,he!==lt||Ae!==5&&Ae!==27&&Ae!==6)&&(he=null)):(X=null,he=V),X!==he)){if(Ae=Cn,Z="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Bo,Z="onPointerLeave",U="onPointerEnter",O="pointer"),lt=X==null?F:yr(X),H=he==null?F:yr(he),F=new Ae(Z,O+"leave",X,a,$),F.target=lt,F.relatedTarget=H,Z=null,zn($)===V&&(Ae=new Ae(U,O+"enter",he,a,$),Ae.target=H,Ae.relatedTarget=lt,Z=Ae),lt=Z,X&&he)t:{for(Ae=X,U=he,O=0,H=Ae;H;H=qa(H))O++;for(H=0,Z=U;Z;Z=qa(Z))H++;for(;0<O-H;)Ae=qa(Ae),O--;for(;0<H-O;)U=qa(U),H--;for(;O--;){if(Ae===U||U!==null&&Ae===U.alternate)break t;Ae=qa(Ae),U=qa(U)}Ae=null}else Ae=null;X!==null&&h1(ee,F,X,Ae,!1),he!==null&&lt!==null&&h1(ee,lt,he,Ae,!0)}}e:{if(F=V?yr(V):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var ue=Lp;else if(At(F))if(Up)ue=_E;else{ue=vE;var Ie=gE}else X=F.nodeName,!X||X.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?V&&Oo(V.elementType)&&(ue=Lp):ue=yE;if(ue&&(ue=ue(t,V))){Oi(ee,ue,a,$);break e}Ie&&Ie(t,F,V),t==="focusout"&&V&&F.type==="number"&&V.memoizedProps.value!=null&&ha(F,"number",F.value)}switch(Ie=V?yr(V):window,t){case"focusin":(At(Ie)||Ie.contentEditable==="true")&&(Ta=Ie,Zh=V,qo=null);break;case"focusout":qo=Zh=Ta=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Qp(ee,a,$);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":Qp(ee,a,$)}var de;if(si)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?G(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(de=jo()):(ti=$,Cr="value"in ti?ti.value:ti.textContent,Ve=!0)),Ie=_c(V,ve),0<Ie.length&&(ve=new Lo(ve,t,null,a,$),ee.push({event:ve,listeners:Ie}),de?ve.data=de:(de=ie(a),de!==null&&(ve.data=de)))),(de=v?wt(t,a):Pe(t,a))&&(ve=_c(V,"onBeforeInput"),0<ve.length&&(Ie=new Lo("onBeforeInput","beforeinput",null,a,$),ee.push({event:Ie,listeners:ve}),Ie.data=de)),rT(ee,t,V,a,$)}u1(ee,i)})}function vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function _c(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_s(t,a),h!=null&&l.unshift(vl(t,h,d)),h=_s(t,i),h!=null&&l.push(vl(t,h,d))),t=t.return}return l}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function h1(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var w=a,R=w.alternate,V=w.stateNode;if(w=w.tag,R!==null&&R===l)break;w!==5&&w!==26&&w!==27||V===null||(R=V,h?(V=_s(a,d),V!=null&&E.unshift(vl(a,V,R))):h||(V=_s(a,d),V!=null&&E.push(vl(a,V,R)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var lT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function f1(t){return(typeof t=="string"?t:""+t).replace(lT,`
`).replace(uT,"")}function d1(t,i){return i=f1(i),f1(t)===i}function Ec(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(t,""+l);break;case"className":Tr(t,"class",l);break;case"tabIndex":Tr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(t,a,l);break;case"style":wu(t,l,d);break;case"data":if(i!=="object"){Tr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ei(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ei(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ec);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ei(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Er(t,"popover",l);break;case"xlinkActuate":En(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":En(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":En(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":En(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":En(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":En(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":En(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":En(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":En(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Er(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gh.get(a)||a,Er(t,a,l))}}function Ad(t,i,a,l,h,d){switch(a){case"style":wu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Er(t,a,l)}}}function Bt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,E,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var w=d=E=h=null,R=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":E=$;break;case"checked":R=$;break;case"defaultChecked":V=$;break;case"value":d=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Xe(t,i,l,$,a,null)}}vs(t,d,w,R,V,E,h,!1),gs(t);return;case"select":Oe("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:Xe(t,i,h,w,a,null)}i=d,a=E,t.multiple=!!l,i!=null?ze(t,!!l,i,!1):a!=null&&ze(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Xe(t,i,E,w,a,null)}Ar(t,l,h,d),gs(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,R,l,a,null)}return;case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)Oe(gl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,V,l,a,null)}return;default:if(Oo(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Ad(t,i,$,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Xe(t,i,w,l,a,null))}function cT(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,R=null,V=null,$=null;for(X in a){var ee=a[X];if(a.hasOwnProperty(X)&&ee!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":R=ee;default:l.hasOwnProperty(X)||Xe(t,i,X,null,l,ee)}}for(var F in l){var X=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(X!=null||ee!=null))switch(F){case"type":d=X;break;case"name":h=X;break;case"checked":V=X;break;case"defaultChecked":$=X;break;case"value":E=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==ee&&Xe(t,i,F,X,l,ee)}}wr(t,E,w,R,V,$,d,h);return;case"select":X=E=w=F=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":X=R;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==R&&Xe(t,i,h,d,l,R)}i=w,a=E,l=X,F!=null?ze(t,!!a,F,!1):!!l!=!!a&&(i!=null?ze(t,!!a,i,!0):ze(t,!!a,a?[]:"",!1));return;case"textarea":X=F=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Xe(t,i,w,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":F=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,E,h,l,d)}ys(t,F,X);return;case"option":for(var he in a)if(F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Xe(t,i,he,null,l,F)}for(R in l)if(F=l[R],X=a[R],l.hasOwnProperty(R)&&F!==X&&(F!=null||X!=null))switch(R){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Xe(t,i,R,F,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae)&&Xe(t,i,Ae,null,l,F);for(V in l)if(F=l[V],X=a[V],l.hasOwnProperty(V)&&F!==X&&(F!=null||X!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Xe(t,i,V,F,l,X)}return;default:if(Oo(i)){for(var lt in a)F=a[lt],a.hasOwnProperty(lt)&&F!==void 0&&!l.hasOwnProperty(lt)&&Ad(t,i,lt,void 0,l,F);for($ in l)F=l[$],X=a[$],!l.hasOwnProperty($)||F===X||F===void 0&&X===void 0||Ad(t,i,$,F,l,X);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Xe(t,i,U,null,l,F);for(ee in l)F=l[ee],X=a[ee],!l.hasOwnProperty(ee)||F===X||F==null&&X==null||Xe(t,i,ee,F,l,X)}var Cd=null,Sd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function m1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p1(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function hT(){var t=window.event;return t&&t.type==="popstate"?t===Rd?!1:(Rd=t,!0):(Rd=null,!1)}var g1=typeof setTimeout=="function"?setTimeout:void 0,fT=typeof clearTimeout=="function"?clearTimeout:void 0,v1=typeof Promise=="function"?Promise:void 0,dT=typeof queueMicrotask=="function"?queueMicrotask:typeof v1<"u"?function(t){return v1.resolve(null).then(t).catch(mT)}:g1;function mT(t){setTimeout(function(){throw t})}function xd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Sl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Sl(i)}function Id(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pT(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function gT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function y1(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function _1(t,i,a){switch(i=Tc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Mn=new Map,E1=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Yi=ae.d;ae.d={f:vT,r:yT,D:_T,C:ET,L:TT,m:wT,X:CT,S:AT,M:ST};function vT(){var t=Yi.f(),i=mc();return t||i}function yT(t){var i=bi(t);i!==null&&i.tag===5&&i.type==="form"?Qg(i):Yi.r(t)}var Fa=typeof document>"u"?null:document;function T1(t,i,a){var l=Fa;if(l&&typeof i=="string"&&i){var h=st(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),E1.has(h)||(E1.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bt(i,"link",t),Je(i),l.head.appendChild(i)))}}function _T(t){Yi.D(t),T1("dns-prefetch",t,null)}function ET(t,i){Yi.C(t,i),T1("preconnect",t,i)}function TT(t,i,a){Yi.L(t,i,a);var l=Fa;if(l&&t&&i){var h='link[rel="preload"][as="'+st(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+st(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+st(a.imageSizes)+'"]')):h+='[href="'+st(t)+'"]';var d=h;switch(i){case"style":d=Ga(t);break;case"script":d=Ka(t)}Mn.has(d)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Mn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(yl(d))||i==="script"&&l.querySelector(_l(d))||(i=l.createElement("link"),Bt(i,"link",t),Je(i),l.head.appendChild(i)))}}function wT(t,i){Yi.m(t,i);var a=Fa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+st(l)+'"][href="'+st(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!Mn.has(d)&&(t=I({rel:"modulepreload",href:t},i),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),Bt(l,"link",t),Je(l),a.head.appendChild(l)}}}function AT(t,i,a){Yi.S(t,i,a);var l=Fa;if(l&&t){var h=_r(l).hoistableStyles,d=Ga(t);i=i||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(yl(d)))w.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Mn.get(d))&&kd(t,a);var R=E=l.createElement("link");Je(R),Bt(R,"link",t),R._p=new Promise(function(V,$){R.onload=V,R.onerror=$}),R.addEventListener("load",function(){w.loading|=1}),R.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ac(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function CT(t,i){Yi.X(t,i);var a=Fa;if(a&&t){var l=_r(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=I({src:t,async:!0},i),(i=Mn.get(h))&&Nd(t,i),d=a.createElement("script"),Je(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ST(t,i){Yi.M(t,i);var a=Fa;if(a&&t){var l=_r(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=Mn.get(h))&&Nd(t,i),d=a.createElement("script"),Je(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function w1(t,i,a,l){var h=(h=yn.current)?wc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=_r(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var d=_r(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(yl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||bT(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=_r(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ga(t){return'href="'+st(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function A1(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function bT(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",a),Je(i),t.head.appendChild(i))}function Ka(t){return'[src="'+st(t)+'"]'}function _l(t){return"script[async]"+t}function C1(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+st(a.href)+'"]');if(l)return i.instance=l,Je(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Je(l),Bt(l,"style",h),Ac(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ga(a.href);var d=t.querySelector(yl(h));if(d)return i.state.loading|=4,i.instance=d,Je(d),d;l=A1(a),(h=Mn.get(h))&&kd(l,h),d=(t.ownerDocument||t).createElement("link"),Je(d);var E=d;return E._p=new Promise(function(w,R){E.onload=w,E.onerror=R}),Bt(d,"link",l),i.state.loading|=4,Ac(d,a.precedence,t),i.instance=d;case"script":return d=Ka(a.src),(h=t.querySelector(_l(d)))?(i.instance=h,Je(h),h):(l=a,(h=Mn.get(d))&&(l=I({},a),Nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Je(h),Bt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ac(l,a.precedence,t));return i.instance}function Ac(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Nd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Cc=null;function S1(t,i,a){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(a,l)}else h=Cc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[vr]||d[kt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function b1(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function RT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function R1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var El=null;function xT(){}function IT(t,i,a){if(El===null)throw Error(s(475));var l=El;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ga(a.href),d=t.querySelector(yl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Sc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Je(d);return}d=t.ownerDocument||t,a=A1(a),(h=Mn.get(h))&&kd(a,h),d=d.createElement("link"),Je(d);var E=d;E._p=new Promise(function(w,R){E.onload=w,E.onerror=R}),Bt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Sc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function kT(){if(El===null)throw Error(s(475));var t=El;return t.stylesheets&&t.count===0&&Dd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Dd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Sc(){if(this.count--,this.count===0){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Dd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,i.forEach(NT,t),bc=null,Sc.call(t))}function NT(t,i){if(!(i.state.loading&4)){var a=bc.get(t);if(a)var l=a.get(null);else{a=new Map,bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Tl={$$typeof:j,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function DT(t,i,a,l,h,d,E,w){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.hiddenUpdates=oa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function x1(t,i,a,l,h,d,E,w,R,V,$,ee){return t=new DT(t,i,a,E,w,R,V,ee),i=1,d===!0&&(i|=24),d=Dn(3,null,null,i),t.current=d,d.stateNode=t,i=cf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ff(d),t}function I1(t){return t?(t=Ca,t):Ca}function k1(t,i,a,l,h,d){h=I1(h),l.context===null?l.context=h:l.pendingContext=h,l=Dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Or(t,l,i),a!==null&&(nn(a,t,i),rl(a,t,i))}function N1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Od(t,i){N1(t,i),(t=t.alternate)&&N1(t,i)}function D1(t){if(t.tag===13){var i=Sr(t,67108864);i!==null&&nn(i,t,67108864),Od(t,67108864)}}var Rc=!0;function OT(t,i,a,l){var h=S.T;S.T=null;var d=ae.p;try{ae.p=2,Md(t,i,a,l)}finally{ae.p=d,S.T=h}}function MT(t,i,a,l){var h=S.T;S.T=null;var d=ae.p;try{ae.p=8,Md(t,i,a,l)}finally{ae.p=d,S.T=h}}function Md(t,i,a,l){if(Rc){var h=jd(l);if(h===null)wd(t,i,l,xc,a),M1(t,l);else if(VT(h,t,i,a,l))l.stopPropagation();else if(M1(t,l),i&4&&-1<jT.indexOf(t)){for(;h!==null;){var d=bi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Bn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var R=1<<31-Zt(E);w.entanglements[1]|=R,E&=~R}hi(d),(tt&6)===0&&(hc=rn()+500,pl(0))}}break;case 13:w=Sr(d,2),w!==null&&nn(w,d,2),mc(),Od(d,2)}if(d=jd(l),d===null&&wd(t,i,l,xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else wd(t,i,l,null,a)}}function jd(t){return t=fa(t),Vd(t)}var xc=null;function Vd(t){if(xc=null,t=zn(t),t!==null){var i=me(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Fe(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return xc=t,null}function O1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(du()){case Et:return 2;case It:return 8;case Ci:case mu:return 32;case Ao:return 268435456;default:return 32}default:return 32}}var Pd=!1,Br=null,zr=null,Hr=null,wl=new Map,Al=new Map,qr=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M1(t,i){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function Cl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=bi(i),i!==null&&D1(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function VT(t,i,a,l,h){switch(i){case"focusin":return Br=Cl(Br,t,i,a,l,h),!0;case"dragenter":return zr=Cl(zr,t,i,a,l,h),!0;case"mouseover":return Hr=Cl(Hr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Cl(wl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,Cl(Al.get(d)||null,t,i,a,l,h)),!0}return!1}function j1(t){var i=zn(t.target);if(i!==null){var a=me(i);if(a!==null){if(i=a.tag,i===13){if(i=Fe(a),i!==null){t.blockedOn=i,gr(t.priority,function(){if(a.tag===13){var l=pn(),h=Sr(a,l);h!==null&&nn(h,a,l),Od(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wn=l,a.target.dispatchEvent(l),wn=null}else return i=bi(a),i!==null&&D1(i),t.blockedOn=a,!1;i.shift()}return!0}function V1(t,i,a){Ic(t)&&a.delete(i)}function PT(){Pd=!1,Br!==null&&Ic(Br)&&(Br=null),zr!==null&&Ic(zr)&&(zr=null),Hr!==null&&Ic(Hr)&&(Hr=null),wl.forEach(V1),Al.forEach(V1)}function kc(t,i){t.blockedOn===i&&(t.blockedOn=null,Pd||(Pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,PT)))}var Nc=null;function P1(t){Nc!==t&&(Nc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Vd(l||a)===null)continue;break}var d=bi(a);d!==null&&(t.splice(i,3),i-=3,bf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Sl(t){function i(R){return kc(R,t)}Br!==null&&kc(Br,t),zr!==null&&kc(zr,t),Hr!==null&&kc(Hr,t),wl.forEach(i),Al.forEach(i);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)j1(a),a.blockedOn===null&&qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Tt]||null;if(typeof d=="function")E||P1(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Tt]||null)w=E.formAction;else if(Vd(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),P1(a)}}}function Ld(t){this._internalRoot=t}Dc.prototype.render=Ld.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();k1(a,l,t,i,null,null)},Dc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&za(),k1(t.current,2,null,t,null,null),mc(),i[Si]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var i=_u();t={blockedOn:null,target:t,priority:i};for(var a=0;a<qr.length&&i!==0&&i<qr[a].priority;a++);qr.splice(a,0,t),a===0&&j1(t)}};var L1=e.version;if(L1!=="19.0.0")throw Error(s(527,L1,"19.0.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=te(i),t=t!==null?fe(t):null,t=t===null?null:t.stateNode,t};var LT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{cr=Oc.inject(LT),Ft=Oc}catch{}}return Rl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=t0,d=n0,E=i0,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=x1(t,1,!1,null,null,a,l,h,d,E,w,null),t[Si]=i.current,Td(t.nodeType===8?t.parentNode:t),new Ld(i)},Rl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=t0,E=n0,w=i0,R=null,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(V=a.formState)),i=x1(t,1,!0,i,a??null,l,h,d,E,w,R,V),i.context=I1(null),a=i.current,l=pn(),h=Dr(l),h.callback=null,Or(a,h,l),i.current.lanes=l,ct(i,l),hi(i),t[Si]=i.current,Td(t),new Dc(i)},Rl.version="19.0.0",Rl}var Y1;function $T(){if(Y1)return zd.exports;Y1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zd.exports=XT(),zd.exports}var WT=$T();const ZT=S2(WT);var xl={},X1;function JT(){if(X1)return xl;X1=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parse=f,xl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function f(x,j){const L=new u,Y=x.length;if(Y<2)return L;const q=(j==null?void 0:j.decode)||T;let K=0;do{const Q=x.indexOf("=",K);if(Q===-1)break;const W=x.indexOf(";",K),ce=W===-1?Y:W;if(Q>ce){K=x.lastIndexOf(";",Q-1)+1;continue}const le=m(x,K,Q),Te=p(x,Q,le),D=x.slice(le,Te);if(L[D]===void 0){let b=m(x,Q+1,ce),S=p(x,ce,b);const I=q(x.slice(b,S));L[D]=I}K=ce+1}while(K<Y);return L}function m(x,j,L){do{const Y=x.charCodeAt(j);if(Y!==32&&Y!==9)return j}while(++j<L);return L}function p(x,j,L){for(;j>L;){const Y=x.charCodeAt(--j);if(Y!==32&&Y!==9)return j+1}return L}function y(x,j,L){const Y=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const q=Y(j);if(!e.test(q))throw new TypeError(`argument val is invalid: ${j}`);let K=x+"="+q;if(!L)return K;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);K+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);K+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);K+="; Path="+L.path}if(L.expires){if(!C(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);K+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(K+="; HttpOnly"),L.secure&&(K+="; Secure"),L.partitioned&&(K+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return K}function T(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function C(x){return o.call(x)==="[object Date]"}return xl}JT();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $1="popstate";function ew(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return om("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Hl(o)}return nw(e,n,null,r)}function nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tw(){return Math.random().toString(36).substring(2,10)}function W1(r,e){return{usr:r.state,key:r.key,idx:e}}function om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||s||tw()}}function Hl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function uo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function nw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function C(){m="POP";let q=T(),K=q==null?null:q-y;y=q,p&&p({action:m,location:Y.location,delta:K})}function x(q,K){m="PUSH";let Q=om(Y.location,q,K);y=T()+1;let W=W1(Q,y),ce=Y.createHref(Q);try{f.pushState(W,"",ce)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ce)}u&&p&&p({action:m,location:Y.location,delta:1})}function j(q,K){m="REPLACE";let Q=om(Y.location,q,K);y=T();let W=W1(Q,y),ce=Y.createHref(Q);f.replaceState(W,"",ce),u&&p&&p({action:m,location:Y.location,delta:0})}function L(q){let K=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof q=="string"?q:Hl(q);return Q=Q.replace(/ $/,"%20"),nt(K,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,K)}let Y={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($1,C),p=q,()=>{o.removeEventListener($1,C),p=null}},createHref(q){return e(o,q)},createURL:L,encodeLocation(q){let K=L(q);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:x,replace:j,go(q){return f.go(q)}};return Y}function b2(r,e,n="/"){return iw(r,e,n,!1)}function iw(r,e,n,s){let o=typeof e=="string"?uo(e):e,u=tr(o.pathname||"/",n);if(u==null)return null;let f=R2(r);rw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=pw(u);m=dw(f[p],y,s)}return m}function R2(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Zi([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),R2(u.children,e,T,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:hw(y,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of x2(u.path))o(u,f,p)}),e}function x2(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=x2(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function rw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:fw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sw=/^:[\w-]+$/,aw=3,ow=2,lw=1,uw=10,cw=-2,Z1=r=>r==="*";function hw(r,e){let n=r.split("/"),s=n.length;return n.some(Z1)&&(s+=cw),e&&(s+=ow),n.filter(o=>!Z1(o)).reduce((o,u)=>o+(sw.test(u)?aw:u===""?lw:uw),s)}function fw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function dw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",C=Jc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),x=p.route;if(!C&&y&&n&&!s[s.length-1].route.index&&(C=Jc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!C)return null;Object.assign(o,C.params),f.push({params:o,pathname:Zi([u,C.pathname]),pathnameBase:_w(Zi([u,C.pathnameBase])),route:x}),C.pathnameBase!=="/"&&(u=Zi([u,C.pathnameBase]))}return f}function Jc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=mw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:C},x)=>{if(T==="*"){let L=m[x]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const j=m[x];return C&&!j?y[T]=void 0:y[T]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function mw(r,e=!1,n=!0){vi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function tr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function gw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?uo(r):r;return{pathname:n?n.startsWith("/")?n:vw(n,e):e,search:Ew(s),hash:Tw(o)}}function vw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Gd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I2(r){let e=yw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function k2(r,e,n,s=!1){let o;typeof r=="string"?o=uo(r):(o={...r},nt(!o.pathname||!o.pathname.includes("?"),Gd("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Gd("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Gd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let C=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),C-=1;o.pathname=x.join("/")}m=C>=0?e[C]:"/"}let p=gw(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Zi=r=>r.join("/").replace(/\/\/+/g,"/"),_w=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ew=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Tw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ww(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var N2=["POST","PUT","PATCH","DELETE"];new Set(N2);var Aw=["GET",...N2];new Set(Aw);var co=P.createContext(null);co.displayName="DataRouter";var _h=P.createContext(null);_h.displayName="DataRouterState";var D2=P.createContext({isTransitioning:!1});D2.displayName="ViewTransition";var Cw=P.createContext(new Map);Cw.displayName="Fetchers";var Sw=P.createContext(null);Sw.displayName="Await";var Ei=P.createContext(null);Ei.displayName="Navigation";var eu=P.createContext(null);eu.displayName="Location";var Ti=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var Mm=P.createContext(null);Mm.displayName="RouteError";function bw(r,{relative:e}={}){nt(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Ei),{hash:o,pathname:u,search:f}=nu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function tu(){return P.useContext(eu)!=null}function ls(){return nt(tu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(eu).location}var O2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M2(r){P.useContext(Ei).static||P.useLayoutEffect(r)}function Rw(){let{isDataRoute:r}=P.useContext(Ti);return r?Bw():xw()}function xw(){nt(tu(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(co),{basename:e,navigator:n}=P.useContext(Ei),{matches:s}=P.useContext(Ti),{pathname:o}=ls(),u=JSON.stringify(I2(s)),f=P.useRef(!1);return M2(()=>{f.current=!0}),P.useCallback((p,y={})=>{if(vi(f.current,O2),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=k2(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Zi([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,o,r])}P.createContext(null);function j2(){let{matches:r}=P.useContext(Ti),e=r[r.length-1];return e?e.params:{}}function nu(r,{relative:e}={}){let{matches:n}=P.useContext(Ti),{pathname:s}=ls(),o=JSON.stringify(I2(n));return P.useMemo(()=>k2(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Iw(r,e){return V2(r,e)}function V2(r,e,n,s){var Q;nt(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=P.useContext(Ei),{matches:f}=P.useContext(Ti),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",C=m&&m.route;{let W=C&&C.path||"";P2(y,!C||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let x=ls(),j;if(e){let W=typeof e=="string"?uo(e):e;nt(T==="/"||((Q=W.pathname)==null?void 0:Q.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),j=W}else j=x;let L=j.pathname||"/",Y=L;if(T!=="/"){let W=T.replace(/^\//,"").split("/");Y="/"+L.replace(/^\//,"").split("/").slice(W.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:b2(r,{pathname:Y});vi(C||q!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),vi(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Mw(q&&q.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Zi([T,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:Zi([T,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),f,n,s);return e&&K?P.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},K):K}function kw(){let r=Uw(),e=ww(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var Nw=P.createElement(kw,null),Dw=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?P.createElement(Ti.Provider,{value:this.props.routeContext},P.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ow({routeContext:r,match:e,children:n}){let s=P.useContext(co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Ti.Provider,{value:r},n)}function Mw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:C}=n,x=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!C||C[y.route.id]===void 0);if(y.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let C,x=!1,j=null,L=null;n&&(C=u&&y.route.id?u[y.route.id]:void 0,j=y.route.errorElement||Nw,f&&(m<0&&T===0?(P2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,L=null):m===T&&(x=!0,L=y.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,T+1)),q=()=>{let K;return C?K=j:x?K=L:y.route.Component?K=P.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=p,P.createElement(Ow,{match:y,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:K})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?P.createElement(Dw,{location:n.location,revalidation:n.revalidation,component:j,error:C,children:q(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):q()},null)}function jm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jw(r){let e=P.useContext(co);return nt(e,jm(r)),e}function Vw(r){let e=P.useContext(_h);return nt(e,jm(r)),e}function Pw(r){let e=P.useContext(Ti);return nt(e,jm(r)),e}function Vm(r){let e=Pw(r),n=e.matches[e.matches.length-1];return nt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Lw(){return Vm("useRouteId")}function Uw(){var s;let r=P.useContext(Mm),e=Vw("useRouteError"),n=Vm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Bw(){let{router:r}=jw("useNavigate"),e=Vm("useNavigate"),n=P.useRef(!1);return M2(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{vi(n.current,O2),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var J1={};function P2(r,e,n){!e&&!J1[r]&&(J1[r]=!0,vi(!1,n))}P.memo(zw);function zw({routes:r,future:e,state:n}){return V2(r,void 0,n,e)}function on(r){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){nt(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=uo(n));let{pathname:p="/",search:y="",hash:T="",state:C=null,key:x="default"}=n,j=P.useMemo(()=>{let L=tr(p,f);return L==null?null:{location:{pathname:L,search:y,hash:T,state:C,key:x},navigationType:s}},[f,p,y,T,C,x,s]);return vi(j!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:P.createElement(Ei.Provider,{value:m},P.createElement(eu.Provider,{children:e,value:j}))}function qw({children:r,location:e}){return Iw(lm(r),e)}function lm(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,lm(s.props.children,u));return}nt(s.type===on,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=lm(s.props.children,u)),n.push(f)}),n}var Hc="get",qc="application/x-www-form-urlencoded";function Eh(r){return r!=null&&typeof r.tagName=="string"}function Fw(r){return Eh(r)&&r.tagName.toLowerCase()==="button"}function Gw(r){return Eh(r)&&r.tagName.toLowerCase()==="form"}function Kw(r){return Eh(r)&&r.tagName.toLowerCase()==="input"}function Qw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Yw(r,e){return r.button===0&&(!e||e==="_self")&&!Qw(r)}var jc=null;function Xw(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var $w=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kd(r){return r!=null&&!$w.has(r)?(vi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qc}"`),null):r}function Ww(r,e){let n,s,o,u,f;if(Gw(r)){let m=r.getAttribute("action");s=m?tr(m,e):null,n=r.getAttribute("method")||Hc,o=Kd(r.getAttribute("enctype"))||qc,u=new FormData(r)}else if(Fw(r)||Kw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?tr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Hc,o=Kd(r.getAttribute("formenctype"))||Kd(m.getAttribute("enctype"))||qc,u=new FormData(m,r),!Xw()){let{name:y,type:T,value:C}=r;if(T==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,C)}}else{if(Eh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,s=null,o=qc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Pm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Zw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function eA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Zw(u,n);return f.links?f.links():[]}return[]}));return rA(s.flat(1).filter(Jw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ev(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var T;return n[y].pathname!==p.pathname||((T=n[y].route.path)==null?void 0:T.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var C;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((C=n[0])==null?void 0:C.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function tA(r,e,{includeHydrateFallback:n}={}){return nA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function nA(r){return[...new Set(r)]}function iA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function rA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(iA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function sA(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&tr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function L2(){let r=P.useContext(co);return Pm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function aA(){let r=P.useContext(_h);return Pm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Lm=P.createContext(void 0);Lm.displayName="FrameworkContext";function U2(){let r=P.useContext(Lm);return Pm(r,"You must render this element inside a <HydratedRouter> element"),r}function oA(r,e){let n=P.useContext(Lm),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:C}=e,x=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=K=>{K.forEach(Q=>{f(Q.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return x.current&&q.observe(x.current),()=>{q.disconnect()}}},[r]),P.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let j=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Il(m,j),onBlur:Il(p,L),onMouseEnter:Il(y,j),onMouseLeave:Il(T,L),onTouchStart:Il(C,j)}]:[!1,x,{}]}function Il(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function lA({page:r,...e}){let{router:n}=L2(),s=P.useMemo(()=>b2(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(cA,{page:r,matches:s,...e}):null}function uA(r){let{manifest:e,routeModules:n}=U2(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return eA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function cA({page:r,matches:e,...n}){let s=ls(),{manifest:o,routeModules:u}=U2(),{basename:f}=L2(),{loaderData:m,matches:p}=aA(),y=P.useMemo(()=>ev(r,e,p,o,s,"data"),[r,e,p,o,s]),T=P.useMemo(()=>ev(r,e,p,o,s,"assets"),[r,e,p,o,s]),C=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,Y=!1;if(e.forEach(K=>{var W;let Q=o.routes[K.route.id];!Q||!Q.hasLoader||(!y.some(ce=>ce.route.id===K.route.id)&&K.route.id in m&&((W=u[K.route.id])!=null&&W.shouldRevalidate)||Q.hasClientLoader?Y=!0:L.add(K.route.id))}),L.size===0)return[];let q=sA(r,f);return Y&&L.size>0&&q.searchParams.set("_routes",e.filter(K=>L.has(K.route.id)).map(K=>K.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,y,e,r,u]),x=P.useMemo(()=>tA(T,o),[T,o]),j=uA(T);return P.createElement(P.Fragment,null,C.map(L=>P.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),x.map(L=>P.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),j.map(({key:L,link:Y})=>P.createElement("link",{key:L,...Y})))}function hA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var B2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B2&&(window.__reactRouterVersion="7.4.0")}catch{}function fA({basename:r,children:e,window:n}){let s=P.useRef();s.current==null&&(s.current=ew({window:n,v5Compat:!0}));let o=s.current,[u,f]=P.useState({action:o.action,location:o.location}),m=P.useCallback(p=>{P.startTransition(()=>f(p))},[f]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(Hw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H2=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:T,viewTransition:C,...x},j){let{basename:L}=P.useContext(Ei),Y=typeof y=="string"&&z2.test(y),q,K=!1;if(typeof y=="string"&&Y&&(q=y,B2))try{let S=new URL(window.location.href),I=y.startsWith("//")?new URL(S.protocol+y):new URL(y),M=tr(I.pathname,L);I.origin===S.origin&&M!=null?y=M+I.search+I.hash:K=!0}catch{vi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=bw(y,{relative:o}),[W,ce,le]=oA(s,x),Te=gA(y,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:C});function D(S){e&&e(S),S.defaultPrevented||Te(S)}let b=P.createElement("a",{...x,...le,href:q||Q,onClick:K||u?e:D,ref:hA(j,ce),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return W&&!Y?P.createElement(P.Fragment,null,b,P.createElement(lA,{page:Q})):b});H2.displayName="Link";var dA=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},T){let C=nu(f,{relative:y.relative}),x=ls(),j=P.useContext(_h),{navigator:L,basename:Y}=P.useContext(Ei),q=j!=null&&TA(C)&&m===!0,K=L.encodeLocation?L.encodeLocation(C).pathname:C.pathname,Q=x.pathname,W=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),W=W?W.toLowerCase():null,K=K.toLowerCase()),W&&Y&&(W=tr(W,Y)||W);const ce=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let le=Q===K||!o&&Q.startsWith(K)&&Q.charAt(ce)==="/",Te=W!=null&&(W===K||!o&&W.startsWith(K)&&W.charAt(K.length)==="/"),D={isActive:le,isPending:Te,isTransitioning:q},b=le?e:void 0,S;typeof s=="function"?S=s(D):S=[s,le?"active":null,Te?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(D):u;return P.createElement(H2,{...y,"aria-current":b,className:S,ref:T,style:I,to:f,viewTransition:m},typeof p=="function"?p(D):p)});dA.displayName="NavLink";var mA=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Hc,action:m,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:C,...x},j)=>{let L=_A(),Y=EA(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&z2.test(m),Q=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let ce=W.nativeEvent.submitter,le=(ce==null?void 0:ce.getAttribute("formmethod"))||f;L(ce||W.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:C})};return P.createElement("form",{ref:j,method:q,action:Y,onSubmit:s?p:Q,...x,"data-discover":!K&&r==="render"?"true":void 0})});mA.displayName="Form";function pA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q2(r){let e=P.useContext(co);return nt(e,pA(r)),e}function gA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Rw(),p=ls(),y=nu(r,{relative:u});return P.useCallback(T=>{if(Yw(T,e)){T.preventDefault();let C=n!==void 0?n:Hl(p)===Hl(y);m(r,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var vA=0,yA=()=>`__${String(++vA)}__`;function _A(){let{router:r}=q2("useSubmit"),{basename:e}=P.useContext(Ei),n=Lw();return P.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=Ww(s,e);if(o.navigate===!1){let T=o.fetcherKey||yA();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function EA(r,{relative:e}={}){let{basename:n}=P.useContext(Ei),s=P.useContext(Ti);nt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(r||".",{relative:e})},f=ls();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(C=>C).forEach(C=>m.append("index",C));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zi([n,u.pathname])),Hl(u)}function TA(r,e={}){let n=P.useContext(D2);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=q2("useViewTransitionState"),o=nu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jc(o.pathname,f)!=null||Jc(o.pathname,u)!=null}new TextEncoder;const wA="/assets/macbook-CLkh74z3.png",F2="/assets/logo-C6cZbBbV.png";function Un(){return g.jsx("div",{className:"footer-container",children:g.jsxs("div",{className:"footer-content",children:[g.jsx("div",{className:"footer-part footer-left",children:g.jsxs("div",{className:"footer-top",children:[g.jsx("h3",{children:"Noen spørsmål igjen?"}),g.jsxs("p",{children:["Har du fortsatt noe du lurer på? Vårt team står klare til å hjelpe deg med alt fra produktvalg til levering og retur. Vi svarer så raskt vi kan, enten du kontakter oss via e-post, live chat eller sender et brev med en carrier pigeon (ikke anbefalt, men vi setter pris på innsatsen). Utforsk vår ",g.jsx("a",{className:"footer-a",href:"/sos",children:"FAQ"})," for raske svar, eller ta direkte kontakt – vi er her for å gjøre handleopplevelsen din så enkel som mulig!"]})]})}),g.jsxs("div",{className:"footer-part footer-bottom",children:[g.jsxs("div",{className:"footer-row",children:[g.jsx("a",{href:"/",children:g.jsx("img",{src:F2,alt:"Strømlia logo",className:"footer-logo"})}),g.jsx("p",{children:"Strømlia © 2025"}),g.jsx("p",{children:"Alle rettigheter reservert."})]}),g.jsxs("div",{className:"footer-column",children:[g.jsxs("div",{className:"footer-row",children:[g.jsx("h3",{children:"Kategorier"}),g.jsxs("div",{className:"footer-column-2",children:[g.jsxs("div",{className:"footer-row",children:[g.jsx("a",{href:"/produkter?kategori=mobiltelefoner",children:"Mobilertelefoner"}),g.jsx("a",{href:"/produkter?kategori=laptoper",children:"Laptoper"}),g.jsx("a",{href:"/produkter?kategori=tvogskjermer",children:"TV og skjermer"})]}),g.jsxs("div",{className:"footer-row",children:[g.jsx("a",{href:"/produkter?kategori=tilbehør",children:"Tilbehør"}),g.jsx("a",{href:"/produkter?kategori=smartklokker",children:"Smartklokker"}),g.jsx("a",{href:"/produkter?kategori=audio",children:"Audio"})]})]})]}),g.jsxs("div",{className:"footer-row",children:[g.jsx("h3",{children:"Sider"}),g.jsxs("div",{className:"footer-column-2",children:[g.jsxs("div",{className:"footer-row",children:[g.jsx("a",{href:"/",children:"Hjem"}),g.jsx("a",{href:"/produkter",children:"Produkter"}),g.jsx("a",{href:"/omoss",children:"Om oss"}),g.jsx("a",{href:"/kontakt",children:"Kontakt"})]}),g.jsxs("div",{className:"footer-row",children:[g.jsx("a",{href:"/sos",children:"Spørsmål og svar"}),g.jsx("a",{href:"/handlekurv",children:"Handlekurv"}),g.jsx("a",{href:"/konto",children:"Konto"}),g.jsx("a",{href:"/vilkår",children:"Vilkår"})]})]})]})]})]})]})})}const ho="http://localhost:8080",je=2;async function Th(){const r=`${ho}/products`;try{const e=await fetch(r);return e.ok||console.error(`Response status: ${e.status}`),await e.json()}catch(e){console.error(e)}}async function wh(r){const e=`${ho}/products/${r}`;try{const n=await fetch(e);return n.ok||console.error(`Response status: ${n.status}`),await n.json()}catch(n){console.error(n)}}function Um(r,e){for(let n=r.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[r[n],r[s]]=[r[s],r[n]]}return r.slice(0,e)}const AA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAzCAMAAADvo9thAAAAQlBMVEVHcEz/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gv/2gskihYEAAAAFXRSTlMABPoLMvKqmYof6dsUyHpqTrtdP0MEuqrEAAABPUlEQVRIx9WWS7KDIBBF5St/kMj+txrF0miejfToVRgip45cutFh+NHBOZ4hciRoaBaG40WloFWzKAWrWkWLCi/CqjYRUrWJcKpdhFLtIozqI0KoPqJ+1VnUqSIsiTNkZkZaqzVPUUlvymUYL1VMXF/ZY7UVtACDCntlY2v1F2uszxXSU0EMqbf3c7KfGd2+qX7qYFbX2Mmwc4JdFFXsekpsxDMLpR5ip+GmMh6oW2YJsUWJAFQgCSAlIli1ICVi69IX95DRDShBplcDCtCecgMCT1jBDAObRMItry0EeYcOr3mTZbiI5q7w6DSd84dPV56QxFj29PnOZH5HfK6t4+I+UybyEJ6PR1YubnPUQvG9ang2Xp7rYJvxreHZ8Kc2K0YTAKk7pGLKlAB0k1JgB/ARqD7ihsZHxf3LX90bZThJr5x12fgAAAAASUVORK5CYII=";function CA(r){return g.jsx("div",{className:"review-stars-container",children:g.jsx("div",{className:"review-stars-content",children:Array.from({length:r.numberOfStars}).map((e,n)=>g.jsx("img",{src:AA,alt:"Stjerne ikon",className:"star-icon"},n))})})}function Xn(){const r=localStorage.getItem("shopping-cart");if(!r){const e=SA();return localStorage.setItem("shopping-cart",JSON.stringify(e)),e}return JSON.parse(r)}function SA(){return{totalPrice:0,products:[]}}function G2(r,e,n){const s=Xn(),o=s.products.find(u=>u.productId===r);if(o)o.productAmount=Number(o.productAmount)+Number(e),s.totalPrice===null&&(s.totalPrice=0),s.totalPrice+=e*n;else{const u={productId:r,productAmount:e,productPrice:n};s.totalPrice+=n*e,s.products.push(u)}localStorage.setItem("shopping-cart",JSON.stringify(s))}function bA(r){const e=Xn(),n=e.products.find(s=>s.productId===r);n?(e.totalPrice-=n.productAmount*n.productPrice,e.totalPrice<0&&(e.totalPrice=0),e.products=e.products.filter(s=>s.productId!==r)):console.error(`The product with id ${r} does not exist in your shopping cart, and could therefore not be removed.`),localStorage.setItem("shopping-cart",JSON.stringify(e))}function RA(r){const e=Xn(),n=e.products.find(s=>s.productId===r);n?n.productAmount>1?(n.productAmount--,e.totalPrice-=n.productPrice):console.error(`Could not decrease the amount of product with product id ${r}.`):console.error(`The product with id ${r} does not exist in your shopping cart, and could therefore not be decreased.`),localStorage.setItem("shopping-cart",JSON.stringify(e))}function xA(r){const e=Xn(),n=e.products.find(s=>s.productId===r);n?(n.productAmount++,e.totalPrice+=n.productPrice):console.error(`The product with id ${r} does not exist in your shopping cart, and could therefore not be increased.`),localStorage.setItem("shopping-cart",JSON.stringify(e))}function Bm(){const r=Xn();return Number(r.totalPrice).toFixed(2)}function IA(r){const e=Xn(),n=e.totalPrice,s=n/100*r;return e.totalPrice=n-s,localStorage.setItem("shopping-cart",JSON.stringify(e)),Bm()}function Yn(r){return r.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function Ah(r){const e=()=>{window.location.replace(`/produkter/${r.id}`)},n=()=>{G2(r.id,1,r.price)},s=r.numberOfRatings===0?null:g.jsx(CA,{numberOfStars:r.averageRating}),o=r.numberOfRatings===0?"Ingen vurderinger ennå":r.numberOfRatings,u={color:r.numberOfRatings===0?"#888":"#ffb400"};function f(m,p){if(m.length<=p)return m;let y=m.slice(0,p),T=y.lastIndexOf(" ");return T>0&&(y=y.slice(0,T)),y+"..."}return g.jsxs("div",{className:"product-card",children:[g.jsxs("div",{children:[g.jsx("div",{className:"product-image",onClick:e,children:g.jsx("img",{src:r.imagePath,alt:r.title})}),g.jsx("div",{className:"product-details",children:g.jsxs("div",{className:"title-review-container",children:[g.jsx("h2",{className:"product-title",onClick:e,children:r.title}),g.jsxs("div",{className:"rating-container",style:u,children:[s,g.jsxs("span",{style:{color:"#888"},children:["(",o,")"]})]}),g.jsx("p",{className:"product-description",children:f(r.description,150)})]})})]}),g.jsxs("div",{className:"product-bottom",children:[g.jsxs("p",{className:"product-price",children:[Yn(r.price)," kr"]}),g.jsx("button",{className:"product-add-button",onClick:n,children:"Legg i handlekurv"})]})]})}const K2="/assets/loading-WdnO4B_X.gif";function nr({message:r}){return g.jsxs("div",{className:"loading-products",children:[g.jsx("img",{src:K2,alt:"Lader GIF"}),g.jsx("p",{children:r})]})}function kA(){const[r,e]=P.useState(null);P.useEffect(()=>{n()},[]);async function n(){const o=await Th();e(Um(o,3))}const s=[{name:"100 % Norsk – Trygg og Lokal Handel",description:"Strømlia er en helnorsk nettbutikk, noe som betyr rask levering, ingen skjulte avgifter og kundeservice som forstår dine behov.",icon:g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14M17 9.24C16.605 9.725 16.065 10 15.5 10C14.935 10 14.41 9.725 14 9.24M10 9.24C9.605 9.725 9.065 10 8.5 10C7.935 10 7.41 9.725 7 9.24M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})})},{name:"Kun Ekte Apple-Produkter – Ingen Kopier",description:"Vi selger kun originale Apple-produkter og tilbehør, slik at du kan være trygg på kvalitet og garanti fra produsenten.",icon:g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M12 15C8.68629 15 6 12.3137 6 9V3.44444C6 3.0306 6 2.82367 6.06031 2.65798C6.16141 2.38021 6.38021 2.16141 6.65798 2.06031C6.82367 2 7.0306 2 7.44444 2H16.5556C16.9694 2 17.1763 2 17.342 2.06031C17.6198 2.16141 17.8386 2.38021 17.9397 2.65798C18 2.82367 18 3.0306 18 3.44444V9C18 12.3137 15.3137 15 12 15ZM12 15V18M18 4H20.5C20.9659 4 21.1989 4 21.3827 4.07612C21.6277 4.17761 21.8224 4.37229 21.9239 4.61732C22 4.80109 22 5.03406 22 5.5V6C22 6.92997 22 7.39496 21.8978 7.77646C21.6204 8.81173 20.8117 9.62038 19.7765 9.89778C19.395 10 18.93 10 18 10M6 4H3.5C3.03406 4 2.80109 4 2.61732 4.07612C2.37229 4.17761 2.17761 4.37229 2.07612 4.61732C2 4.80109 2 5.03406 2 5.5V6C2 6.92997 2 7.39496 2.10222 7.77646C2.37962 8.81173 3.18827 9.62038 4.22354 9.89778C4.60504 10 5.07003 10 6 10M7.44444 22H16.5556C16.801 22 17 21.801 17 21.5556C17 19.5919 15.4081 18 13.4444 18H10.5556C8.59188 18 7 19.5919 7 21.5556C7 21.801 7.19898 22 7.44444 22Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})})},{name:"Rask Frakt – Rett Hjem til Deg",description:"Vi vet at du vil ha produktene dine raskt! Derfor tilbyr vi lynrask levering over hele Norge, slik at du får varene dine uten unødvendig ventetid.",icon:g.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M20.5 7.27783L12 12.0001M12 12.0001L3.49997 7.27783M12 12.0001L12 21.5001M21 16.0586V7.94153C21 7.59889 21 7.42757 20.9495 7.27477C20.9049 7.13959 20.8318 7.01551 20.7354 6.91082C20.6263 6.79248 20.4766 6.70928 20.177 6.54288L12.777 2.43177C12.4934 2.27421 12.3516 2.19543 12.2015 2.16454C12.0685 2.13721 11.9315 2.13721 11.7986 2.16454C11.6484 2.19543 11.5066 2.27421 11.223 2.43177L3.82297 6.54288C3.52345 6.70928 3.37369 6.79248 3.26463 6.91082C3.16816 7.01551 3.09515 7.13959 3.05048 7.27477C3 7.42757 3 7.59889 3 7.94153V16.0586C3 16.4013 3 16.5726 3.05048 16.7254C3.09515 16.8606 3.16816 16.9847 3.26463 17.0893C3.37369 17.2077 3.52345 17.2909 3.82297 17.4573L11.223 21.5684C11.5066 21.726 11.6484 21.8047 11.7986 21.8356C11.9315 21.863 12.0685 21.863 12.2015 21.8356C12.3516 21.8047 12.4934 21.726 12.777 21.5684L20.177 17.4573C20.4766 17.2909 20.6263 17.2077 20.7354 17.0893C20.8318 16.9847 20.9049 16.8606 20.9495 16.7254C21 16.5726 21 16.4013 21 16.0586Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M16.5 9.5L7.5 4.5",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})]})},{name:"Bygget for Teknologiinteresserte – Av en Utvikler",description:"Strømlia er laget av en fullstack-utvikler med lidenskap for teknologi, noe som betyr en smidig, moderne og trygg netthandelsopplevelse.",icon:g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M15.5455 9.92543C15.9195 9.26103 16.2313 8.66151 16.4236 8.20521C17.3573 5.98947 16.434 3.44077 14.1769 2.40112C11.9199 1.36148 9.65341 2.4395 8.65871 4.52093C6.75657 3.2157 4.21918 3.40739 2.81989 5.44424C1.42059 7.48108 1.85975 10.142 3.77629 11.594C4.6461 12.253 6.36636 13.2242 7.98596 14.0884M16.2972 11.7499C15.8751 9.482 13.9454 7.82334 11.5156 8.27415C9.08592 8.72497 7.51488 10.9171 7.84335 13.299C8.10725 15.2127 9.56392 19.7027 10.1264 21.394C10.2032 21.6248 10.2415 21.7402 10.3175 21.8206C10.3837 21.8907 10.4717 21.9416 10.5655 21.9638C10.6732 21.9894 10.7923 21.9649 11.0306 21.916C12.7765 21.5575 17.3933 20.574 19.1826 19.8457C21.4096 18.9392 22.5589 16.4841 21.6981 14.153C20.8372 11.8219 18.4723 10.9815 16.2972 11.7499Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})})}];return r?g.jsxs("div",{className:"mv-container",children:[g.jsxs("div",{className:"mv-section",children:[g.jsxs("div",{className:"mv-intro-tekst-container",children:[g.jsx("h3",{children:"MacBook Pro (16-inch, 2021)"}),g.jsx("p",{className:"intro-tekst-2",children:"Opplev ytelse i toppklasse med Apples kraftigste bærbare datamaskin."}),g.jsx("p",{className:"intro-tekst-disclaimer",children:"Produktinformasjon kan endres uten forvarsel, så vi anbefaler at du alltid dobbeltsjekker spesifikasjonene før kjøp.*"})]}),g.jsx("img",{src:wA,alt:"MacBook Pro (16-inch, 2021) asset.",className:"mv-intro-graphic"})]}),g.jsx("div",{className:"mv-perks",children:g.jsx("div",{className:"mv-perks-content",children:s.map((o,u)=>g.jsxs("div",{className:"mv-perk",children:[o.icon,g.jsx("h3",{children:o.name}),g.jsx("p",{children:o.description})]},u))})}),g.jsx("div",{className:"mv-bts",children:g.jsxs("div",{className:"mv-bts-content",children:[g.jsx("h3",{className:"bts-title",children:"Back to School – Klar for en Ny Start!"}),g.jsx("p",{className:"bts-description",children:"Gjør deg klar for skoleåret med kraftige MacBooks, iPads og AirPods som hjelper deg å studere smartere. Strømlia har alt du trenger for en produktiv og inspirerende hverdag!"}),g.jsx("div",{className:"mv-bts-products-container",children:r.map(o=>g.jsx(Ah,{id:o.id,title:o.name,imagePath:o.imagePaths[0],description:o.description,price:o.price,ratings:o.ratings,averageRating:o.averageRating,numberOfRatings:o.numberOfRatings},o.id))})]})}),g.jsx(Un,{})]}):g.jsx(nr,{message:"Vi lader produktene..."})}const fo=P.createContext();function NA(){const[r,e]=P.useState(!1),{user:n,loading:s}=P.useContext(fo);return P.useEffect(()=>{function o(f){!f.target.closest(".header-nav")&&!f.target.closest(".ham-btn")&&e(!1)}function u(){e(!1)}return document.addEventListener("click",o),window.addEventListener("scroll",u),()=>{document.removeEventListener("click",o),window.removeEventListener("scroll",u)}},[]),s?g.jsx("p",{children:"Lader brukeren"}):g.jsx("div",{className:"header-container",children:g.jsxs("div",{className:"header-content",children:[g.jsx("div",{className:"header-left",children:g.jsx("a",{href:"/",children:g.jsx("img",{className:"header-logo",src:F2,alt:"Strømlia logo"})})}),g.jsxs("div",{className:`header-links ${r?"open":""}`,children:[g.jsxs("a",{href:"/produkter?kategori=mobiltelefoner",children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M15 2V3.4C15 3.96005 15 4.24008 14.891 4.45399C14.7951 4.64215 14.6422 4.79513 14.454 4.89101C14.2401 5 13.9601 5 13.4 5H10.6C10.0399 5 9.75992 5 9.54601 4.89101C9.35785 4.79513 9.20487 4.64215 9.10899 4.45399C9 4.24008 9 3.96005 9 3.4V2M8.2 22H15.8C16.9201 22 17.4802 22 17.908 21.782C18.2843 21.5903 18.5903 21.2843 18.782 20.908C19 20.4802 19 19.9201 19 18.8V5.2C19 4.07989 19 3.51984 18.782 3.09202C18.5903 2.71569 18.2843 2.40973 17.908 2.21799C17.4802 2 16.9201 2 15.8 2H8.2C7.0799 2 6.51984 2 6.09202 2.21799C5.71569 2.40973 5.40973 2.71569 5.21799 3.09202C5 3.51984 5 4.0799 5 5.2V18.8C5 19.9201 5 20.4802 5.21799 20.908C5.40973 21.2843 5.71569 21.5903 6.09202 21.782C6.51984 22 7.07989 22 8.2 22Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Mobiltelefoner"]}),g.jsxs("a",{href:"/produkter?kategori=laptoper",children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M21 16V7.2C21 6.0799 21 5.51984 20.782 5.09202C20.5903 4.71569 20.2843 4.40973 19.908 4.21799C19.4802 4 18.9201 4 17.8 4H6.2C5.07989 4 4.51984 4 4.09202 4.21799C3.71569 4.40973 3.40973 4.71569 3.21799 5.09202C3 5.51984 3 6.0799 3 7.2V16M4.66667 20H19.3333C19.9533 20 20.2633 20 20.5176 19.9319C21.2078 19.7469 21.7469 19.2078 21.9319 18.5176C22 18.2633 22 17.9533 22 17.3333C22 17.0233 22 16.8683 21.9659 16.7412C21.8735 16.3961 21.6039 16.1265 21.2588 16.0341C21.1317 16 20.9767 16 20.6667 16H3.33333C3.02334 16 2.86835 16 2.74118 16.0341C2.39609 16.1265 2.12654 16.3961 2.03407 16.7412C2 16.8683 2 17.0233 2 17.3333C2 17.9533 2 18.2633 2.06815 18.5176C2.25308 19.2078 2.79218 19.7469 3.48236 19.9319C3.73669 20 4.04669 20 4.66667 20Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Laptoper"]}),g.jsxs("a",{href:"/produkter?kategori=tvogskjermer",children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M15 17V21H9V17M5.2 17H18.8C19.9201 17 20.4802 17 20.908 16.782C21.2843 16.5903 21.5903 16.2843 21.782 15.908C22 15.4802 22 14.9201 22 13.8V6.2C22 5.0799 22 4.51984 21.782 4.09202C21.5903 3.71569 21.2843 3.40973 20.908 3.21799C20.4802 3 19.9201 3 18.8 3H5.2C4.07989 3 3.51984 3 3.09202 3.21799C2.71569 3.40973 2.40973 3.71569 2.21799 4.09202C2 4.51984 2 5.07989 2 6.2V13.8C2 14.9201 2 15.4802 2.21799 15.908C2.40973 16.2843 2.71569 16.5903 3.09202 16.782C3.51984 17 4.0799 17 5.2 17Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"TV og skjermer"]}),g.jsxs("a",{href:"/produkter?kategori=tilbehør",children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M18 9V3.6C18 3.03995 18 2.75992 17.891 2.54601C17.7951 2.35785 17.6422 2.20487 17.454 2.10899C17.2401 2 16.9601 2 16.4 2H7.6C7.03995 2 6.75992 2 6.54601 2.10899C6.35785 2.20487 6.20487 2.35785 6.10899 2.54601C6 2.75992 6 3.03995 6 3.6V9M10 6V5M14 6V5M8.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9265 19.673 20.362C20 19.7202 20 18.8802 20 17.2V12.2C20 11.0799 20 10.5198 19.782 10.092C19.5903 9.71569 19.2843 9.40973 18.908 9.21799C18.4802 9 17.9201 9 16.8 9H7.2C6.0799 9 5.51984 9 5.09202 9.21799C4.71569 9.40973 4.40973 9.71569 4.21799 10.092C4 10.5198 4 11.0799 4 12.2V17.2C4 18.8802 4 19.7202 4.32698 20.362C4.6146 20.9265 5.07354 21.3854 5.63803 21.673C6.27976 22 7.11984 22 8.8 22Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Tilbehør"]}),g.jsxs("a",{href:"/produkter?kategori=smartklokker",children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M17 18.5L16.6631 19.6791C16.4254 20.511 16.3066 20.927 16.0639 21.2358C15.8498 21.5083 15.5685 21.7205 15.2476 21.8515C14.8841 22 14.4515 22 13.5862 22H10.4138C9.54854 22 9.11592 22 8.75239 21.8515C8.43152 21.7205 8.15022 21.5083 7.93606 21.2358C7.69343 20.927 7.57458 20.511 7.33689 19.6791L7 18.5M17 5.5L16.6631 4.32089C16.4254 3.48896 16.3066 3.07298 16.0639 2.76423C15.8498 2.49171 15.5685 2.27953 15.2476 2.14847C14.8841 2 14.4515 2 13.5862 2H10.4138C9.54854 2 9.11592 2 8.75239 2.14847C8.43152 2.27953 8.15022 2.49171 7.93606 2.76423C7.69343 3.07299 7.57458 3.48895 7.33689 4.32089L7 5.5M12 9V12L13.5 13.5M8.7 18.5H15.3C16.4201 18.5 16.9802 18.5 17.408 18.282C17.7843 18.0903 18.0903 17.7843 18.282 17.408C18.5 16.9802 18.5 16.4201 18.5 15.3V8.7C18.5 7.57989 18.5 7.01984 18.282 6.59202C18.0903 6.21569 17.7843 5.90973 17.408 5.71799C16.9802 5.5 16.4201 5.5 15.3 5.5H8.7C7.5799 5.5 7.01984 5.5 6.59202 5.71799C6.21569 5.90973 5.90973 6.21569 5.71799 6.59202C5.5 7.01984 5.5 7.57989 5.5 8.7V15.3C5.5 16.4201 5.5 16.9802 5.71799 17.408C5.90973 17.7843 6.21569 18.0903 6.59202 18.282C7.01984 18.5 7.57989 18.5 8.7 18.5Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Smartklokker"]}),g.jsxs("a",{href:"/produkter?kategori=audio",children:[g.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M2 7.625C2 9.90317 3.84683 11.75 6.125 11.75C6.43089 11.75 6.58383 11.75 6.66308 11.7773C6.82888 11.8345 6.91545 11.9211 6.97266 12.0869C7 12.1662 7 12.2903 7 12.5386V18.875C7 19.7725 7.72754 20.5 8.625 20.5C9.52246 20.5 10.25 19.7725 10.25 18.875V7.625C10.25 5.34683 8.40317 3.5 6.125 3.5C3.84683 3.5 2 5.34683 2 7.625Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M22 7.625C22 9.90317 20.1532 11.75 17.875 11.75C17.5691 11.75 17.4162 11.75 17.3369 11.7773C17.1711 11.8345 17.0845 11.9211 17.0273 12.0869C17 12.1662 17 12.2903 17 12.5386V18.875C17 19.7725 16.2725 20.5 15.375 20.5C14.4775 20.5 13.75 19.7725 13.75 18.875V7.625C13.75 5.34683 15.5968 3.5 17.875 3.5C20.1532 3.5 22 5.34683 22 7.625Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})]}),"Audio"]})]}),g.jsxs("div",{className:"header-right",children:[g.jsx("a",{href:"/konto",children:n?g.jsx("img",{className:"header-profile-img",src:n.photoURL,alt:"Profile image"}):g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M20 21C20 19.6044 20 18.9067 19.8278 18.3389C19.44 17.0605 18.4395 16.06 17.1611 15.6722C16.5933 15.5 15.8956 15.5 14.5 15.5H9.5C8.10444 15.5 7.40665 15.5 6.83886 15.6722C5.56045 16.06 4.56004 17.0605 4.17224 18.3389C4 18.9067 4 19.6044 4 21M16.5 7.5C16.5 9.98528 14.4853 12 12 12C9.51472 12 7.5 9.98528 7.5 7.5C7.5 5.01472 9.51472 3 12 3C14.4853 3 16.5 5.01472 16.5 7.5Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsx("a",{href:"/handlekurv",children:g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M5.52 2.64L3.96 4.72C3.65102 5.13198 3.49652 5.33797 3.50011 5.51039C3.50323 5.66044 3.57358 5.80115 3.69175 5.89368C3.82754 6 4.08503 6 4.6 6H19.4C19.915 6 20.1725 6 20.3083 5.89368C20.4264 5.80115 20.4968 5.66044 20.4999 5.51039C20.5035 5.33797 20.349 5.13198 20.04 4.72L18.48 2.64M5.52 2.64C5.696 2.40533 5.784 2.288 5.89552 2.20338C5.9943 2.12842 6.10616 2.0725 6.22539 2.03845C6.36 2 6.50667 2 6.8 2H17.2C17.4933 2 17.64 2 17.7746 2.03845C17.8938 2.0725 18.0057 2.12842 18.1045 2.20338C18.216 2.288 18.304 2.40533 18.48 2.64M5.52 2.64L3.64 5.14666C3.40254 5.46328 3.28381 5.62159 3.1995 5.79592C3.12469 5.95062 3.07012 6.11431 3.03715 6.28296C3 6.47301 3 6.6709 3 7.06666L3 18.8C3 19.9201 3 20.4802 3.21799 20.908C3.40973 21.2843 3.71569 21.5903 4.09202 21.782C4.51984 22 5.07989 22 6.2 22L17.8 22C18.9201 22 19.4802 22 19.908 21.782C20.2843 21.5903 20.5903 21.2843 20.782 20.908C21 20.4802 21 19.9201 21 18.8V7.06667C21 6.6709 21 6.47301 20.9628 6.28296C20.9299 6.11431 20.8753 5.95062 20.8005 5.79592C20.7162 5.62159 20.5975 5.46328 20.36 5.14667L18.48 2.64M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsx("button",{className:"ham-btn",onClick:()=>e(!r),children:g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M3 12H21M3 6H21M3 18H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})})}function DA(){const[r,e]=P.useState(!1);return P.useEffect(()=>{function n(){e(!1)}return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]),g.jsx("div",{className:"top-container",children:g.jsxs("div",{className:"top-content",children:[g.jsx("div",{className:"top-section",children:g.jsx("a",{className:"top-location",href:"/kontakt",children:"Nå med 10+ butikker over hele Norge"})}),g.jsxs("div",{className:`top-section top-links ${r?"open":""}`,children:[g.jsx("a",{href:"/",children:"Hjem"}),g.jsx("a",{href:"/produkter",children:"Produkter"}),g.jsx("a",{href:"/omoss",children:"Om oss"}),g.jsx("a",{href:"/kontakt",children:"Kontakt"}),g.jsx("a",{href:"/sos",children:"Spørsmål og svar"}),g.jsx("a",{href:"/vilkår",children:"Vilkår"})]}),g.jsxs("div",{className:"top-section",children:[g.jsx("button",{className:"top-ham-btn",onClick:()=>e(!r),children:g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M3 12H21M3 6H21M3 18H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsxs("p",{className:"top-copyright",children:["Strømlia © ",new Date().getFullYear()]})]})]})})}function OA(r){const[e,n]=P.useState({}),[s,o]=P.useState(0);P.useEffect(()=>{o(r.amount),u(r.productId)},[r.productId]);const u=async T=>{try{const C=await wh(T);n(C)}catch(C){console.error("Error fetching the product:",C)}},f=()=>{s!==1&&(RA(r.productId),o(s-1),window.location.reload())},m=()=>{xA(r.productId),o(s+1),window.location.reload()},p=()=>{bA(r.productId),u(r.productId),window.location.reload()};function y(T){for(const C in T)if(Object.hasOwn(T,C))return!1;return!0}return!e||e===void 0||e===null||y(e)?g.jsx("div",{children:"Lader produktet..."}):g.jsxs("div",{className:"shopping-cart-item-container",children:[g.jsxs("div",{className:"shopping-cart-item-title-image-container",children:[g.jsx("img",{src:e.imagePaths[0],alt:e.name}),g.jsxs("div",{className:"shopping-cart-item-info",children:[g.jsx("h3",{children:e.name}),g.jsxs("p",{children:[Yn(Number(e.price))," kr"]})]})]}),g.jsxs("div",{className:"price-buttons-container",children:[g.jsxs("div",{className:"shopping-cart-item-amount-container",children:[g.jsxs("button",{className:"amount-button decrease cart-button",onClick:f,children:["-",g.jsx("span",{className:"bag-tooltip",children:"Senk"})]}),g.jsx("p",{className:"price-p",children:s}),g.jsxs("button",{className:"amount-button increase cart-button",onClick:m,children:["+",g.jsx("span",{className:"bag-tooltip",children:"Øk"})]})]}),g.jsxs("button",{className:"delete-item-button cart-button",onClick:p,children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M16 6V5.2C16 4.0799 16 3.51984 15.782 3.09202C15.5903 2.71569 15.2843 2.40973 14.908 2.21799C14.4802 2 13.9201 2 12.8 2H11.2C10.0799 2 9.51984 2 9.09202 2.21799C8.71569 2.40973 8.40973 2.71569 8.21799 3.09202C8 3.51984 8 4.0799 8 5.2V6M10 11.5V16.5M14 11.5V16.5M3 6H21M19 6V17.2C19 18.8802 19 19.7202 18.673 20.362C18.3854 20.9265 17.9265 21.3854 17.362 21.673C16.7202 22 15.8802 22 14.2 22H9.8C8.11984 22 7.27976 22 6.63803 21.673C6.07354 21.3854 5.6146 20.9265 5.32698 20.362C5 19.7202 5 18.8802 5 17.2V6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsx("span",{className:"bag-tooltip",children:"Fjern"})]})]})]})}function MA(){const[r,e]=P.useState([]),[n,s]=P.useState([]);P.useEffect(()=>{u(),o()},[]);async function o(){const m=await Th();s(Um(m,3))}const u=()=>{const m=Xn();e(m.products)},f=()=>{window.location.replace("/bestilling")};return!r||!n?g.jsx(nr,{message:"Vi henter handlekurven for deg..."}):g.jsxs("div",{className:"shopping-cart-view",children:[g.jsx("div",{className:"shopping-cart-container",children:g.jsxs("div",{className:"shopping-cart-content",children:[g.jsxs("div",{className:"bag-info-container",children:[g.jsxs("div",{children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M5.52 2.64L3.96 4.72C3.65102 5.13198 3.49652 5.33797 3.50011 5.51039C3.50323 5.66044 3.57358 5.80115 3.69175 5.89368C3.82754 6 4.08503 6 4.6 6H19.4C19.915 6 20.1725 6 20.3083 5.89368C20.4264 5.80115 20.4968 5.66044 20.4999 5.51039C20.5035 5.33797 20.349 5.13198 20.04 4.72L18.48 2.64M5.52 2.64C5.696 2.40533 5.784 2.288 5.89552 2.20338C5.9943 2.12842 6.10616 2.0725 6.22539 2.03845C6.36 2 6.50667 2 6.8 2H17.2C17.4933 2 17.64 2 17.7746 2.03845C17.8938 2.0725 18.0057 2.12842 18.1045 2.20338C18.216 2.288 18.304 2.40533 18.48 2.64M5.52 2.64L3.64 5.14666C3.40254 5.46328 3.28381 5.62159 3.1995 5.79592C3.12469 5.95062 3.07012 6.11431 3.03715 6.28296C3 6.47301 3 6.6709 3 7.06666L3 18.8C3 19.9201 3 20.4802 3.21799 20.908C3.40973 21.2843 3.71569 21.5903 4.09202 21.782C4.51984 22 5.07989 22 6.2 22L17.8 22C18.9201 22 19.4802 22 19.908 21.782C20.2843 21.5903 20.5903 21.2843 20.782 20.908C21 20.4802 21 19.9201 21 18.8V7.06667C21 6.6709 21 6.47301 20.9628 6.28296C20.9299 6.11431 20.8753 5.95062 20.8005 5.79592C20.7162 5.62159 20.5975 5.46328 20.36 5.14667L18.48 2.64M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsx("h2",{children:"Handlekurv"})]}),g.jsx("p",{children:"Din handlekurv fylt med smart teknologi – klart til å bli levert!"}),r.length===0?g.jsx("p",{children:"Det er ganske stille her..."}):null]}),r.length===0?null:g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"shopping-cart-items",children:r.map(m=>g.jsx(OA,{productId:m.productId,amount:m.productAmount},m.productId))}),g.jsxs("div",{className:"shopping-cart-summary",children:[g.jsxs("button",{className:"shopping-cart-view-order-button",onClick:f,children:[g.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M20.5 7.27783L12 12.0001M12 12.0001L3.49997 7.27783M12 12.0001L12 21.5001M21 16.0586V7.94153C21 7.59889 21 7.42757 20.9495 7.27477C20.9049 7.13959 20.8318 7.01551 20.7354 6.91082C20.6263 6.79248 20.4766 6.70928 20.177 6.54288L12.777 2.43177C12.4934 2.27421 12.3516 2.19543 12.2015 2.16454C12.0685 2.13721 11.9315 2.13721 11.7986 2.16454C11.6484 2.19543 11.5066 2.27421 11.223 2.43177L3.82297 6.54288C3.52345 6.70928 3.37369 6.79248 3.26463 6.91082C3.16816 7.01551 3.09515 7.13959 3.05048 7.27477C3 7.42757 3 7.59889 3 7.94153V16.0586C3 16.4013 3 16.5726 3.05048 16.7254C3.09515 16.8606 3.16816 16.9847 3.26463 17.0893C3.37369 17.2077 3.52345 17.2909 3.82297 17.4573L11.223 21.5684C11.5066 21.726 11.6484 21.8047 11.7986 21.8356C11.9315 21.863 12.0685 21.863 12.2015 21.8356C12.3516 21.8047 12.4934 21.726 12.777 21.5684L20.177 17.4573C20.4766 17.2909 20.6263 17.2077 20.7354 17.0893C20.8318 16.9847 20.9049 16.8606 20.9495 16.7254C21 16.5726 21 16.4013 21 16.0586Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M16.5 9.5L7.5 4.5",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Legg inn bestilling"]}),g.jsxs("p",{className:"total-price",children:[Yn(Bm())," kr ",g.jsx("span",{className:"tax-text",children:"*Fraktkostnad vil bli beregnet senere."})]})]})]}),g.jsxs("div",{className:"product-detail-view-recommendations",children:[g.jsx("h3",{className:"product-detail-view-recommendations-title",children:r.length===0?g.jsx(g.Fragment,{children:"Her er noe inspirasjon for handlekurven din"}):g.jsx(g.Fragment,{children:"Anbefalte produkt for å gjøre handlekurven din perfekt"})}),g.jsx("div",{className:"recommendations-grid",children:n.map(m=>g.jsx(Ah,{id:m.id,title:m.name,imagePath:m.imagePaths[0],description:m.description,price:m.price,ratings:m.ratings,averageRating:m.averageRating,numberOfRatings:m.numberOfRatings},m.id))})]})]})}),g.jsx(Un,{})]})}function jA(){const[r,e]=P.useState([]),[n,s]=P.useState([]),o=ls(),[u,f]=P.useState({mobiltelefoner:!0,laptoper:!0,tvogskjermer:!0,tilbehør:!0,smartklokker:!0,audio:!0});P.useEffect(()=>{async function y(){try{const T=await Th();e(T)}catch(T){console.error("Error fetching products:",T)}}y()},[]),P.useEffect(()=>{const y=m();let T=r;y&&(T=T.filter(C=>C.productCategory.toLowerCase()===y.toLowerCase())),T=T.filter(C=>u[C.productCategory.toLowerCase()]),s(T)},[r,o,u]);const m=()=>new URLSearchParams(o.search).get("kategori"),p=y=>{const{name:T,checked:C}=y.target;f(x=>({...x,[T]:C}))};return r.length?g.jsxs("div",{className:"projects-view",children:[g.jsx("div",{className:"projects-container",children:g.jsx("div",{className:"projects-content",children:g.jsxs("div",{className:"product-list",children:[g.jsx("div",{className:"product-list-header",children:g.jsxs("div",{className:"product-list-left-header",children:[g.jsx("h3",{children:"Assortimentet vårt"}),g.jsx("p",{children:"Oppdag topp elektronikk som setter standarden for ytelse, design og innovasjon. Utforsk vårt brede utvalg av smarttelefoner, bærbare datamaskiner, og tilbehør fra ledende merker."})]})}),g.jsxs("div",{className:"product-list-filter-container",children:[g.jsxs("div",{className:"product-list-filter",children:[g.jsx("h3",{className:"product-list-filter-title",children:"Filtrer produkt"}),g.jsxs("div",{className:"filtering-block",children:[g.jsx("h3",{children:"Velg produktkategorier"}),Object.keys(u).map(y=>g.jsxs("div",{children:[g.jsx("input",{type:"checkbox",name:y,checked:u[y],onChange:p,className:"input-box"}),g.jsx("p",{children:y.charAt(0).toUpperCase()+y.slice(1)})]},y))]})]}),g.jsx("div",{className:"product-list-products",children:n.map(y=>g.jsx(Ah,{id:y.id,title:y.name,imagePath:y.imagePaths[0],description:y.description,price:y.price,ratings:y.ratings,averageRating:y.averageRating,numberOfRatings:y.numberOfRatings},y.id))})]})]})})}),g.jsx(Un,{})]}):g.jsx(nr,{message:"Vi lader produktene..."})}async function VA(r){const e=`${ho}/users/${r}`;try{const n=await fetch(e);return n.ok||console.error(`Response status: ${n.status}`),await n.json()}catch(n){console.error(n)}}function PA(r){const[e,n]=P.useState(null);P.useEffect(()=>{s(r.userId)},[r.userId]);const s=async o=>{try{n(await VA(o))}catch(u){console.error("Error fetching the user:",u)}};return e?g.jsxs("div",{className:"rating-block-container",children:[g.jsx("div",{className:"rating-split",children:g.jsxs("p",{children:[e.name,", ",r.numberOfStars,"/5"]})}),g.jsx("div",{className:"rating-block-content",children:g.jsx("p",{children:r.comment})})]}):g.jsxs("div",{className:"loading-products",children:[g.jsx("img",{src:K2,alt:"Lader GIF"}),g.jsx("p",{children:"Lader brukeren..."})]})}const LA=({message:r,onClose:e})=>(P.useEffect(()=>{const s=setTimeout(e,4e3);return()=>clearTimeout(s)},[e]),g.jsx("div",{className:"notification-popup",children:r})),UA=({images:r,altText:e})=>{const[n,s]=P.useState(0),o=()=>{s(m=>(m+1)%r.length)},u=()=>{s(m=>m===0?r.length-1:m-1)};function f(){return r.length>1}return g.jsxs("div",{className:"carousel-container",children:[f()?g.jsx("button",{onClick:u,className:"carousel-button left",children:"◀"}):null,g.jsx("img",{src:r[n],alt:e,className:"carousel-image"}),f()?g.jsx("button",{onClick:o,className:"carousel-button right",children:"▶"}):null]})};function BA(r){if(!r||!r.id||!r.name||!r.imagePaths||!r.price){console.error("Invalid product data");return}const e=JSON.parse(localStorage.getItem("favorites"))||[];e.some(n=>n.id===r.id)||(e.push({id:r.id,name:r.name,image:r.imagePaths[0],price:r.price}),localStorage.setItem("favorites",JSON.stringify(e)))}function zA(){return JSON.parse(localStorage.getItem("favorites"))||[]}function HA(r){let e=JSON.parse(localStorage.getItem("favorites"))||[];e=e.filter(n=>n.id!==r),localStorage.setItem("favorites",JSON.stringify(e))}function qA(){const{productId:r}=j2(),[e,n]=P.useState(null),[s,o]=P.useState(1),[u,f]=P.useState([]),[m,p]=P.useState(!1);P.useEffect(()=>{y(r)},[r]);const y=async b=>{try{const S=await wh(b);L(),n(S)}catch(S){console.error("Error fetching the product:",S)}},T=b=>{o(b.target.value)},C=()=>s<1?1:s,x=()=>{G2(e.id,Number(C()),e.price),p(!0)},j=b=>{b.preventDefault()};if(!e||!u)return g.jsx(nr,{message:"Vi henter produktene..."});async function L(){const b=await Th();f(Um(b,3))}let Y=e.ratings;Y.length>5&&(Y=Y.slice(0,5));const q=e.numberOfRatings===0?"Ingen anmeldelser ennå":e.numberOfRatings,K=`Lagt til ${e.name} i handlekurven ${s} gang${s>1?"er":""}!`,Q=e.productStatus.toLowerCase(),W=()=>BA(e);function ce(){switch(Q){case"available":return"#2b9b62";case"limited":return"#ecc900";case"unavailable":return"#bb0036"}}function le(){return Q==="available"?"På lager":Q==="limited"?"Begrenset antall igjen":"Ikke på lager"}function Te(){switch(Q){case"available":return g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})});case"limited":return g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})});case"unavailable":return g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M17 7L7 17M7 7L17 17",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})})}}function D(b){try{const S=JSON.parse(b);if(Array.isArray(S))return S;throw new Error("Parsed value is not an array")}catch(S){return console.error("Invalid input string:",S),[]}}return g.jsxs("div",{className:"product-detail-view-container",children:[g.jsxs("div",{className:"product-detail-view-total-container",children:[g.jsxs("div",{className:"product-detail-view-content",children:[g.jsx("h3",{className:"product-detail-view-name",children:e.name}),g.jsx("div",{className:"product-detail-view-stars",children:g.jsxs("p",{className:"number-of-ratings",children:[q," anmelderser med en gjennomsnitt på ",e.averageRating," stjerner"]})}),g.jsxs("button",{onClick:W,className:"favorite-btn",children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9932 5.13581C9.9938 2.7984 6.65975 2.16964 4.15469 4.31001C1.64964 6.45038 1.29697 10.029 3.2642 12.5604C4.89982 14.6651 9.84977 19.1041 11.4721 20.5408C11.6536 20.7016 11.7444 20.7819 11.8502 20.8135C11.9426 20.8411 12.0437 20.8411 12.1361 20.8135C12.2419 20.7819 12.3327 20.7016 12.5142 20.5408C14.1365 19.1041 19.0865 14.6651 20.7221 12.5604C22.6893 10.029 22.3797 6.42787 19.8316 4.31001C17.2835 2.19216 13.9925 2.7984 11.9932 5.13581Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Legg til i ønskelisten"]}),g.jsxs("div",{className:"product-info-split",children:[g.jsx("div",{className:"product-detail-view-image-container",children:g.jsx(UA,{images:e.imagePaths,altText:e.name})}),g.jsxs("div",{className:"product-detail-view-information",children:[g.jsxs("p",{className:"product-availability",style:{color:ce()},children:[Te(),le()]}),g.jsxs("p",{className:"product-detail-view-price",children:[Yn(e.price)," kr"]}),g.jsx("p",{className:"product-detail-view-description",children:e.description}),g.jsxs("div",{className:"product-add-button-container",children:[g.jsx("input",{className:"amount-input",type:"number",id:"amount-input",placeholder:"1",value:s,min:"1",onChange:T,onKeyDown:j}),g.jsx("button",{className:"product-detail-view-button",onClick:x,disabled:le()==="Ikke på lager",children:le()==="Ikke på lager"?g.jsx(g.Fragment,{children:"Ikke på lager"}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M5.52 2.64L3.96 4.72C3.65102 5.13198 3.49652 5.33797 3.50011 5.51039C3.50323 5.66044 3.57358 5.80115 3.69175 5.89368C3.82754 6 4.08503 6 4.6 6H19.4C19.915 6 20.1725 6 20.3083 5.89368C20.4264 5.80115 20.4968 5.66044 20.4999 5.51039C20.5035 5.33797 20.349 5.13198 20.04 4.72L18.48 2.64M5.52 2.64C5.696 2.40533 5.784 2.288 5.89552 2.20338C5.9943 2.12842 6.10616 2.0725 6.22539 2.03845C6.36 2 6.50667 2 6.8 2H17.2C17.4933 2 17.64 2 17.7746 2.03845C17.8938 2.0725 18.0057 2.12842 18.1045 2.20338C18.216 2.288 18.304 2.40533 18.48 2.64M5.52 2.64L3.64 5.14666C3.40254 5.46328 3.28381 5.62159 3.1995 5.79592C3.12469 5.95062 3.07012 6.11431 3.03715 6.28296C3 6.47301 3 6.6709 3 7.06666L3 18.8C3 19.9201 3 20.4802 3.21799 20.908C3.40973 21.2843 3.71569 21.5903 4.09202 21.782C4.51984 22 5.07989 22 6.2 22L17.8 22C18.9201 22 19.4802 22 19.908 21.782C20.2843 21.5903 20.5903 21.2843 20.782 20.908C21 20.4802 21 19.9201 21 18.8V7.06667C21 6.6709 21 6.47301 20.9628 6.28296C20.9299 6.11431 20.8753 5.95062 20.8005 5.79592C20.7162 5.62159 20.5975 5.46328 20.36 5.14667L18.48 2.64M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Legg i handlekurven"]})})]}),g.jsxs("ul",{className:"product-perks",children:[g.jsxs("li",{children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M9 21V13.6C9 13.0399 9 12.7599 9.109 12.546C9.20487 12.3578 9.35785 12.2049 9.54601 12.109C9.75993 12 10.04 12 10.6 12H13.4C13.9601 12 14.2401 12 14.454 12.109C14.6422 12.2049 14.7951 12.3578 14.891 12.546C15 12.7599 15 13.0399 15 13.6V21M2 9.5L11.04 2.72C11.3843 2.46181 11.5564 2.33271 11.7454 2.28294C11.9123 2.23902 12.0877 2.23902 12.2546 2.28295C12.4436 2.33271 12.6157 2.46181 12.96 2.72L22 9.5M4 8V17.8C4 18.9201 4 19.4802 4.21799 19.908C4.40974 20.2843 4.7157 20.5903 5.09202 20.782C5.51985 21 6.0799 21 7.2 21H16.8C17.9201 21 18.4802 21 18.908 20.782C19.2843 20.5903 19.5903 20.2843 19.782 19.908C20 19.4802 20 18.9201 20 17.8V8L13.92 3.44C13.2315 2.92361 12.8872 2.66542 12.5091 2.56589C12.1754 2.47804 11.8246 2.47804 11.4909 2.56589C11.1128 2.66542 10.7685 2.92361 10.08 3.44L4 8Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsx("span",{className:"perk-span",children:"Gratis"}),"hjemmelevering"]}),g.jsxs("li",{children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M2 10H22V8.2C22 7.0799 22 6.51984 21.782 6.09202C21.5903 5.7157 21.2843 5.40974 20.908 5.21799C20.4802 5 19.9201 5 18.8 5H5.2C4.0799 5 3.51984 5 3.09202 5.21799C2.7157 5.40973 2.40973 5.71569 2.21799 6.09202C2 6.51984 2 7.0799 2 8.2V15.8C2 16.9201 2 17.4802 2.21799 17.908C2.40973 18.2843 2.71569 18.5903 3.09202 18.782C3.51984 19 4.0799 19 5.2 19H11M14.5 21L16.525 20.595C16.7015 20.5597 16.7898 20.542 16.8721 20.5097C16.9452 20.4811 17.0147 20.4439 17.079 20.399C17.1516 20.3484 17.2152 20.2848 17.3426 20.1574L21.5 16C22.0523 15.4477 22.0523 14.5523 21.5 14C20.9477 13.4477 20.0523 13.4477 19.5 14L15.3426 18.1574C15.2152 18.2848 15.1516 18.3484 15.101 18.421C15.0561 18.4853 15.0189 18.5548 14.9903 18.6279C14.958 18.7102 14.9403 18.7985 14.905 18.975L14.5 21Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsx("span",{className:"perk-span",children:"Avbetaling"}),"mulig"]}),g.jsxs("li",{children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M21 9H7.5C5.01472 9 3 11.0147 3 13.5C3 15.9853 5.01472 18 7.5 18H12M21 9L17 5M21 9L17 13",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsx("span",{className:"perk-span",children:"Gratis"}),"retur innen 30 dager"]}),g.jsxs("li",{children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M3 20C5.33579 17.5226 8.50702 16 12 16C15.493 16 18.6642 17.5226 21 20M16.5 7.5C16.5 9.98528 14.4853 12 12 12C9.51472 12 7.5 9.98528 7.5 7.5C7.5 5.01472 9.51472 3 12 3C14.4853 3 16.5 5.01472 16.5 7.5Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsx("span",{className:"perk-span",children:"24/7"}),"kundeservice"]})]})]})]})]}),g.jsx("div",{className:"pdv-section",children:g.jsxs("div",{className:"pdv-section-content",children:[g.jsxs("h3",{children:["Bruksanvisning til ",e.name]}),g.jsx("p",{children:e.productManual.instructions}),g.jsx("h3",{children:"Hovedfunksjoner"}),g.jsx("ul",{children:D(e.productManual.mainFeatures).map((b,S)=>g.jsx("li",{children:b},S))}),g.jsx("h3",{children:"Kompatibilitet og Programvare"}),g.jsx("p",{children:e.productManual.compatibilityAndSoftware})]})}),e.ratings.length>0?g.jsx("div",{className:"product-detail-view-product-ratings-container",children:g.jsxs("div",{className:"product-detail-view-product-ratings",children:[g.jsxs("h3",{children:["Anmelderser (",e.ratings.length,")"]}),Y.map(b=>g.jsx(PA,{id:b.id,comment:b.comment,numberOfStars:b.numberOfStars,userId:b.userId},b.id))]})}):null,g.jsxs("div",{className:"product-detail-view-recommendations",children:[g.jsx("h3",{className:"product-detail-view-recommendations-title",children:"Dette produktet kjøpes vanligvis med"}),g.jsx("div",{className:"recommendations-grid",children:u.map(b=>g.jsx(Ah,{id:b.id,title:b.name,imagePath:b.imagePaths[0],description:b.description,price:b.price,ratings:b.ratings,averageRating:b.averageRating,numberOfRatings:b.numberOfRatings},b.id))})]})]}),m&&g.jsx(LA,{message:K,onClose:()=>p(!1)}),g.jsx(Un,{})]})}const FA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAC5VBMVEVHcEzhr7vRaqHSW5vNXJbOVpW8GWDEQnrOQpDPQ5HGInLKaZXMQ4zMR43PRpHQQZHISonAEGLNTo7KRov1s0W+KW7wr1v4z4fOSpHNQ4/OUZT3u0f0v2T1t032sD3AFWTLOIfMOorQTJXPPo/PQI/OPI32tkb1ul7FM33HMH71zJC6ClrFMXvEKXfCLXTDK3a7F2G6GWG+I2rDNXnBHWvJMoPKOIb0skm9HmXORZDz0YzPSJLPQpL1rDfZaF/HNILFLnzGK3zBI2/JNIS/F2X0qzruoY/0rUbwtWG5KmW/I23zqz/QT4TswZvsNprtN5vtOpz/4FjuNpvwZ7PtPp7tQJ7uRaL/2lXOOYzsOZv/73r0m8zuR6L+11L/4lzkMJD2x+HwW63tNZrRQ5PuTqbsM5r7yEf0n87vWqz4tzvxdrr5vT78y0vFFmfONYjOO47uUKbLL4P/5GLzicPwa7Txerz/6Gv/84T2ttr4zOX9//3uUafpNZfoMZX7xETzh8LxeLrzjMT1r9X+1FD/3lf/6m/eL4z/7HX1sdb7+fr/5mbsNJnJKnzaJYP6wUH65vHTInv+74L79vnPPo7WU5zz0OTHJnn90k7wXa390E3/+IrkNJTrSJj2sDndKof20H364O744+/sPJP8zkviNobOKYDVLof54YPvnkT1qzX8+/z3yePTSZTjibzrRo/GHHDOGnTaSmzdaHj53u3jiKLllcPylsjww93tudbcb3ToXGftg4fUKILghmbzqI7qV5TpOpj3wVLleUjUVVblO5fxzIL63JPMRF/li4341ozlYan/9Y7fe7Pkb7Dimnzjdq7pn8jaaqjpr87rkV/zjU7qfo3iRn32oHDtaGjUNXP2xIXvbpfiO4zeVXXoS6D3qWH4snX832bbWqLXYaT68fbqUZLwwG3zrJvdSYXwZpXfQ2znhE3xg67feWbuZ7H43ev37PP5vH/1qcX4wrz76t3jlKD88K+XnMd2AAAATnRSTlMAAwsiEBmnE8vA/gZ/WqfmIfY5RZ9dJQZRsjGxEkzY9OHyZfPe+fc1ld8P+6bwbbNufG9K5vzSZpmLHnfa8d2/0/zU9e3C/XlZHcSLmXskbOKcAAAFXklEQVRYw+2XZ1wTZxjAL0A07Cl7yHKholWKgttqNwgt5RLLaNKAFMgZhKBtwAVhBQqGhAqIKBsZYgEHouyNonUPnJ12r8+9O+AS7l4OGf3m/0Ny+b25/+95nndD0Cte8f+gxlRXZ6qB2xgaeKOZx6QWdQc9lpO+/jpNPQdLbVKbhpHnaON772vQa5g662SIjIeCIIi+nrlqXBoOmo7ISCPcvV1TV43GY8xCkOzq68Fy+dnr1c94sKOeJZGTOUuGVF1rOIc1Vp/prXLWU5/Qo6sPZw+dSPkcp/L3swM82MmBMRLOWkc4u0H+vBJvu36l/x8ezLKcwGPuCF+TH1GS8vzcM8RZB0tB3QKRDchTKlNwjtR35v57LhtmgWOydIKvnSr8mqCwsPDEvqsIslYbUteEeQ2/fTlGcE8sJ+tv1GQBKrmaBZydHKzKKZSzAzJnT6YFXNWwj0Be3xmbJOqSD/EQT1CBnGXVyYcIkkc5NAjbayK86r1Khq5kJYminvy19yrsRE1OTVPwtHEnmdCdoY1PBTA8GKpkZ08ZRxQVmHD8z8YqWIciMrJHBvcr2UNwMIYnyN5zkGBPfSfm8Unw/6OxT8AiV4mhI6j6TJUDBDF9vOgYggOoJxH3BBx9fBWxN6ZmNvwBkOjoX/uiCX7+voyTmIp7ciLiH52RkXNjzhcM71LlEyVfYeDfuy7f7FTxhB9rq9NjkEskGP50HLsJvlCye/iHb55EjXoyytulUhZpyhlvFfh9BOJjMg9+8fdBPUUhGeV1HfmC15mk6eEm+BCIH4XiZv+Aw6in4mGLX4dgPmkk6boJWtgUdgApLg9APWF30OYOIVlk7CYUe1HwHsfob7a4rjUiI/zGSW82O09ITs1oqzBPKWB7e9HgG/QC7bALfPQRFZFGpMF8FRE3vyWNzpRWdyzsxknsSSK0IHW/2kahxGssDu79miA6Ebf4RcUdLvZUKlxLnmuLpKXKf156mE6bXNyF8hpMJBa6mVNWkc0lYiKzrubTdB4v/k9taGZc3zzpYgOyyGCxdCwd/s3+Tq04WlPxBTxiiXQpg7LzKXPzu5fbfz7dl1Z0CxOJSzbrAraiZSVi/OW0pqzY3M67tCGJsT7zlUg3MQFr9kaFBBPxLx/ncGL7rxTQhoRTqtAB7mp4ufk1j0WJSZzYrPNBk5mCFNRS43ugq0LixT15OzAKN5WdiZteQBC0allJXM3tBB+liUuj8Q5SbDIAi7SXat165J+AmVJxUxPdTEm7qJg30d5vtGFBgP+ISSTC6nTp27QJgvL2lWi5TnAeMbOxCjmacxhTYTGhpqzY3p58Lsjl65WnWGYEklibulstyIiPKMoJCBjNDjf1927/MX8Hmyq6qLUc4LFe+Oa29RXHwsLjQ4pIMeXmdl26n08xSbSWghJjMMxMbUzW46YIFVMiJ+le02U/NnUIaW0xmPCYxVhosgA3HR0x+QSmir47/4APqJE4c/UquhOkmY2tqinQv/kueCiBC6SKh1VYeMaYKaI9kw/s+4LaRdqTnY6tTQhTa3cmeBBJal3nTn5aXzJmau0+nQbeQ2rfMXiZc7/1SHYh7ZHgSRtXu8Xy5W4QC20xU5tLAXD9jzu92vhl7yLu6HgqjwQnNlnHj09uW0XYBhfghiTOfGPeFK5H7hW2pmsiAalN0QOZ2r4LaayJlFCWoEy7KXkgyMQGwk2kmDLtlk/NA71liq3hcyKDxpnS7V5jTFHksQT7nDveNA0PuqyMXDtVTemGU/cQqMSUbrhi+h4V0ww9YybvAsMVM72746YCw5UMaBZM6YYrtaGZ8/Ycl1nxoKZ5s+N5xWzxH6MWokDxc/zBAAAAAElFTkSuQmCC";function GA(){return g.jsx("div",{className:"sm-container",children:g.jsxs("div",{className:"sm-content",children:[g.jsxs("p",{children:[g.jsx("span",{className:"sm1",children:"Livet er bedre når man deler med hverandre!"}),g.jsx("span",{className:"sm2",children:" Bruk koden VENN for 5% rabatt!"})]}),g.jsx("img",{src:FA,alt:"Hjerte emoji"})]})})}function KA(){return g.jsxs("div",{className:"sos-container",children:[g.jsxs("div",{className:"sos-content",children:[g.jsx("h1",{children:"Spørsmål og Svar"}),g.jsx("h3",{children:"Hvor lang tid tar levering?"}),g.jsx("p",{children:"Normalt leverer vi innen 1–3 virkedager i Norge. Bestillinger som legges inn før kl. 14:00 sendes samme dag."}),g.jsx("h3",{children:"Hva skjer hvis jeg mottar et defekt produkt?"}),g.jsx("p",{children:"Dersom du mottar et defekt produkt, ta kontakt med oss så snart som mulig. Vi hjelper deg med retur, bytte eller reparasjon gjennom Apple-garantien."}),g.jsx("h3",{children:"Kan jeg returnere en vare hvis jeg ombestemmer meg?"}),g.jsx("p",{children:"Ja, vi tilbyr 14 dagers angrerett i henhold til norsk lov, så lenge produktet er uåpnet og i original emballasje."}),g.jsx("h3",{children:"Hvordan kontakter jeg kundeservice?"}),g.jsx("p",{children:"Du kan nå oss via e-post, telefon eller live chat på nettsiden vår. Våre åpningstider finner du på kontaktsiden."}),g.jsx("h3",{children:"Er produktene deres originale Apple-produkter?"}),g.jsx("p",{children:"Ja, alle våre produkter er 100 % originale og kommer enten direkte fra Apple eller autoriserte distributører."}),g.jsx("h3",{children:"Tilbyr dere garanti på produktene?"}),g.jsx("p",{children:"Ja, alle Apple-produkter har standard Apple-garanti på ett år. I tillegg kan du kjøpe AppleCare+ for utvidet dekning."}),g.jsx("h3",{children:"Tilbyr dere finansiering eller delbetaling?"}),g.jsx("p",{children:"Ja, vi samarbeider med ulike finansieringsløsninger slik at du kan betale i avdrag. Du finner mer informasjon om dette i kassen."})]}),g.jsx(Un,{})]})}function QA(){const r=["Bergen","Stavanger","Oslo","Drammen","Tromsø","Trondheim","Kristiansand","Fredrikstad","Sandnes","Ålesund","Bodø","Skien"];return g.jsxs("div",{className:"cv-container",children:[g.jsxs("div",{className:"cv-content",children:[g.jsx("h1",{children:"Kontakt"}),g.jsx("h3",{children:"Butikkene våre"}),g.jsx("p",{children:"Hvis du vil besøke oss i én av våre butikker, kan du gå til følgende byer:"}),g.jsx("ul",{children:r.map((e,n)=>g.jsx("li",{children:e},n))}),g.jsx("h3",{children:"Kontaktinformasjon"}),g.jsx("p",{children:"Du kan også nå oss på følgende informasjon:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"E-post:"})," stroomlia@gmail.no"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Tel:"})," +47 76 35 02 40"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Postbuss:"})," 4588, Kvås, Lyndal, Vest-Agder, Sørlandet"]})]}),g.jsx("h3",{children:"Kundeservice"}),g.jsxs("p",{children:["Kundeservice er tilgjengelig 24/7, og er helt gratis å ringe.",g.jsx("br",{})," ",g.jsx("strong",{children:"Tel:"})," +47 76 35 02 40"]})]}),g.jsx(Un,{})]})}function YA(){return g.jsxs("div",{className:"av-container",children:[g.jsxs("div",{className:"av-content",children:[g.jsx("h1",{children:"Om oss"}),g.jsx("p",{children:"Strømlia er en moderne og pålitelig nettbutikk dedikert til å bringe den nyeste Apple-teknologien til kunder over hele Norge. Vi forstår hvor viktig det er å ha tilgang til kvalitetsprodukter, og derfor fokuserer vi på å tilby et bredt utvalg av Apple-enheter til konkurransedyktige priser. Vårt mål er å gjøre teknologihandel enklere, mer pålitelig og mer tilgjengelig for alle som ønsker seg det beste innen innovasjon og design. Med en sømløs nettbutikk og rask levering, sørger Strømlia for at du får produktene du elsker – raskt og problemfritt."}),g.jsx("p",{children:"Hos Strømlia spesialiserer vi oss på Apple-produkter, noe som betyr at du finner alt fra de nyeste iPhone-modellene til kraftige MacBook Pro-er, iPads, AirPods og mer. Vi tilbyr også et bredt utvalg av tilbehør, som MagSafe-ladere, Apple Watch-remmer og Mac-tilbehør for å sikre at du får den ultimate Apple-opplevelsen. Uansett om du er en profesjonell på jakt etter ytelse, en kreativ sjel som trenger det beste innen designverktøy, eller bare vil oppgradere din hverdagsteknologi, har Strømlia noe for deg."}),g.jsx("p",{children:"Strømlia er ikke bare en nettbutikk – det er også et prosjekt bygget fra bunnen av for å demonstrere mine ferdigheter som Full Stack Software Utvikler. Jeg har utviklet hele løsningen ved hjelp av Java Spring på backend og React JS på frontend, for å skape en rask, responsiv og brukervennlig netthandelsplattform. Dette prosjektet er min måte å vise hva jeg kan innen systemutvikling, arkitektur og brukeropplevelse, samtidig som jeg bringer en verdifull tjeneste til det norske markedet. Min lidenskap for teknologi og programvareutvikling har drevet meg til å bygge en løsning som ikke bare er teknisk robust, men også en plattform som kan gi verdi til kunder over hele Norge."})]}),g.jsx(Un,{})]})}async function XA(r){const e=`${ho}/orders`,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};try{const s=await fetch(e,n);if(!s.ok)throw console.error(`Response status: ${s.status}`),new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){throw console.error("Error creating order:",s),s}}async function $A(r){const e=`${ho}/orders/${r}`;try{const n=await fetch(e);return n.ok||console.error(`Response status: ${n.status}`),await n.json()}catch(n){console.error(n)}}async function WA(r){const e=`${ho}/orders/users/${r}`;try{const n=await fetch(e);return n.ok||console.error(`Response status: ${n.status}`),await n.json()}catch(n){console.error(n)}}class ZA{constructor(e,n,s){Mc(this,"productId");Mc(this,"amount");Mc(this,"price");this.productId=e,this.amount=n,this.price=s}}function JA({accountChosen:r}){const[e,n]=P.useState(!1),{user:s}=P.useContext(fo),o=!r,[u,f]=P.useState({email:"",firstName:"",lastName:"",phone:"",address:"",country:"",zipCode:""}),m=C=>{const{name:x,value:j}=C.target;f(L=>({...L,[x]:j}))};function p(){const C=Xn(),x=[];return C.products.forEach(j=>{const L=new ZA(j.productId,j.productAmount,j.productPrice);x.push(L)}),x}const y=async C=>{if(C.preventDefault(),!e)return;const x={orderPersonalia:{uid:s?s.uid:"",email:u.email,firstName:u.firstName,lastName:u.lastName,phonenumber:u.phone,adres:u.address,country:u.country,zipcode:u.zipCode},productAmountCarrierList:p()};localStorage.setItem("orderData",JSON.stringify(x)),window.location.replace("/oversikt")},T=C=>n(C.target.checked);return g.jsxs("form",{onSubmit:y,style:{opacity:`${o?".4":"1"}`},children:[g.jsxs("div",{className:"form-row",children:[g.jsx("label",{className:"form-label",htmlFor:"email",children:"E-post"}),g.jsx("input",{type:"email",id:"email",name:"email",placeholder:"ola.nordmann@gmail.no",value:u.email,onChange:m,className:"form-input",required:!0,disabled:o})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("label",{className:"form-label",htmlFor:"firstName",children:"Fornavn"}),g.jsx("input",{type:"text",id:"firstName",name:"firstName",className:"form-input",placeholder:"Ola",value:u.firstName,onChange:m,required:!0,disabled:o})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("label",{className:"form-label",htmlFor:"lastName",children:"Etternavn"}),g.jsx("input",{className:"form-input",placeholder:"Nordmann",type:"text",id:"lastName",name:"lastName",value:u.lastName,onChange:m,required:!0,disabled:o})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("label",{className:"form-label",htmlFor:"phone",children:"Telefonnummer"}),g.jsx("input",{className:"form-input",placeholder:"+47 46 83 92 71",type:"tel",id:"phone",name:"phone",value:u.phone,onChange:m,disabled:o})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("label",{className:"form-label",htmlFor:"address",children:"Adresse"}),g.jsx("input",{className:"form-input",placeholder:"Solbergveien 17",type:"text",id:"address",name:"address",value:u.address,onChange:m,required:!0,disabled:o})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("label",{className:"form-label",htmlFor:"country",children:"Land"}),g.jsx("input",{className:"form-input",placeholder:"Norge",type:"text",id:"country",name:"country",value:u.country,onChange:m,required:!0,disabled:o})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("label",{className:"form-label",htmlFor:"zipCode",children:"Postalnummer"}),g.jsx("input",{className:"form-input",placeholder:"0487 Oslo",type:"text",id:"zipCode",name:"zipCode",value:u.zipCode,onChange:m,required:!0,disabled:o})]}),g.jsxs("div",{className:"terms-container",children:[g.jsx("input",{id:"terms-and-conditions",type:"checkbox",checked:e,onClick:T,disabled:o}),g.jsxs("label",{htmlFor:"terms-and-conditions",className:"terms-text",children:["Ved å trykke på knappen til venstre aksepterer jeg ",g.jsx("a",{className:"terms-and-agreements-a",href:"/vilkår",target:"_blank",children:"vilkårene og betingelsene"}),"."]})]}),g.jsxs("button",{type:"submit",disabled:o,children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M20.5 7.27783L12 12.0001M12 12.0001L3.49997 7.27783M12 12.0001L12 21.5001M14 20.889L12.777 21.5684C12.4934 21.726 12.3516 21.8047 12.2015 21.8356C12.0685 21.863 11.9315 21.863 11.7986 21.8356C11.6484 21.8047 11.5066 21.726 11.223 21.5684L3.82297 17.4573C3.52346 17.2909 3.37368 17.2077 3.26463 17.0893C3.16816 16.9847 3.09515 16.8606 3.05048 16.7254C3 16.5726 3 16.4013 3 16.0586V7.94153C3 7.59889 3 7.42757 3.05048 7.27477C3.09515 7.13959 3.16816 7.01551 3.26463 6.91082C3.37368 6.79248 3.52345 6.70928 3.82297 6.54288L11.223 2.43177C11.5066 2.27421 11.6484 2.19543 11.7986 2.16454C11.9315 2.13721 12.0685 2.13721 12.2015 2.16454C12.3516 2.19543 12.4934 2.27421 12.777 2.43177L20.177 6.54288C20.4766 6.70928 20.6263 6.79248 20.7354 6.91082C20.8318 7.01551 20.9049 7.13959 20.9495 7.27477C21 7.42757 21 7.59889 21 7.94153L21 12.5001M7.5 4.50008L16.5 9.50008M16 18.0001L18 20.0001L22 16.0001",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Legg inn bestilling"]})]})}function eC({onContinueAsGuest:r}){const e=()=>r(),n=()=>window.location.assign("/konto");return g.jsxs("div",{className:"oaf-container",children:[g.jsxs("button",{onClick:e,children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M19 21L22 18M22 18L19 15M22 18H16M12 15.5H7.5C6.10444 15.5 5.40665 15.5 4.83886 15.6722C3.56045 16.06 2.56004 17.0605 2.17224 18.3389C2 18.9067 2 19.6044 2 21M14.5 7.5C14.5 9.98528 12.4853 12 10 12C7.51472 12 5.5 9.98528 5.5 7.5C5.5 5.01472 7.51472 3 10 3C12.4853 3 14.5 5.01472 14.5 7.5Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Fortsett som gjest"]}),g.jsx("p",{children:"ELLER"}),g.jsx("button",{onClick:n,children:"Gå til påloggingssiden"})]})}const tC=()=>{};var tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nC=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Y2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=u>>2,C=(u&3)<<4|m>>4;let x=(m&15)<<2|y>>6,j=y&63;p||(j=64,f||(x=64)),s.push(n[T],n[C],n[x],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Q2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const C=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||C==null)throw new iC;const x=u<<2|m>>4;if(s.push(x),y!==64){const j=m<<4&240|y>>2;if(s.push(j),C!==64){const L=y<<6&192|C;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class iC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rC=function(r){const e=Q2(r);return Y2.encodeByteArray(e,!0)},eh=function(r){return rC(r).replace(/\./g,"")},X2=function(r){try{return Y2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=()=>sC().__FIREBASE_DEFAULTS__,oC=()=>{if(typeof process>"u"||typeof tv>"u")return;const r=tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&X2(r[1]);return e&&JSON.parse(e)},Ch=()=>{try{return tC()||aC()||oC()||lC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$2=r=>{var e,n;return(n=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},uC=r=>{const e=$2(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},W2=()=>{var r;return(r=Ch())===null||r===void 0?void 0:r.config},Z2=r=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[eh(JSON.stringify(n)),eh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function dC(){var r;const e=(r=Ch())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vC(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yC(){return!dC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _C(){try{return typeof indexedDB=="object"}catch{return!1}}function EC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="FirebaseError";class or extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=TC,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?wC(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new or(o,m,s)}}function wC(r,e){return r.replace(AC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AC=/\{\$([^}]+)}/g;function CC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(nv(u)&&nv(f)){if(!Qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function nv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Nl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function SC(r,e){const n=new bC(r,e);return n.subscribe.bind(n)}class bC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");RC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Qd),o.error===void 0&&(o.error=Qd),o.complete===void 0&&(o.complete=Qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(r){return r&&r._delegate?r._delegate:r}class Ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kC(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IC(r){return r===Fs?void 0:r}function kC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const DC={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},OC=Ne.INFO,MC={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},jC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=MC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=OC,this._logHandler=jC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const VC=(r,e)=>e.some(n=>r instanceof n);let iv,rv;function PC(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LC(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J2=new WeakMap,um=new WeakMap,ey=new WeakMap,Yd=new WeakMap,Hm=new WeakMap;function UC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Wr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&J2.set(n,r)}).catch(()=>{}),Hm.set(e,r),e}function BC(r){if(um.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});um.set(r,e)}let cm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return um.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ey.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zC(r){cm=r(cm)}function HC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Xd(this),e,...n);return ey.set(s,e.sort?e.sort():[e]),Wr(s)}:LC().includes(r)?function(...e){return r.apply(Xd(this),e),Wr(J2.get(this))}:function(...e){return Wr(r.apply(Xd(this),e))}}function qC(r){return typeof r=="function"?HC(r):(r instanceof IDBTransaction&&BC(r),VC(r,PC())?new Proxy(r,cm):r)}function Wr(r){if(r instanceof IDBRequest)return UC(r);if(Yd.has(r))return Yd.get(r);const e=qC(r);return e!==r&&(Yd.set(r,e),Hm.set(e,r)),e}const Xd=r=>Hm.get(r);function FC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Wr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Wr(f.result),p.oldVersion,p.newVersion,Wr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const GC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],$d=new Map;function sv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=KC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GC.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return $d.set(e,u),u}zC(r=>({...r,get:(e,n,s)=>sv(e,n)||r.get(e,n,s),has:(e,n)=>!!sv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hm="@firebase/app",av="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new zm("@firebase/app"),XC="@firebase/app-compat",$C="@firebase/analytics-compat",WC="@firebase/analytics",ZC="@firebase/app-check-compat",JC="@firebase/app-check",eS="@firebase/auth",tS="@firebase/auth-compat",nS="@firebase/database",iS="@firebase/data-connect",rS="@firebase/database-compat",sS="@firebase/functions",aS="@firebase/functions-compat",oS="@firebase/installations",lS="@firebase/installations-compat",uS="@firebase/messaging",cS="@firebase/messaging-compat",hS="@firebase/performance",fS="@firebase/performance-compat",dS="@firebase/remote-config",mS="@firebase/remote-config-compat",pS="@firebase/storage",gS="@firebase/storage-compat",vS="@firebase/firestore",yS="@firebase/vertexai",_S="@firebase/firestore-compat",ES="firebase",TS="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",wS={[hm]:"fire-core",[XC]:"fire-core-compat",[WC]:"fire-analytics",[$C]:"fire-analytics-compat",[JC]:"fire-app-check",[ZC]:"fire-app-check-compat",[eS]:"fire-auth",[tS]:"fire-auth-compat",[nS]:"fire-rtdb",[iS]:"fire-data-connect",[rS]:"fire-rtdb-compat",[sS]:"fire-fn",[aS]:"fire-fn-compat",[oS]:"fire-iid",[lS]:"fire-iid-compat",[uS]:"fire-fcm",[cS]:"fire-fcm-compat",[hS]:"fire-perf",[fS]:"fire-perf-compat",[dS]:"fire-rc",[mS]:"fire-rc-compat",[pS]:"fire-gcs",[gS]:"fire-gcs-compat",[vS]:"fire-fst",[_S]:"fire-fst-compat",[yS]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,AS=new Map,dm=new Map;function ov(r,e){try{r.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function to(r){const e=r.name;if(dm.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,r);for(const n of th.values())ov(n,r);for(const n of AS.values())ov(n,r);return!0}function qm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function vn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new iu("app","Firebase",CS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=TS;function ty(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:fm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=W2()),!n)throw Zr.create("no-options");const u=th.get(o);if(u){if(Qs(n,u.options)&&Qs(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new NC(o);for(const p of dm.values())f.addComponent(p);const m=new SS(n,s,f);return th.set(o,m),m}function ny(r=fm){const e=th.get(r);if(!e&&r===fm&&W2())return ty();if(!e)throw Zr.create("no-app",{appName:r});return e}function Jr(r,e,n){var s;let o=(s=wS[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(m.join(" "));return}to(new Ys(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebase-heartbeat-database",RS=1,ql="firebase-heartbeat-store";let Wd=null;function iy(){return Wd||(Wd=FC(bS,RS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),Wd}async function xS(r){try{const n=(await iy()).transaction(ql),s=await n.objectStore(ql).get(ry(r));return await n.done,s}catch(e){if(e instanceof or)ir.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function lv(r,e){try{const s=(await iy()).transaction(ql,"readwrite");await s.objectStore(ql).put(e,ry(r)),await s.done}catch(n){if(n instanceof or)ir.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(s.message)}}}function ry(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=1024,kS=30;class NS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=uv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>kS){const f=MS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ir.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uv(),{heartbeatsToSend:s,unsentEntries:o}=DS(this._heartbeatsCache.heartbeats),u=eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ir.warn(n),""}}}function uv(){return new Date().toISOString().substring(0,10)}function DS(r,e=IS){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),cv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),cv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _C()?EC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return lv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return lv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function cv(r){return eh(JSON.stringify({version:2,heartbeats:r})).length}function MS(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(r){to(new Ys("platform-logger",e=>new QC(e),"PRIVATE")),to(new Ys("heartbeat",e=>new NS(e),"PRIVATE")),Jr(hm,av,r),Jr(hm,av,"esm2017"),Jr("fire-js","")}jS("");var VS="firebase",PS="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(VS,PS,"app");function Fm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function sy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LS=sy,ay=new iu("auth","Firebase",sy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new zm("@firebase/auth");function US(r,...e){nh.logLevel<=Ne.WARN&&nh.warn(`Auth (${mo}): ${r}`,...e)}function Fc(r,...e){nh.logLevel<=Ne.ERROR&&nh.error(`Auth (${mo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(r,...e){throw Km(r,...e)}function Qn(r,...e){return Km(r,...e)}function Gm(r,e,n){const s=Object.assign(Object.assign({},LS()),{[e]:n});return new iu("auth","Firebase",s).create(e,{appName:r.name})}function Ji(r){return Gm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BS(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ln(r,"argument-error"),Gm(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Km(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ay.create(r,...e)}function ye(r,e,...n){if(!r)throw Km(e,...n)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Fc(e),new Error(e)}function rr(r,e){r||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function zS(){return hv()==="http:"||hv()==="https:"}function hv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zS()||pC()||"connection"in navigator)?navigator.onLine:!0}function qS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=fC()||gC()}get(){return HS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r,e){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new su(3e4,6e4);function us(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function cs(r,e,n,s,o={}){return ly(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ru(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return mC()||(y.referrerPolicy="no-referrer"),oy.fetch()(uy(r,r.config.apiHost,n,m),y)})}async function ly(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},FS),e);try{const o=new QS(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Vc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Vc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Gm(r,T,y);Ln(r,T)}}catch(o){if(o instanceof or)throw o;Ln(r,"network-request-failed",{message:String(o)})}}async function au(r,e,n,s,o={}){const u=await cs(r,e,n,s,o);return"mfaPendingCredential"in u&&Ln(r,"multi-factor-auth-required",{_serverResponse:u}),u}function uy(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Qm(r.config,o):`${r.config.apiScheme}://${o}`}function KS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),GS.get())})}}function Vc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Qn(r,e,s);return o.customData._tokenResponse=n,o}function fv(r){return r!==void 0&&r.enterprise!==void 0}class YS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XS(r,e){return cs(r,"GET","/v2/recaptchaConfig",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(r,e){return cs(r,"POST","/v1/accounts:delete",e)}async function cy(r,e){return cs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WS(r,e=!1){const n=Pn(r),s=await n.getIdToken(e),o=Ym(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:jl(Zd(o.auth_time)),issuedAtTime:jl(Zd(o.iat)),expirationTime:jl(Zd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Zd(r){return Number(r)*1e3}function Ym(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=X2(n);return o?JSON.parse(o):(Fc("Failed to decode base64 JWT payload"),null)}catch(o){return Fc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function dv(r){const e=Ym(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof or&&ZS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ZS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Fl(r,cy(n,{idToken:s}));ye(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?hy(u.providerUserInfo):[],m=t4(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?y:!1,C={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new pm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,C)}async function e4(r){const e=Pn(r);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t4(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hy(r){return r.map(e=>{var{providerId:n}=e,s=Fm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(r,e){const n=await ly(r,{},async()=>{const s=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=uy(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",oy.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i4(r,e){return cs(r,"POST","/v2/accounts:revokeToken",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await n4(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Wa;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $i{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new pm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WS(this,e)}reload(){return e4(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Fl(this,$S(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,T;const C=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,j=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(y=n.createdAt)!==null&&y!==void 0?y:void 0,Q=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:W,emailVerified:ce,isAnonymous:le,providerData:Te,stsTokenManager:D}=n;ye(W&&D,e,"internal-error");const b=Wa.fromJSON(this.name,D);ye(typeof W=="string",e,"internal-error"),Gr(C,e.name),Gr(x,e.name),ye(typeof ce=="boolean",e,"internal-error"),ye(typeof le=="boolean",e,"internal-error"),Gr(j,e.name),Gr(L,e.name),Gr(Y,e.name),Gr(q,e.name),Gr(K,e.name),Gr(Q,e.name);const S=new $i({uid:W,auth:e,email:x,emailVerified:ce,displayName:C,isAnonymous:le,photoURL:L,phoneNumber:j,tenantId:Y,stsTokenManager:b,createdAt:K,lastLoginAt:Q});return Te&&Array.isArray(Te)&&(S.providerData=Te.map(I=>Object.assign({},I))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new $i({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hy(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Wa;m.updateFromIdToken(s);const p=new $i({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;function Wi(r){rr(r instanceof Function,"Expected a class definition");let e=mv.get(r);return e?(rr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,mv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fy.type="NONE";const pv=fy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r,e,n){return`firebase:${r}:${e}:${n}`}class Za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$i._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Za(Wi(pv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Wi(pv);const f=Gc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){const C=$i._fromJSON(e,T);y!==u&&(m=C),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yy(e))return"Blackberry";if(_y(e))return"Webos";if(my(e))return"Safari";if((e.includes("chrome/")||py(e))&&!e.includes("edge/"))return"Chrome";if(vy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function dy(r=$t()){return/firefox\//i.test(r)}function my(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function py(r=$t()){return/crios\//i.test(r)}function gy(r=$t()){return/iemobile/i.test(r)}function vy(r=$t()){return/android/i.test(r)}function yy(r=$t()){return/blackberry/i.test(r)}function _y(r=$t()){return/webos/i.test(r)}function Xm(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function r4(r=$t()){var e;return Xm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s4(){return vC()&&document.documentMode===10}function Ey(r=$t()){return Xm(r)||vy(r)||_y(r)||yy(r)||/windows phone/i.test(r)||gy(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(r,e=[]){let n;switch(r){case"Browser":n=gv($t());break;case"Worker":n=`${gv($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(r,e={}){return cs(r,"GET","/v2/passwordPolicy",us(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=6;class u4{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:l4,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vv(this),this.idTokenSubscription=new vv(this),this.beforeStateQueue=new a4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ay,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cy(this,{idToken:e}),s=await $i._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(vn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(Ji(this));const n=e?Pn(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o4(this),n=new u4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await i4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ty(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&US(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(r){return Pn(r)}class vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=SC(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h4(r){Sh=r}function wy(r){return Sh.loadJS(r)}function f4(){return Sh.recaptchaEnterpriseScript}function d4(){return Sh.gapiScript}function m4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class p4{constructor(){this.enterprise=new g4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class g4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const v4="recaptcha-enterprise",Ay="NO_RECAPTCHA";class y4{constructor(e){this.type=v4,this.auth=hs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{XS(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new YS(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;fv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(Ay)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p4().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&fv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=f4();p.length!==0&&(p+=m),wy(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function yv(r,e,n,s=!1,o=!1){const u=new y4(r);let f;if(o)f=Ay;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await yv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await yv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(r,e){const n=qm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qs(u,e??{}))return o;Ln(o,"already-initialized")}return n.initialize({options:e})}function E4(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function T4(r,e,n){const s=hs(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Cy(e),{host:f,port:m}=w4(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(Qs(y,s.config.emulator)&&Qs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,A4()}function Cy(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function w4(r){const e=Cy(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:_v(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:_v(f)}}}function _v(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function A4(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function C4(r,e){return cs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(r,e){return au(r,"POST","/v1/accounts:signInWithPassword",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(r,e){return au(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}async function R4(r,e){return au(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends $m{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Gl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,n,"signInWithPassword",S4);case"emailLink":return b4(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,s,"signUpPassword",C4);case"emailLink":return R4(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,e){return au(r,"POST","/v1/accounts:signInWithIdp",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="http://localhost";class Xs extends $m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Fm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:x4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k4(r){const e=kl(Nl(r)).link,n=e?kl(Nl(e)).deep_link_id:null,s=kl(Nl(r)).deep_link_id;return(s?kl(Nl(s)).link:null)||s||n||e||r}class Wm{constructor(e){var n,s,o,u,f,m;const p=kl(Nl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,C=I4((o=p.mode)!==null&&o!==void 0?o:null);ye(y&&T&&C,"argument-error"),this.apiKey=y,this.operation=C,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=k4(e);try{return new Wm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Wm.parseLink(n);return ye(s,"argument-error"),Gl._fromEmailAndCode(e,s.code,s.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends ou{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return di.credential(n,s)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends ou{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends ou{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(r,e){return au(r,"POST","/v1/accounts:signUp",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await $i._fromIdTokenResponse(e,s,o),f=Ev(s);return new $s({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Ev(s);return new $s({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends or{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new rh(e,n,s,o)}}function Sy(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,u,e,s):u})}async function D4(r,e,n=!1){const s=await Fl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $s._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(r,e,n=!1){const{auth:s}=r;if(vn(s.app))return Promise.reject(Ji(s));const o="reauthenticate";try{const u=await Fl(r,Sy(s,o,e,r),n);ye(u.idToken,s,"internal-error");const f=Ym(u.idToken);ye(f,s,"internal-error");const{sub:m}=f;return ye(r.uid===m,s,"user-mismatch"),$s._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ln(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function by(r,e,n=!1){if(vn(r.app))return Promise.reject(Ji(r));const s="signIn",o=await Sy(r,s,e),u=await $s._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function M4(r,e){return by(hs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ry(r){const e=hs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j4(r,e,n){if(vn(r.app))return Promise.reject(Ji(r));const s=hs(r),f=await gm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N4).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Ry(r),p}),m=await $s._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function V4(r,e,n){return vn(r.app)?Promise.reject(Ji(r)):M4(Pn(r),po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ry(r),s})}function P4(r,e,n,s){return Pn(r).onIdTokenChanged(e,n,s)}function L4(r,e,n){return Pn(r).beforeAuthStateChanged(e,n)}function U4(r){return Pn(r).signOut()}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1e3,z4=10;class Iy extends xy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ey(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);s4()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,z4):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},B4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Iy.type="LOCAL";const H4=Iy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends xy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ky.type="SESSION";const Ny=ky;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await q4(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Jm("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(C){const x=C;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function G4(r){mi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function K4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q4(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Y4(){return Dy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="firebaseLocalStorageDb",X4=1,ah="firebaseLocalStorage",My="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(r,e){return r.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function $4(){const r=indexedDB.deleteDatabase(Oy);return new lu(r).toPromise()}function vm(){const r=indexedDB.open(Oy,X4);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ah,{keyPath:My})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ah)?e(s):(s.close(),await $4(),e(await vm()))})})}async function Tv(r,e,n){const s=Rh(r,!0).put({[My]:e,value:n});return new lu(s).toPromise()}async function W4(r,e){const n=Rh(r,!1).get(e),s=await new lu(n).toPromise();return s===void 0?null:s.value}function wv(r,e){const n=Rh(r,!0).delete(e);return new lu(n).toPromise()}const Z4=800,J4=3;class jy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>J4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(Y4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await K4(),!this.activeServiceWorker)return;this.sender=new F4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vm();return await Tv(e,sh,"1"),await wv(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>W4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rh(o,!1).getAll();return new lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jy.type="LOCAL";const eb=jy;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(r,e){return e?Wi(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends $m{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tb(r){return by(r.auth,new ep(r),r.bypassAuthState)}function nb(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),O4(n,new ep(r),r.bypassAuthState)}async function ib(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),D4(n,new ep(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tb;case"linkViaPopup":case"linkViaRedirect":return ib;case"reauthViaPopup":case"reauthViaRedirect":return nb;default:Ln(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new su(2e3,1e4);async function Ly(r,e,n){if(vn(r.app))return Promise.reject(Qn(r,"operation-not-supported-in-this-environment"));const s=hs(r);BS(r,e,Zm);const o=Vy(s,n);return new Gs(s,"signInViaPopup",e,o).executeNotNull()}class Gs extends Py{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rb.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="pendingRedirect",Kc=new Map;class ab extends Py{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const s=await ob(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ob(r,e){const n=cb(e),s=ub(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function lb(r,e){Kc.set(r._key(),e)}function ub(r){return Wi(r._redirectPersistence)}function cb(r){return Gc(sb,r.config.apiKey,r.name)}async function hb(r,e,n=!1){if(vn(r.app))return Promise.reject(Ji(r));const s=hs(r),o=Vy(s,e),f=await new ab(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=10*60*1e3;class db{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Uy(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fb&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(e))}saveEventToCache(e){this.cachedEventUids.add(Av(e)),this.lastProcessedEventTime=Date.now()}}function Av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Uy({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mb(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uy(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(r,e={}){return cs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vb=/^https?/;async function yb(r){if(r.config.emulator)return;const{authorizedDomains:e}=await pb(r);for(const n of e)try{if(_b(n))return}catch{}Ln(r,"unauthorized-domain")}function _b(r){const e=mm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!vb.test(n))return!1;if(gb.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new su(3e4,6e4);function Cv(){const r=mi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Tb(r){return new Promise((e,n)=>{var s,o,u;function f(){Cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cv(),n(Qn(r,"network-request-failed"))},timeout:Eb.get()})}if(!((o=(s=mi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=mi().gapi)===null||u===void 0)&&u.load)f();else{const m=m4("iframefcb");return mi()[m]=()=>{gapi.load?f():n(Qn(r,"network-request-failed"))},wy(`${d4()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function wb(r){return Qc=Qc||Tb(r),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new su(5e3,15e3),Cb="__/auth/iframe",Sb="emulator/auth/iframe",bb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xb(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Qm(e,Sb):`https://${r.config.authDomain}/${Cb}`,s={apiKey:e.apiKey,appName:r.name,v:mo},o=Rb.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ru(s).slice(1)}`}async function Ib(r){const e=await wb(r),n=mi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:xb(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bb,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(r,"network-request-failed"),m=mi().setTimeout(()=>{u(f)},Ab.get());function p(){mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nb=500,Db=600,Ob="_blank",Mb="http://localhost";class Sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jb(r,e,n,s=Nb,o=Db){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},kb),{width:s.toString(),height:o.toString(),top:u,left:f}),y=$t().toLowerCase();n&&(m=py(y)?Ob:n),dy(y)&&(e=e||Mb,p.scrollbars="yes");const T=Object.entries(p).reduce((x,[j,L])=>`${x}${j}=${L},`,"");if(r4(y)&&m!=="_self")return Vb(e||"",m),new Sv(null);const C=window.open(e||"",m,T);ye(C,r,"popup-blocked");try{C.focus()}catch{}return new Sv(C)}function Vb(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="__/auth/handler",Lb="emulator/auth/handler",Ub=encodeURIComponent("fac");async function bv(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(e instanceof Zm){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",CC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,C]of Object.entries({}))f[T]=C}if(e instanceof ou){const T=e.getScopes().filter(C=>C!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),y=p?`#${Ub}=${encodeURIComponent(p)}`:"";return`${Bb(r)}?${ru(m).slice(1)}${y}`}function Bb({config:r}){return r.emulator?Qm(r,Lb):`https://${r.authDomain}/${Pb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="webStorageSupport";class zb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ny,this._completeRedirectFn=hb,this._overrideRedirectResult=lb}async _openPopup(e,n,s,o){var u;rr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await bv(e,n,s,mm(),o);return jb(e,f,Jm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await bv(e,n,s,mm(),o);return G4(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Ib(e),s=new db(e);return n.register("authEvent",o=>(ye(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jd,{type:Jd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Jd];f!==void 0&&n(!!f),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ey()||my()||Xm()}}const Hb=zb;var Rv="@firebase/auth",xv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gb(r){to(new Ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ty(r)},y=new c4(s,o,u,p);return E4(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),to(new Ys("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(s=>new qb(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(Rv,xv,Fb(r)),Jr(Rv,xv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=5*60,Qb=Z2("authIdTokenMaxAge")||Kb;let Iv=null;const Yb=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Qb)return;const o=n==null?void 0:n.token;Iv!==o&&(Iv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Xb(r=ny()){const e=qm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=_4(r,{popupRedirectResolver:Hb,persistence:[eb,H4,Ny]}),s=Z2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Yb(u.toString());L4(n,f,()=>f(n.currentUser)),P4(n,m=>f(m))}}const o=$2("auth");return o&&T4(n,`http://${o}`),n}function $b(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}h4({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",$b().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gb("Browser");var kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,By;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function S(){}S.prototype=b.prototype,D.D=b.prototype,D.prototype=new S,D.prototype.constructor=D,D.C=function(I,M,z){for(var k=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)k[_t-2]=arguments[_t];return b.prototype[M].apply(I,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,S){S||(S=0);var I=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)I[M]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(M=0;16>M;++M)I[M]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=D.g[0],S=D.g[1],M=D.g[2];var z=D.g[3],k=b+(z^S&(M^z))+I[0]+3614090360&4294967295;b=S+(k<<7&4294967295|k>>>25),k=z+(M^b&(S^M))+I[1]+3905402710&4294967295,z=b+(k<<12&4294967295|k>>>20),k=M+(S^z&(b^S))+I[2]+606105819&4294967295,M=z+(k<<17&4294967295|k>>>15),k=S+(b^M&(z^b))+I[3]+3250441966&4294967295,S=M+(k<<22&4294967295|k>>>10),k=b+(z^S&(M^z))+I[4]+4118548399&4294967295,b=S+(k<<7&4294967295|k>>>25),k=z+(M^b&(S^M))+I[5]+1200080426&4294967295,z=b+(k<<12&4294967295|k>>>20),k=M+(S^z&(b^S))+I[6]+2821735955&4294967295,M=z+(k<<17&4294967295|k>>>15),k=S+(b^M&(z^b))+I[7]+4249261313&4294967295,S=M+(k<<22&4294967295|k>>>10),k=b+(z^S&(M^z))+I[8]+1770035416&4294967295,b=S+(k<<7&4294967295|k>>>25),k=z+(M^b&(S^M))+I[9]+2336552879&4294967295,z=b+(k<<12&4294967295|k>>>20),k=M+(S^z&(b^S))+I[10]+4294925233&4294967295,M=z+(k<<17&4294967295|k>>>15),k=S+(b^M&(z^b))+I[11]+2304563134&4294967295,S=M+(k<<22&4294967295|k>>>10),k=b+(z^S&(M^z))+I[12]+1804603682&4294967295,b=S+(k<<7&4294967295|k>>>25),k=z+(M^b&(S^M))+I[13]+4254626195&4294967295,z=b+(k<<12&4294967295|k>>>20),k=M+(S^z&(b^S))+I[14]+2792965006&4294967295,M=z+(k<<17&4294967295|k>>>15),k=S+(b^M&(z^b))+I[15]+1236535329&4294967295,S=M+(k<<22&4294967295|k>>>10),k=b+(M^z&(S^M))+I[1]+4129170786&4294967295,b=S+(k<<5&4294967295|k>>>27),k=z+(S^M&(b^S))+I[6]+3225465664&4294967295,z=b+(k<<9&4294967295|k>>>23),k=M+(b^S&(z^b))+I[11]+643717713&4294967295,M=z+(k<<14&4294967295|k>>>18),k=S+(z^b&(M^z))+I[0]+3921069994&4294967295,S=M+(k<<20&4294967295|k>>>12),k=b+(M^z&(S^M))+I[5]+3593408605&4294967295,b=S+(k<<5&4294967295|k>>>27),k=z+(S^M&(b^S))+I[10]+38016083&4294967295,z=b+(k<<9&4294967295|k>>>23),k=M+(b^S&(z^b))+I[15]+3634488961&4294967295,M=z+(k<<14&4294967295|k>>>18),k=S+(z^b&(M^z))+I[4]+3889429448&4294967295,S=M+(k<<20&4294967295|k>>>12),k=b+(M^z&(S^M))+I[9]+568446438&4294967295,b=S+(k<<5&4294967295|k>>>27),k=z+(S^M&(b^S))+I[14]+3275163606&4294967295,z=b+(k<<9&4294967295|k>>>23),k=M+(b^S&(z^b))+I[3]+4107603335&4294967295,M=z+(k<<14&4294967295|k>>>18),k=S+(z^b&(M^z))+I[8]+1163531501&4294967295,S=M+(k<<20&4294967295|k>>>12),k=b+(M^z&(S^M))+I[13]+2850285829&4294967295,b=S+(k<<5&4294967295|k>>>27),k=z+(S^M&(b^S))+I[2]+4243563512&4294967295,z=b+(k<<9&4294967295|k>>>23),k=M+(b^S&(z^b))+I[7]+1735328473&4294967295,M=z+(k<<14&4294967295|k>>>18),k=S+(z^b&(M^z))+I[12]+2368359562&4294967295,S=M+(k<<20&4294967295|k>>>12),k=b+(S^M^z)+I[5]+4294588738&4294967295,b=S+(k<<4&4294967295|k>>>28),k=z+(b^S^M)+I[8]+2272392833&4294967295,z=b+(k<<11&4294967295|k>>>21),k=M+(z^b^S)+I[11]+1839030562&4294967295,M=z+(k<<16&4294967295|k>>>16),k=S+(M^z^b)+I[14]+4259657740&4294967295,S=M+(k<<23&4294967295|k>>>9),k=b+(S^M^z)+I[1]+2763975236&4294967295,b=S+(k<<4&4294967295|k>>>28),k=z+(b^S^M)+I[4]+1272893353&4294967295,z=b+(k<<11&4294967295|k>>>21),k=M+(z^b^S)+I[7]+4139469664&4294967295,M=z+(k<<16&4294967295|k>>>16),k=S+(M^z^b)+I[10]+3200236656&4294967295,S=M+(k<<23&4294967295|k>>>9),k=b+(S^M^z)+I[13]+681279174&4294967295,b=S+(k<<4&4294967295|k>>>28),k=z+(b^S^M)+I[0]+3936430074&4294967295,z=b+(k<<11&4294967295|k>>>21),k=M+(z^b^S)+I[3]+3572445317&4294967295,M=z+(k<<16&4294967295|k>>>16),k=S+(M^z^b)+I[6]+76029189&4294967295,S=M+(k<<23&4294967295|k>>>9),k=b+(S^M^z)+I[9]+3654602809&4294967295,b=S+(k<<4&4294967295|k>>>28),k=z+(b^S^M)+I[12]+3873151461&4294967295,z=b+(k<<11&4294967295|k>>>21),k=M+(z^b^S)+I[15]+530742520&4294967295,M=z+(k<<16&4294967295|k>>>16),k=S+(M^z^b)+I[2]+3299628645&4294967295,S=M+(k<<23&4294967295|k>>>9),k=b+(M^(S|~z))+I[0]+4096336452&4294967295,b=S+(k<<6&4294967295|k>>>26),k=z+(S^(b|~M))+I[7]+1126891415&4294967295,z=b+(k<<10&4294967295|k>>>22),k=M+(b^(z|~S))+I[14]+2878612391&4294967295,M=z+(k<<15&4294967295|k>>>17),k=S+(z^(M|~b))+I[5]+4237533241&4294967295,S=M+(k<<21&4294967295|k>>>11),k=b+(M^(S|~z))+I[12]+1700485571&4294967295,b=S+(k<<6&4294967295|k>>>26),k=z+(S^(b|~M))+I[3]+2399980690&4294967295,z=b+(k<<10&4294967295|k>>>22),k=M+(b^(z|~S))+I[10]+4293915773&4294967295,M=z+(k<<15&4294967295|k>>>17),k=S+(z^(M|~b))+I[1]+2240044497&4294967295,S=M+(k<<21&4294967295|k>>>11),k=b+(M^(S|~z))+I[8]+1873313359&4294967295,b=S+(k<<6&4294967295|k>>>26),k=z+(S^(b|~M))+I[15]+4264355552&4294967295,z=b+(k<<10&4294967295|k>>>22),k=M+(b^(z|~S))+I[6]+2734768916&4294967295,M=z+(k<<15&4294967295|k>>>17),k=S+(z^(M|~b))+I[13]+1309151649&4294967295,S=M+(k<<21&4294967295|k>>>11),k=b+(M^(S|~z))+I[4]+4149444226&4294967295,b=S+(k<<6&4294967295|k>>>26),k=z+(S^(b|~M))+I[11]+3174756917&4294967295,z=b+(k<<10&4294967295|k>>>22),k=M+(b^(z|~S))+I[2]+718787259&4294967295,M=z+(k<<15&4294967295|k>>>17),k=S+(z^(M|~b))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var S=b-this.blockSize,I=this.B,M=this.h,z=0;z<b;){if(M==0)for(;z<=S;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<b;)if(I[M++]=D.charCodeAt(z++),M==this.blockSize){o(this,I),M=0;break}}else for(;z<b;)if(I[M++]=D[z++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var S=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=S&255,S/=256;for(this.u(D),D=Array(16),b=S=0;4>b;++b)for(var I=0;32>I;I+=8)D[S++]=this.g[b]>>>I&255;return D};function u(D,b){var S=m;return Object.prototype.hasOwnProperty.call(S,D)?S[D]:S[D]=b(D)}function f(D,b){this.h=b;for(var S=[],I=!0,M=D.length-1;0<=M;M--){var z=D[M]|0;I&&z==b||(S[M]=z,I=!1)}this.g=S}var m={};function p(D){return-128<=D&&128>D?u(D,function(b){return new f([b|0],0>b?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return C;if(0>D)return q(y(-D));for(var b=[],S=1,I=0;D>=S;I++)b[I]=D/S|0,S*=4294967296;return new f(b,0)}function T(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return q(T(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(b,8)),I=C,M=0;M<D.length;M+=8){var z=Math.min(8,D.length-M),k=parseInt(D.substring(M,M+z),b);8>z?(z=y(Math.pow(b,z)),I=I.j(z).add(y(k))):(I=I.j(S),I=I.add(y(k)))}return I}var C=p(0),x=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-q(this).m();for(var D=0,b=1,S=0;S<this.g.length;S++){var I=this.i(S);D+=(0<=I?I:4294967296+I)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if(Y(this))return"-"+q(this).toString(D);for(var b=y(Math.pow(D,6)),S=this,I="";;){var M=ce(S,b).g;S=K(S,M.j(b));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(D);if(S=M,L(S))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function Y(D){return D.h==-1}r.l=function(D){return D=K(this,D),Y(D)?-1:L(D)?0:1};function q(D){for(var b=D.g.length,S=[],I=0;I<b;I++)S[I]=~D.g[I];return new f(S,~D.h).add(x)}r.abs=function(){return Y(this)?q(this):this},r.add=function(D){for(var b=Math.max(this.g.length,D.g.length),S=[],I=0,M=0;M<=b;M++){var z=I+(this.i(M)&65535)+(D.i(M)&65535),k=(z>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);I=k>>>16,z&=65535,k&=65535,S[M]=k<<16|z}return new f(S,S[S.length-1]&-2147483648?-1:0)};function K(D,b){return D.add(q(b))}r.j=function(D){if(L(this)||L(D))return C;if(Y(this))return Y(D)?q(this).j(q(D)):q(q(this).j(D));if(Y(D))return q(this.j(q(D)));if(0>this.l(j)&&0>D.l(j))return y(this.m()*D.m());for(var b=this.g.length+D.g.length,S=[],I=0;I<2*b;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<D.g.length;M++){var z=this.i(I)>>>16,k=this.i(I)&65535,_t=D.i(M)>>>16,dt=D.i(M)&65535;S[2*I+2*M]+=k*dt,Q(S,2*I+2*M),S[2*I+2*M+1]+=z*dt,Q(S,2*I+2*M+1),S[2*I+2*M+1]+=k*_t,Q(S,2*I+2*M+1),S[2*I+2*M+2]+=z*_t,Q(S,2*I+2*M+2)}for(I=0;I<b;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=b;I<2*b;I++)S[I]=0;return new f(S,0)};function Q(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function W(D,b){this.g=D,this.h=b}function ce(D,b){if(L(b))throw Error("division by zero");if(L(D))return new W(C,C);if(Y(D))return b=ce(q(D),b),new W(q(b.g),q(b.h));if(Y(b))return b=ce(D,q(b)),new W(q(b.g),b.h);if(30<D.g.length){if(Y(D)||Y(b))throw Error("slowDivide_ only works with positive integers.");for(var S=x,I=b;0>=I.l(D);)S=le(S),I=le(I);var M=Te(S,1),z=Te(I,1);for(I=Te(I,2),S=Te(S,2);!L(I);){var k=z.add(I);0>=k.l(D)&&(M=M.add(S),z=k),I=Te(I,1),S=Te(S,1)}return b=K(D,M.j(b)),new W(M,b)}for(M=C;0<=D.l(b);){for(S=Math.max(1,Math.floor(D.m()/b.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=y(S),k=z.j(b);Y(k)||0<k.l(D);)S-=I,z=y(S),k=z.j(b);L(z)&&(z=x),M=M.add(z),D=K(D,k)}return new W(M,D)}r.A=function(D){return ce(this,D).h},r.and=function(D){for(var b=Math.max(this.g.length,D.g.length),S=[],I=0;I<b;I++)S[I]=this.i(I)&D.i(I);return new f(S,this.h&D.h)},r.or=function(D){for(var b=Math.max(this.g.length,D.g.length),S=[],I=0;I<b;I++)S[I]=this.i(I)|D.i(I);return new f(S,this.h|D.h)},r.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),S=[],I=0;I<b;I++)S[I]=this.i(I)^D.i(I);return new f(S,this.h^D.h)};function le(D){for(var b=D.g.length+1,S=[],I=0;I<b;I++)S[I]=D.i(I)<<1|D.i(I-1)>>>31;return new f(S,D.h)}function Te(D,b){var S=b>>5;b%=32;for(var I=D.g.length-S,M=[],z=0;z<I;z++)M[z]=0<b?D.i(z+S)>>>b|D.i(z+S+1)<<32-b:D.i(z+S);return new f(M,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,By=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,es=f}).apply(typeof kv<"u"?kv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zy,Dl,Hy,Yc,ym,qy,Fy,Gy;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,_){return c==Array.prototype||c==Object.prototype||(c[v]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var v=0;v<c.length;++v){var _=c[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,v){if(v)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],v=v(A),v!=A&&v!=null&&e(_,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var _=0,A=!1,B={next:function(){if(!A&&_<c.length){var G=_++;return{value:v(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function y(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function T(c,v,_){return c.call.apply(c.bind,arguments)}function C(c,v,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(v,B)}}return function(){return c.apply(v,arguments)}}function x(c,v,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:C,x.apply(null,arguments)}function j(c,v){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function L(c,v){function _(){}_.prototype=v.prototype,c.aa=v.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,B,G){for(var ie=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ie[Ve-2]=arguments[Ve];return v.prototype[B].apply(A,ie)}}function Y(c){const v=c.length;if(0<v){const _=Array(v);for(let A=0;A<v;A++)_[A]=c[A];return _}return[]}function q(c,v){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const B=c.length||0,G=A.length||0;c.length=B+G;for(let ie=0;ie<G;ie++)c[B+ie]=A[ie]}else c.push(A)}}class K{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var le=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Te(c,v,_){for(const A in c)v.call(_,c[A],A,c)}function D(c,v){for(const _ in c)v.call(void 0,c[_],_,c)}function b(c){const v={};for(const _ in c)v[_]=c[_];return v}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,v){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let G=0;G<S.length;G++)_=S[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function M(c){var v=1;c=c.split(":");const _=[];for(;0<v&&c.length;)_.push(c.shift()),v--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function k(){var c=Fe;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class _t{constructor(){this.h=this.g=null}add(v,_){const A=dt.get();A.set(v,_),this.h?this.h.next=A:this.g=A,this.h=A}}var dt=new K(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,me=!1,Fe=new _t,N=()=>{const c=m.Promise.resolve(void 0);_e=()=>{c.then(te)}};var te=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){z(_)}var v=dt;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}me=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,v),m.removeEventListener("test",_,v)}catch{}return c}();function Re(c,v){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(le){e:{try{ce(v.nodeName);var B=!0;break e}catch{}B=!1}B||(v=null)}}else _=="mouseover"?v=c.fromElement:_=="mouseout"&&(v=c.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}L(Re,se);var Se={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function rt(c,v,_,A,B){this.listener=c,this.proxy=null,this.src=v,this.type=_,this.capture=!!A,this.ha=B,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,v,_,A,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=yn(c,v,A,B);return-1<ie?(v=c[ie],_||(v.fa=!1)):(v=new rt(v,this.src,G,!!A,B),v.fa=_,c.push(v)),v};function wi(c,v){var _=v.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,v,void 0),G;(G=0<=B)&&Array.prototype.splice.call(A,B,1),G&&(Qe(v),c.g[_].length==0&&(delete c.g[_],c.h--))}}function yn(c,v,_,A){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==v&&G.capture==!!_&&G.ha==A)return B}return-1}var lr="closure_lm_"+(1e6*Math.random()|0),ur={};function Ai(c,v,_,A,B){if(Array.isArray(v)){for(var G=0;G<v.length;G++)Ai(c,v[G],_,A,B);return null}return _=du(_),c&&c[mt]?c.K(v,_,y(A)?!!A.capture:!1,B):To(c,v,_,!1,A,B)}function To(c,v,_,A,B,G){if(!v)throw Error("Invalid event type");var ie=y(B)?!!B.capture:!!B,Ve=wo(c);if(Ve||(c[lr]=Ve=new Wt(c)),_=Ve.add(v,_,A,ie,G),_.proxy)return _;if(A=ia(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ae||(B=ie),B===void 0&&(B=!1),c.addEventListener(v.toString(),A,B);else if(c.attachEvent)c.attachEvent(sa(v.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ia(){function c(_){return v.call(c.src,c.listener,_)}const v=Bh;return c}function ra(c,v,_,A,B){if(Array.isArray(v))for(var G=0;G<v.length;G++)ra(c,v[G],_,A,B);else A=y(A)?!!A.capture:!!A,_=du(_),c&&c[mt]?(c=c.i,v=String(v).toString(),v in c.g&&(G=c.g[v],_=yn(G,_,A,B),-1<_&&(Qe(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[v],c.h--)))):c&&(c=wo(c))&&(v=c.g[v.toString()],c=-1,v&&(c=yn(v,_,A,B)),(_=-1<c?v[c]:null)&&fs(_))}function fs(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[mt])wi(v.i,c);else{var _=c.type,A=c.proxy;v.removeEventListener?v.removeEventListener(_,A,c.capture):v.detachEvent?v.detachEvent(sa(_),A):v.addListener&&v.removeListener&&v.removeListener(A),(_=wo(v))?(wi(_,c),_.h==0&&(_.src=null,v[lr]=null)):Qe(c)}}}function sa(c){return c in ur?ur[c]:ur[c]="on"+c}function Bh(c,v){if(c.da)c=!0;else{v=new Re(v,this);var _=c.listener,A=c.ha||c.src;c.fa&&fs(c),c=_.call(A,v)}return c}function wo(c){return c=c[lr],c instanceof Wt?c:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(v){return c.handleEvent(v)}),c[rn])}function Et(){fe.call(this),this.i=new Wt(this),this.M=this,this.F=null}L(Et,fe),Et.prototype[mt]=!0,Et.prototype.removeEventListener=function(c,v,_,A){ra(this,c,v,_,A)};function It(c,v){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=v.type||v,typeof v=="string")v=new se(v,c);else if(v instanceof se)v.target=v.target||c;else{var B=v;v=new se(A,c),I(v,B)}if(B=!0,_)for(var G=_.length-1;0<=G;G--){var ie=v.g=_[G];B=Ci(ie,A,!0,v)&&B}if(ie=v.g=c,B=Ci(ie,A,!0,v)&&B,B=Ci(ie,A,!1,v)&&B,_)for(G=0;G<_.length;G++)ie=v.g=_[G],B=Ci(ie,A,!1,v)&&B}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var _=c.g[v],A=0;A<_.length;A++)Qe(_[A]);delete c.g[v],c.h--}}this.F=null},Et.prototype.K=function(c,v,_,A){return this.i.add(String(c),v,!1,_,A)},Et.prototype.L=function(c,v,_,A){return this.i.add(String(c),v,!0,_,A)};function Ci(c,v,_,A){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var B=!0,G=0;G<v.length;++G){var ie=v[G];if(ie&&!ie.da&&ie.capture==_){var Ve=ie.listener,wt=ie.ha||ie.src;ie.fa&&wi(c.i,ie),B=Ve.call(wt,A)!==!1&&B}}return B&&!A.defaultPrevented}function mu(c,v,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(c,v||0)}function Ao(c){c.g=mu(()=>{c.g=null,c.i&&(c.i=!1,Ao(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class zh extends fe{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ao(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){fe.call(this),this.h=c,this.g={}}L(ds,fe);var cr=[];function Ft(c){Te(c.g,function(v,_){this.g.hasOwnProperty(_)&&fs(v)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),Ft(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Co=m.JSON.stringify,$n=m.JSON.parse,Zt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function pu(c){return c.h||(c.h=c.i())}function gu(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){se.call(this,"d")}L(hr,se);function Bn(){se.call(this,"c")}L(Bn,se);var _n={},fr=null;function aa(){return fr=fr||new Et}_n.La="serverreachability";function bo(c){se.call(this,_n.La,c)}L(bo,se);function dr(c){const v=aa();It(v,new bo(v))}_n.STAT_EVENT="statevent";function oa(c,v){se.call(this,_n.STAT_EVENT,c),this.stat=v}L(oa,se);function ct(c){const v=aa();It(v,new oa(v,c))}_n.Ma="timingevent";function vu(c,v){se.call(this,_n.Ma,c),this.size=v}L(vu,se);function mr(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},v)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function yu(c,v,_,A,B,G){c.info(function(){if(c.g)if(G)for(var ie="",Ve=G.split("&"),wt=0;wt<Ve.length;wt++){var Pe=Ve[wt].split("=");if(1<Pe.length){var Dt=Pe[0];Pe=Pe[1];var At=Dt.split("_");ie=2<=At.length&&At[1]=="type"?ie+(Dt+"="+Pe+"&"):ie+(Dt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+v+`
`+_+`
`+ie})}function _u(c,v,_,A,B,G,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+v+`
`+_+`
`+G+" "+ie})}function gr(c,v,_,A){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+kt(c,_)+(A?" "+A:"")})}function Zn(c,v){c.info(function(){return"TIMEOUT: "+v})}pr.prototype.info=function(){};function kt(c,v){if(!c.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return Co(_)}catch{return v}}var Tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ms;function la(){}L(la,So),la.prototype.g=function(){return new XMLHttpRequest},la.prototype.i=function(){return{}},ms=new la;function Jn(c,v,_,A){this.j=c,this.i=v,this.l=_,this.R=A||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ro}function Ro(){this.i=null,this.g="",this.h=!1}var vr={},ps={};function zn(c,v,_){c.L=1,c.v=ys(st(v)),c.m=_,c.P=!0,bi(c,null)}function bi(c,v){c.F=Date.now(),Je(c),c.A=st(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ii(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Ro,c.g=Ou(c.j,_?v:null,!c.m),0<c.O&&(c.M=new zh(x(c.Y,c,c.g),c.O)),v=c.U,_=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(cr[0]=B.toString()),B=cr);for(var G=0;G<B.length;G++){var ie=Ai(_,B[G],A||v.handleEvent,!1,v.h||v);if(!ie)break;v.g[ie.key]=ie}v=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),dr(),yu(c.i,c.u,c.A,c.l,c.R,c.m)}Jn.prototype.ca=function(c){c=c.target;const v=this.M;v&&Cn(c)==3?v.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const At=Cn(this.g);var v=this.g.Ba();const Oi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||At!=4||v==7||(v==8||0>=Oi?dr(3):dr(2)),ua(this);var _=this.g.Z();this.X=_;t:if(yr(this)){var A=Su(this.g);c="";var B=A.length,G=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),un(this);var ie="";break t}this.h.i=new m.TextDecoder}for(v=0;v<B;v++)this.h.h=!0,c+=this.h.i.decode(A[v],{stream:!(G&&v==B-1)});A.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,_u(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,wt=this.g;if((Ve=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ve)){var Pe=Ve;break t}}Pe=null}if(_=Pe)gr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,_);else{this.o=!1,this.s=3,ct(12),sn(this),un(this);break e}}if(this.P){_=!0;let Pt;for(;!this.J&&this.C<ie.length;)if(Pt=_r(this,ie),Pt==ps){At==4&&(this.s=4,ct(14),_=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==vr){this.s=4,ct(15),gr(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else gr(this.i,this.l,Pt,null),cn(this,Pt);if(yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ie.length!=0||this.h.h||(this.s=1,ct(16),_=!1),this.o=this.o&&_,!_)gr(this.i,this.l,ie,"[Invalid Chunked Response]"),sn(this),un(this);else if(0<ie.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Ss(Dt),Dt.M=!0,ct(11))}}else gr(this.i,this.l,ie,null),cn(this,ie);At==4&&sn(this),this.o&&!this.J&&(At==4?ku(this.j,this):(this.o=!1,Je(this)))}else Qh(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),sn(this),un(this)}}}catch{}finally{}};function yr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _r(c,v){var _=c.C,A=v.indexOf(`
`,_);return A==-1?ps:(_=Number(v.substring(_,A)),isNaN(_)?vr:(A+=1,A+_>v.length?ps:(v=v.slice(A,A+_),c.C=A+_,v)))}Jn.prototype.cancel=function(){this.J=!0,sn(this)};function Je(c){c.S=Date.now()+c.I,xo(c,c.I)}function xo(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mr(x(c.ba,c),v)}function ua(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zn(this.i,this.A),this.L!=2&&(dr(),ct(17)),sn(this),this.s=2,un(this)):xo(this,this.S-c)};function un(c){c.j.G==0||c.J||ku(c.j,c)}function sn(c){ua(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Ft(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function cn(c,v){try{var _=c.j;if(_.G!=0&&(_.g==c||Er(_.h,c))){if(!c.K&&Er(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)_a(_),va(_);else break e;Uo(_),ct(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=mr(x(_.Za,_),6e3));if(1>=Eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Di(_,11)}else if((c.K||_.g==c)&&_a(_),!Q(v))for(B=_.Da.g.parse(v),v=0;v<B.length;v++){let Pe=B[v];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Dt=Pe[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const At=Pe[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Oi=Pe[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(A=1.5*Oi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Pt=c.g;if(Pt){const ai=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var G=A.h;G.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Tr(G,G.h),G.h=null))}if(A.D){const zo=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(A.ya=zo,ze(A.I,A.D,zo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ie=c;if(A.qa=Du(A,A.J?A.ia:null,A.W),ie.K){En(A.h,ie);var Ve=ie,wt=A.L;wt&&(Ve.I=wt),Ve.B&&(ua(Ve),Je(Ve)),A.g=ie}else xu(A);0<_.i.length&&ya(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Di(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Di(_,7):Po(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}dr(4)}catch{}}var Hh=class{constructor(c,v){this.g=c,this.map=v}};function Io(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Eu(c){return c.h?1:c.g?c.g.size:0}function Er(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Tr(c,v){c.g?c.g.add(v):c.h=v}function En(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Io.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const _ of c.g.values())v=v.concat(_.D);return v}return Y(c.i)}function Tu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var v=[],_=c.length,A=0;A<_;A++)v.push(c[A]);return v}v=[],_=0;for(A in c)v[_++]=c[A];return v}function qh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var v=[];c=c.length;for(var _=0;_<c;_++)v.push(_);return v}v=[],_=0;for(const A in c)v[_++]=A;return v}}}function gs(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var _=qh(c),A=Tu(c),B=A.length,G=0;G<B;G++)v.call(void 0,A[G],_&&_[G],c)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,v){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),B=null;if(0<=A){var G=c[_].substring(0,A);B=c[_].substring(A+1)}else G=c[_];v(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ri){this.h=c.h,wr(this,c.j),this.o=c.o,this.g=c.g,vs(this,c.s),this.l=c.l;var v=c.i,_=new ei;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),ha(this,_),this.m=c.m}else c&&(v=String(c).match(No))?(this.h=!1,wr(this,v[1]||"",!0),this.o=Ar(v[2]||""),this.g=Ar(v[3]||"",!0),vs(this,v[4]),this.l=Ar(v[5]||"",!0),ha(this,v[6]||"",!0),this.m=Ar(v[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}Ri.prototype.toString=function(){var c=[],v=this.j;v&&c.push(Tn(v,Do,!0),":");var _=this.g;return(_||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Tn(v,Do,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Tn(_,_.charAt(0)=="/"?Oo:wu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Tn(_,Kh)),c.join("")};function st(c){return new Ri(c)}function wr(c,v,_){c.j=_?Ar(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function vs(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function ha(c,v,_){v instanceof ei?(c.i=v,Mo(c.i,c.h)):(_||(v=Tn(v,Gh)),c.i=new ei(v,c.h))}function ze(c,v,_){c.i.set(v,_)}function ys(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ar(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Tn(c,v,_){return typeof c=="string"?(c=encodeURI(c).replace(v,Fh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Do=/[#\/\?@]/g,wu=/[#\?:]/g,Oo=/[#\?]/g,Gh=/[#\?@]/g,Kh=/#/g;function ei(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(v,_){c.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}r=ei.prototype,r.add=function(c,v){wn(this),this.i=null,c=ki(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(v),this.h+=1,this};function fa(c,v){wn(c),v=ki(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function xi(c,v){return wn(c),v=ki(c,v),c.g.has(v)}r.forEach=function(c,v){wn(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(v,B,A,this)},this)},this)},r.na=function(){wn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let A=0;A<v.length;A++){const B=c[A];for(let G=0;G<B.length;G++)_.push(v[A])}return _},r.V=function(c){wn(this);let v=[];if(typeof c=="string")xi(this,c)&&(v=v.concat(this.g.get(ki(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)v=v.concat(c[_])}return v},r.set=function(c,v){return wn(this),this.i=null,c=ki(this,c),xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},r.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function Ii(c,v,_){fa(c,v),0<_.length&&(c.i=null,c.g.set(ki(c,v),Y(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var A=v[_];const G=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var B=G;ie[A]!==""&&(B+="="+encodeURIComponent(String(ie[A]))),c.push(B)}}return this.i=c.join("&")};function ki(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Mo(c,v){v&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,A){var B=A.toLowerCase();A!=B&&(fa(this,A),Ii(this,B,_))},c)),c.j=v}function Au(c,v){const _=new pr;if(m.Image){const A=new Image;A.onload=j(An,_,"TestLoadImage: loaded",!0,v,A),A.onerror=j(An,_,"TestLoadImage: error",!1,v,A),A.onabort=j(An,_,"TestLoadImage: abort",!1,v,A),A.ontimeout=j(An,_,"TestLoadImage: timeout",!1,v,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else v(!1)}function _s(c,v){const _=new pr,A=new AbortController,B=setTimeout(()=>{A.abort(),An(_,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(B),G.ok?An(_,"TestPingServer: ok",!0,v):An(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),An(_,"TestPingServer: error",!1,v)})}function An(c,v,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Es(){this.g=new Zt}function ti(c,v,_){const A=_||"";try{gs(c,function(B,G){let ie=B;y(B)&&(ie=Co(B)),v.push(A+G+"="+encodeURIComponent(ie))})}catch(B){throw v.push(A+"type="+encodeURIComponent("_badmap")),B}}function Cr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Cr,So),Cr.prototype.g=function(){return new Ni(this.l,this.j)},Cr.prototype.i=function(c){return function(){return c}}({});function Ni(c,v){Et.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ni,Et),r=Ni.prototype,r.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?ni(this):ii(this),this.readyState==3&&jo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},r.Qa=function(c){this.g&&(this.response=c,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}r.setRequestHeader=function(c,v){this.u.append(c,v)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=v.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vo(c){let v="";return Te(c,function(_,A){v+=A,v+=":",v+=_,v+=`\r
`}),v}function Nt(c,v,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Vo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ze(c,v,_))}function Ge(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ge,Et);var da=/^https?$/i,Ts=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,v,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ms.g(),this.v=this.o?pu(this.o):pu(ms),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(G){Cu(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ts,v,void 0))||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of _)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Cu(this,G)}};function Cu(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,ma(c),ri(c)}function ma(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},r.bb=function(){pa(this)};function pa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)mu(c.Ea,0,c);else if(It(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var A;if(A=ie===0){var B=String(c.D).match(No)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!da.test(B?B.toLowerCase():"")}_=A}if(_)It(c,"complete"),It(c,"success");else{c.m=6;try{var G=2<Cn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ma(c)}}finally{ri(c)}}}}function ri(c,v){if(c.g){ws(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||It(c,"ready");try{_.onreadystatechange=A}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),$n(v)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qh(c){const v={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Q(c[A]))continue;var _=M(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=v[B]||[];v[B]=G,G.push(_)}D(v,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||v}function ga(c){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Io(c&&c.concurrentRequestLimit),this.Da=new Es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ga.prototype,r.la=8,r.G=1,r.connect=function(c,v,_,A){ct(0),this.W=c,this.H=v||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Du(this,null,this.W),ya(this)};function Po(c){if(bu(c),c.G==3){var v=c.U++,_=st(c.I);if(ze(_,"SID",c.K),ze(_,"RID",v),ze(_,"TYPE","terminate"),Cs(c,_),v=new Jn(c,c.j,v),v.L=2,v.v=ys(st(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=v.v,_=!0),_||(v.g=Ou(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Je(v)}Nu(c)}function va(c){c.g&&(Ss(c),c.g.cancel(),c.g=null)}function bu(c){va(c),c.u&&(m.clearTimeout(c.u),c.u=null),_a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ya(c){if(!ko(c.h)&&!c.s){c.s=!0;var v=c.Ga;_e||N(),me||(_e(),me=!0),Fe.add(v,c),c.B=0}}function Yh(c,v){return Eu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mr(x(c.Ga,c,v),Bo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Jn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=b(G),I(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Ru(this,B,v),_=st(this.I),ze(_,"RID",c),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Cs(this,_),G&&(this.O?v="headers="+encodeURIComponent(String(Vo(G)))+"&"+v:this.m&&Nt(_,this.m,G)),Tr(this.h,B),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",v),ze(_,"SID","null"),B.T=!0,zn(B,_,null)):zn(B,_,v),this.G=2}}else this.G==3&&(c?Lo(this,c):this.i.length==0||ko(this.h)||Lo(this))};function Lo(c,v){var _;v?_=v.l:_=c.U++;const A=st(c.I);ze(A,"SID",c.K),ze(A,"RID",_),ze(A,"AID",c.T),Cs(c,A),c.m&&c.o&&Nt(A,c.m,c.o),_=new Jn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),v&&(c.i=v.D.concat(c.i)),v=Ru(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Tr(c.h,_),zn(_,A,v)}function Cs(c,v){c.H&&Te(c.H,function(_,A){ze(v,A,_)}),c.l&&gs({},function(_,A){ze(v,A,_)})}function Ru(c,v,_){_=Math.min(c.i.length,_);var A=c.l?x(c.l.Na,c.l,c):null;e:{var B=c.i;let G=-1;for(;;){const ie=["count="+_];G==-1?0<_?(G=B[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Ve=!0;for(let wt=0;wt<_;wt++){let Pe=B[wt].g;const Dt=B[wt].map;if(Pe-=G,0>Pe)G=Math.max(0,B[wt].g-100),Ve=!1;else try{ti(Dt,ie,"req"+Pe+"_")}catch{A&&A(Dt)}}if(Ve){A=ie.join("&");break e}}}return c=c.i.splice(0,_),v.D=c,A}function xu(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;_e||N(),me||(_e(),me=!0),Fe.add(v,c),c.v=0}}function Uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mr(x(c.Fa,c),Bo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mr(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),va(this),Iu(this))};function Ss(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=st(c.qa);ze(v,"RID","rpc"),ze(v,"SID",c.K),ze(v,"AID",c.T),ze(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(v,"TO",c.ja),ze(v,"TYPE","xmlhttp"),Cs(c,v),c.m&&c.o&&Nt(v,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ys(st(v)),_.m=null,_.P=!0,bi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,va(this),Uo(this),ct(19))};function _a(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ku(c,v){var _=null;if(c.g==v){_a(c),Ss(c),c.g=null;var A=2}else if(Er(c.h,v))_=v.D,En(c.h,v),A=1;else return;if(c.G!=0){if(v.o)if(A==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var B=c.B;A=aa(),It(A,new vu(A,_)),ya(c)}else xu(c);else if(B=v.s,B==3||B==0&&0<v.X||!(A==1&&Yh(c,v)||A==2&&Uo(c)))switch(_&&0<_.length&&(v=c.h,v.i=v.i.concat(_)),B){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function Bo(c,v){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*v}function Di(c,v){if(c.j.info("Error code "+v),v==2){var _=x(c.fb,c),A=c.Xa;const B=!A;A=new Ri(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wr(A,"https"),ys(A),B?Au(A.toString(),_):_s(A.toString(),_)}else ct(2);c.G=0,c.l&&c.l.sa(v),Nu(c),bu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const v=Jt(c.h);(v.length!=0||c.i.length!=0)&&(q(c.ka,v),q(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Du(c,v,_){var A=_ instanceof Ri?st(_):new Ri(_);if(A.g!="")v&&(A.g=v+"."+A.g),vs(A,A.s);else{var B=m.location;A=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;var G=new Ri(null);A&&wr(G,A),v&&(G.g=v),B&&vs(G,B),_&&(G.l=_),A=G}return _=c.D,v=c.ya,_&&v&&ze(A,_,v),ze(A,"VER",c.la),Cs(c,A),A}function Ou(c,v,_){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new Ge(new Cr({eb:_})):new Ge(c.pa),v.Ha(c.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ea(){}Ea.prototype.g=function(c,v){return new en(c,v)};function en(c,v){Et.call(this),this.g=new ga(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!Q(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Q(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new si(this)}L(en,Et),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Po(this.g)},en.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Co(c),c=_);v.i.push(new Hh(v.Ya++,c)),v.G==3&&ya(v)},en.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,en.aa.N.call(this)};function ju(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const _ in v){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}L(ju,hr);function Vu(){Bn.call(this),this.status=1}L(Vu,Bn);function si(c){this.g=c}L(si,Mu),si.prototype.ua=function(){It(this.g,"a")},si.prototype.ta=function(c){It(this.g,new ju(c))},si.prototype.sa=function(c){It(this.g,new Vu)},si.prototype.ra=function(){It(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Gy=function(){return new Ea},Fy=function(){return aa()},qy=_n,ym={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,Yc=Tt,Si.COMPLETE="complete",Hy=Si,gu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Dl=gu,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,zy=Ge}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore",Dv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new zm("@firebase/firestore");function Qa(){return Ws.logLevel}function oe(r,...e){if(Ws.logLevel<=Ne.DEBUG){const n=e.map(tp);Ws.debug(`Firestore (${go}): ${r}`,...n)}}function sr(r,...e){if(Ws.logLevel<=Ne.ERROR){const n=e.map(tp);Ws.error(`Firestore (${go}): ${r}`,...n)}}function no(r,...e){if(Ws.logLevel<=Ne.WARN){const n=e.map(tp);Ws.warn(`Firestore (${go}): ${r}`,...n)}}function tp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const e=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+r;throw sr(e),new Error(e)}function Ke(r,e){r||Ee()}function Ce(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class Zb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jb{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new Ky(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Yt(e)}}class e9{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class t9{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new e9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n9{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ov(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new Ov(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=i9(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function io(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=-62135596800,jv=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jv);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mv)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Rt(0,0))}static max(){return new we(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__name__";class fi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(),s===void 0?s=e.length-n:s>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=fi.isNumericId(e),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(e).compare(fi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class ut extends fi{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const r9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends fi{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return r9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new Ht([Vv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ut.fromString(e))}static fromName(e){return new ge(ut.fromString(e).popFirst(5))}static empty(){return new ge(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function s9(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new ns(o,ge.empty(),e)}function a9(r){return new ns(r.readTime,r.key,Kl)}class ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ns(we.min(),ge.empty(),Kl)}static max(){return new ns(we.max(),ge.empty(),Kl)}}function o9(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==l9)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function c9(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}xh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=-1;function Ih(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function h9(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="";function f9(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Pv(e)),e=d9(r.get(n),e);return Pv(e)}function d9(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Yy:n+="";break;default:n+=u}}return n}function Pv(r){return r+Yy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Js(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Xy(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=u??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,s,o,u){return this}insert(e,n,s){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(e){return new Uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class Uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new xt(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $y("Invalid base64 string: "+u):u}}(e);return new qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const m9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=m9.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(r.seconds),nanos:ft(r.nanos)}}function ft(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rs(r){return typeof r=="string"?qt.fromBase64String(r):qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="server_timestamp",Zy="__type__",Jy="__previous_value__",e_="__local_write_time__";function ip(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zy])===null||n===void 0?void 0:n.stringValue)===Wy}function kh(r){const e=r.mapValue.fields[Jy];return ip(e)?kh(e):e}function Ql(r){const e=is(r.mapValue.fields[e_].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const lh="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="__type__",g9="__max__",Uc={mapValue:{}},n_="__vector__",uh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ip(r)?4:y9(r)?9007199254740991:v9(r)?10:11:Ee()}function yi(r,e){if(r===e)return!0;const n=ss(r);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ql(r).isEqual(Ql(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=is(o.timestampValue),m=is(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return rs(o.bytesValue).isEqual(rs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ft(o.geoPointValue.latitude)===ft(u.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ft(o.integerValue)===ft(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ft(o.doubleValue),m=ft(u.doubleValue);return f===m?oh(f)===oh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return io(r.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Lv(f)!==Lv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!yi(f[p],m[p])))return!1;return!0}(r,e);default:return Ee()}}function Xl(r,e){return(r.values||[]).find(n=>yi(n,e))!==void 0}function ro(r,e){if(r===e)return 0;const n=ss(r),s=ss(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ft(u.integerValue||u.doubleValue),p=ft(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Bv(r.timestampValue,e.timestampValue);case 4:return Bv(Ql(r),Ql(e));case 5:return Me(r.stringValue,e.stringValue);case 6:return function(u,f){const m=rs(u),p=rs(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Me(m[y],p[y]);if(T!==0)return T}return Me(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(ft(u.latitude),ft(f.latitude));return m!==0?m:Me(ft(u.longitude),ft(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return zv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,T;const C=u.fields||{},x=f.fields||{},j=(m=C[uh])===null||m===void 0?void 0:m.arrayValue,L=(p=x[uh])===null||p===void 0?void 0:p.arrayValue,Y=Me(((y=j==null?void 0:j.values)===null||y===void 0?void 0:y.length)||0,((T=L==null?void 0:L.values)===null||T===void 0?void 0:T.length)||0);return Y!==0?Y:zv(j,L)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let C=0;C<p.length&&C<T.length;++C){const x=Me(p[C],T[C]);if(x!==0)return x;const j=ro(m[p[C]],y[T[C]]);if(j!==0)return j}return Me(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Ee()}}function Bv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=is(r),s=is(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function zv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ro(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function so(r){return _m(r)}function _m(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return rs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=_m(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${_m(n.fields[f])}`;return o+"}"}(r.mapValue):Ee()}function Xc(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(r);return e?16+Xc(e):16;case 5:return 2*r.stringValue.length;case 6:return rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Xc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Js(s.fields,(u,f)=>{o+=u.length+Xc(f)}),o}(r.mapValue);default:throw Ee()}}function Em(r){return!!r&&"integerValue"in r}function rp(r){return!!r&&"arrayValue"in r}function Hv(r){return!!r&&"nullValue"in r}function qv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $c(r){return!!r&&"mapValue"in r}function v9(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[t_])===null||n===void 0?void 0:n.stringValue)===n_}function Vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Js(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Vl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function y9(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===g9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Vl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Js(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new jn(Vl(this.value))}}function i_(r){const e=[];return Js(r.fields,(n,s)=>{const o=new Ht([n]);if($c(s)){const u=i_(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,we.min(),we.min(),we.min(),jn.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,we.min(),we.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,we.min(),we.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.position=e,this.inclusive=n}}function Fv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=ro(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!yi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function _9(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{}class bt extends r_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new T9(e,n,s):n==="array-contains"?new C9(e,s):n==="in"?new S9(e,s):n==="not-in"?new b9(e,s):n==="array-contains-any"?new R9(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new w9(e,s):new A9(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ro(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends r_{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new _i(e,n)}matches(e){return s_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function s_(r){return r.op==="and"}function a_(r){return E9(r)&&s_(r)}function E9(r){for(const e of r.filters)if(e instanceof _i)return!1;return!0}function Tm(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+so(r.value);if(a_(r))return r.filters.map(e=>Tm(e)).join(",");{const e=r.filters.map(n=>Tm(n)).join(",");return`${r.op}(${e})`}}function o_(r,e){return r instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&yi(s.value,o.value)}(r,e):r instanceof _i?function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&o_(f,o.filters[m]),!0):!1}(r,e):void Ee()}function l_(r){return r instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`}(r):r instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(l_).join(" ,")+"}"}(r):"Filter"}class T9 extends bt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class w9 extends bt{constructor(e,n){super(e,"in",n),this.keys=u_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class A9 extends bt{constructor(e,n){super(e,"not-in",n),this.keys=u_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function u_(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class C9 extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rp(n)&&Xl(n.arrayValue,this.value)}}class S9 extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class b9 extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class R9 extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Kv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new x9(r,e,n,s,o,u,f)}function sp(r){const e=Ce(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Tm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>so(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>so(s)).join(",")),e.le=n}return e.le}function ap(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!_9(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!o_(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Gv(r.startAt,e.startAt)&&Gv(r.endAt,e.endAt)}function wm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function I9(r,e,n,s,o,u,f,m){return new Nh(r,e,n,s,o,u,f,m)}function op(r){return new Nh(r)}function Qv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function k9(r){return r.collectionGroup!==null}function Pl(r){const e=Ce(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new hh(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new hh(Ht.keyField(),s))}return e.he}function pi(r){const e=Ce(r);return e.Pe||(e.Pe=N9(e,Pl(r))),e.Pe}function N9(r,e){if(r.limitType==="F")return Kv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hh(o.field,u)});const n=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return Kv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Am(r,e,n){return new Nh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Dh(r,e){return ap(pi(r),pi(e))&&r.limitType===e.limitType}function c_(r){return`${sp(pi(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>l_(o)).join(", ")}]`),Ih(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>so(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>so(o)).join(",")),`Target(${s})`}(pi(r))}; limitType=${r.limitType})`}function Oh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Pl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Fv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Pl(s),o)||s.endAt&&!function(f,m,p){const y=Fv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Pl(s),o))}(r,e)}function D9(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function h_(r){return(e,n)=>{let s=!1;for(const o of Pl(r)){const u=O9(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function O9(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?ro(p,y):Ee()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Xy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new it(ge.comparator);function ar(){return M9}const f_=new it(ge.comparator);function Ol(...r){let e=f_;for(const n of r)e=e.insert(n.key,n);return e}function d_(r){let e=f_;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ks(){return Ll()}function m_(){return Ll()}function Ll(){return new ea(r=>r.toString(),(r,e)=>r.isEqual(e))}const j9=new it(ge.comparator),V9=new xt(ge.comparator);function De(...r){let e=V9;for(const n of r)e=e.add(n);return e}const P9=new xt(Me);function L9(){return P9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function p_(r){return{integerValue:""+r}}function U9(r,e){return h9(e)?p_(e):lp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function B9(r,e,n){return r instanceof fh?function(o,u){const f={fields:{[Zy]:{stringValue:Wy},[e_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ip(u)&&(u=kh(u)),u&&(f.fields[Jy]=u),{mapValue:f}}(n,e):r instanceof $l?v_(r,e):r instanceof Wl?y_(r,e):function(o,u){const f=g_(o,u),m=Yv(f)+Yv(o.Ie);return Em(f)&&Em(o.Ie)?p_(m):lp(o.serializer,m)}(r,e)}function z9(r,e,n){return r instanceof $l?v_(r,e):r instanceof Wl?y_(r,e):n}function g_(r,e){return r instanceof dh?function(s){return Em(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class fh extends Mh{}class $l extends Mh{constructor(e){super(),this.elements=e}}function v_(r,e){const n=__(e);for(const s of r.elements)n.some(o=>yi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Wl extends Mh{constructor(e){super(),this.elements=e}}function y_(r,e){let n=__(e);for(const s of r.elements)n=n.filter(o=>!yi(o,s));return{arrayValue:{values:n}}}class dh extends Mh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Yv(r){return ft(r.integerValue||r.doubleValue)}function __(r){return rp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function H9(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof $l&&o instanceof $l||s instanceof Wl&&o instanceof Wl?io(s.elements,o.elements,yi):s instanceof dh&&o instanceof dh?yi(s.Ie,o.Ie):s instanceof fh&&o instanceof fh}(r.transform,e.transform)}class q9{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jh{}function E_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new w_(r.key,er.none()):new uu(r.key,r.data,er.none());{const n=r.data,s=jn.empty();let o=new xt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ta(r.key,s,new Kn(o.toArray()),er.none())}}function F9(r,e,n){r instanceof uu?function(o,u,f){const m=o.value.clone(),p=$v(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ta?function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=$v(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(T_(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ul(r,e,n,s){return r instanceof uu?function(u,f,m,p){if(!Wc(u.precondition,f))return m;const y=u.value.clone(),T=Wv(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof ta?function(u,f,m,p){if(!Wc(u.precondition,f))return m;const y=Wv(u.fieldTransforms,p,f),T=f.data;return T.setAll(T_(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(C=>C.field))}(r,e,n,s):function(u,f,m){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function G9(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=g_(s.transform,o||null);u!=null&&(n===null&&(n=jn.empty()),n.set(s.field,u))}return n||null}function Xv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&io(s,o,(u,f)=>H9(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ta extends jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function T_(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function $v(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,z9(f,m,n[o]))}return s}function Wv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,B9(u,f,e))}return s}class w_ extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K9 extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&F9(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=m_();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=E_(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,(n,s)=>Xv(n,s))&&io(this.baseMutations,e.baseMutations,(n,s)=>Xv(n,s))}}class up{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return j9}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new up(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ue;function $9(r){switch(r){case ne.OK:return Ee();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee()}}function A_(r){if(r===void 0)return sr("GRPC error has no .code"),ne.UNKNOWN;switch(r){case yt.OK:return ne.OK;case yt.CANCELLED:return ne.CANCELLED;case yt.UNKNOWN:return ne.UNKNOWN;case yt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case yt.INTERNAL:return ne.INTERNAL;case yt.UNAVAILABLE:return ne.UNAVAILABLE;case yt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case yt.NOT_FOUND:return ne.NOT_FOUND;case yt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case yt.ABORTED:return ne.ABORTED;case yt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case yt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee()}}(Ue=yt||(yt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=new es([4294967295,4294967295],0);function Zv(r){const e=W9().encode(r),n=new By;return n.update(e),new Uint8Array(n.digest())}function Jv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class cp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=es.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(Z9)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Zv(e),[s,o]=Jv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new cp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Zv(e),[s,o]=Jv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vh(we.min(),o,new it(Me),ar(),De())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class C_{constructor(e,n){this.targetId=e,this.ge=n}}class S_{constructor(e,n,s=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class e2{constructor(){this.pe=0,this.ye=t2(),this.we=qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=De(),n=De(),s=De();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee()}}),new cu(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=t2()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class J9{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ar(),this.$e=Bc(),this.Ke=Bc(),this.Ue=new it(Me)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(wm(u))if(s===0){const f=new ge(u.path);this.ze(n,f,Xt.newNoDocument(f,we.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=rs(s).toUint8Array()}catch(p){if(p instanceof $y)return no("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new cp(f,o,u)}catch(p){return no(p instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&wm(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Xt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=De();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Vh(e,n,this.Ue,this.Qe,s);return this.Qe=ar(),this.$e=Bc(),this.Ke=Bc(),this.Ue=new it(Me),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new e2,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new xt(Me),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new xt(Me),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new e2),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new it(ge.comparator)}function t2(){return new it(ge.comparator)}const e5={asc:"ASCENDING",desc:"DESCENDING"},t5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n5={and:"AND",or:"OR"};class i5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cm(r,e){return r.useProto3Json||Ih(e)?e:{value:e}}function mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function r5(r,e){return mh(r,e.toTimestamp())}function gi(r){return Ke(!!r),we.fromTimestamp(function(n){const s=is(n);return new Rt(s.seconds,s.nanos)}(r))}function hp(r,e){return Sm(r,e).canonicalString()}function Sm(r,e){const n=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function R_(r){const e=ut.fromString(r);return Ke(D_(e)),e}function bm(r,e){return hp(r.databaseId,e.path)}function em(r,e){const n=R_(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(I_(n))}function x_(r,e){return hp(r.databaseId,e)}function s5(r){const e=R_(r);return e.length===4?ut.emptyPath():I_(e)}function Rm(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function I_(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function n2(r,e,n){return{name:bm(r,e),fields:n.value.mapValue.fields}}function a5(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Ke(T===void 0||typeof T=="string"),qt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array),qt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const T=y.code===void 0?ne.UNKNOWN:A_(y.code);return new pe(T,y.message||"")}(f);n=new S_(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=em(r,s.document.name),u=gi(s.document.updateTime),f=s.document.createTime?gi(s.document.createTime):we.min(),m=new jn({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Zc(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=em(r,s.document),u=s.readTime?gi(s.readTime):we.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Zc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=em(r,s.document),u=s.removedTargetIds||[];n=new Zc([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new X9(o,u),m=s.targetId;n=new C_(m,f)}}return n}function o5(r,e){let n;if(e instanceof uu)n={update:n2(r,e.key,e.value)};else if(e instanceof w_)n={delete:bm(r,e.key)};else if(e instanceof ta)n={update:n2(r,e.key,e.data),updateMask:g5(e.fieldMask)};else{if(!(e instanceof K9))return Ee();n={verify:bm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof fh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof dh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ee()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:r5(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(r,e.precondition)),n}function l5(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?gi(o.updateTime):gi(u);return f.isEqual(we.min())&&(f=gi(u)),new q9(f,o.transformResults||[])}(n,e))):[]}function u5(r,e){return{documents:[x_(r,e.path)]}}function c5(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=x_(r,o);const u=function(y){if(y.length!==0)return N_(_i.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(x){return{field:Xa(x.field),direction:d5(x.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Cm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function h5(r){let e=s5(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(C){const x=k_(C);return x instanceof _i&&a_(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(x=>function(L){return new hh($a(L.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(C){let x;return x=typeof C=="object"?C.value:C,Ih(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(C){const x=!!C.before,j=C.values||[];return new ch(j,x)}(n.startAt));let y=null;return n.endAt&&(y=function(C){const x=!C.before,j=C.values||[];return new ch(j,x)}(n.endAt)),I9(e,o,f,u,m,"F",p,y)}function f5(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function k_(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(r):r.fieldFilter!==void 0?function(n){return bt.create($a(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(s=>k_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(r):Ee()}function d5(r){return e5[r]}function m5(r){return t5[r]}function p5(r){return n5[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Ht.fromServerFormat(r.fieldPath)}function N_(r){return r instanceof bt?function(n){if(n.op==="=="){if(qv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(Hv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(Hv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:m5(n.op),value:n.value}}}(r):r instanceof _i?function(n){const s=n.getFilters().map(o=>N_(o));return s.length===1?s[0]:{compositeFilter:{op:p5(n.op),filters:s}}}(r):Ee()}function g5(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function D_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,s,o,u=we.min(),f=we.min(),m=qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.Tt=e}}function y5(r){const e=h5({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.Tn=new E5}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(ns.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class E5{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O_=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(O_,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ao(0)}static Un(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="LruGarbageCollector",T5=1048576;function s2([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class w5{constructor(e){this.Hn=e,this.buffer=new xt(s2),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();s2(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A5{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(r2,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?oe(r2,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.er(3e5)})}}class C5{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(xh.ae);const s=new w5(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(i2)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i2):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(s=C,m=Date.now(),this.removeTargets(e,s,n))).next(C=>(u=C,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(y=Date.now(),Qa()<=Ne.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${C} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:C})))}}function S5(r,e){return new C5(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ul(s.mutation,o,Kn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,De()).next(()=>s))}getLocalViewOfDocuments(e,n,s=De()){const o=Ks();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ol();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ks();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,De()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ar();const f=Ll(),m=function(){return Ll()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ta)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Ul(T.mutation,y,T.mutation.getFieldMask(),Rt.now())):f.set(y.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var C;return m.set(y,new R5(T,(C=f.get(y))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ll();let o=new it((f,m)=>f-m),u=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||Kn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const C=(o.get(m.batchId)||De()).add(p);o=o.insert(m.batchId,C)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,C=m_();T.forEach(x=>{if(!u.has(x)){const j=E_(n.get(x),s.get(x));j!==null&&C.set(x,j),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,C))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Ks());let m=Kl,p=u;return f.next(y=>J.forEach(y,(T,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next(x=>{p=p.insert(T,x)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,De())).next(T=>({batchId:m,changes:d_(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Ol();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const y=function(C,x){return new Nh(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((C,x)=>{f=f.insert(C,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Xt.newInvalidDocument(T)))});let m=Ol();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&Ul(T.mutation,y,Kn.empty(),Rt.now()),Oh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:y5(o.bundledQuery),readTime:gi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.overlays=new it(ge.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ks();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Ks(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new it((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Ks(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Ks(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Y9(n,s));let u=this.Rr.get(n);u===void 0&&(u=De(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.Vr=new xt(Vt.mr),this.gr=new xt(Vt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Vt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ge(new ut([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new ut([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=De();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Vt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Me(e.Cr,n.Cr)}static pr(e,n){return Me(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new xt(Vt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Q9(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?np:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Me);return n.forEach(o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new ge(u),0);let m=new xt(Me);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.kr=e,this.docs=function(){return new it(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=ar();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ar();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||o9(a9(T),s)<=0||(o.has(T.key)||Oh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new M5(this)}getSize(e){return J.resolve(this.size)}}class M5 extends b5{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.persistence=e,this.Qr=new ea(n=>sp(n),ap),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new fp,this.targetCount=0,this.Ur=ao.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new xh(0),this.zr=!1,this.zr=!0,this.jr=new N5,this.referenceDelegate=e(this),this.Hr=new j5(this),this.indexManager=new _5,this.remoteDocumentCache=function(o){return new O5(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new v5(n),this.Yr=new I5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new D5(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new V5(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class V5 extends u9{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.ti=new fp,this.ni=null}static ri(e){return new dp(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ph{constructor(e,n){this.persistence=e,this.oi=new ea(s=>f9(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=S5(this,n)}static ri(e,n){return new ph(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=De(),o=De();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yC()?8:c9($t())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new P5;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Qa()<=Ne.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Qa()<=Ne.DEBUG&&oe("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Qa()<=Ne.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):J.resolve())}rs(e,n){if(Qv(n))return J.resolve(null);let s=pi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Am(n,null,"F"),s=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=De(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,Am(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return Qv(n)||o.isEqual(we.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):(Qa()<=Ne.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.hs(e,f,n,s9(o,Kl)).next(m=>m))})}cs(e,n){let s=new xt(h_(e));return n.forEach((o,u)=>{Oh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Qa()<=Ne.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ns.getDocumentsMatchingQuery(e,n,ns.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="LocalStore",U5=3e8;class B5{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new it(Me),this.Is=new ea(u=>sp(u),ap),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x5(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function z5(r,e,n,s){return new B5(r,e,n,s)}async function j_(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=De();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function H5(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const C=y.batch,x=C.keys();let j=J.resolve();return x.forEach(L=>{j=j.next(()=>T.getEntry(p,L)).next(Y=>{const q=y.docVersions.get(L);Ke(q!==null),Y.version.compareTo(q)<0&&(C.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),T.addEntry(Y)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(p,C))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=De();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function V_(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function q5(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,C)=>{const x=o.get(C);if(!x)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,C).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,C)));let j=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?j=j.withResumeToken(qt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),o=o.insert(C,j),function(Y,q,K){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=U5?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(x,j,T)&&m.push(n.Hr.updateTargetData(u,j))});let p=ar(),y=De();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(F5(u,f,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(we.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(C=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function F5(r,e,n){let s=De(),o=De();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ar();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(pp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function G5(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function K5(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new $r(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function xm(r,e,n){const s=Ce(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!yo(f))throw f;oe(pp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function a2(r,e,n){const s=Ce(r);let o=we.min(),u=De();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const C=Ce(p),x=C.Is.get(T);return x!==void 0?J.resolve(C.Ts.get(x)):C.Hr.getTargetData(y,T)}(s,f,pi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:De())).next(m=>(Q5(s,D9(e),m),{documents:m,gs:u})))}function Q5(r,e,n){let s=r.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class o2{constructor(){this.activeTargetIds=L9()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y5{constructor(){this.ho=new o2,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new o2,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="ConnectivityMonitor";class u2{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(l2,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(l2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Im(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",$5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W5{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Im(),m=this.So(e,n.toUriEncodedString());oe(tm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(oe(tm,`Received RPC '${e}' ${f}: `,y),y),y=>{throw no(tm,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=$5[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class J5 extends W5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Im();return new Promise((f,m)=>{const p=new zy;p.setWithCredentials(!0),p.listenOnce(Hy.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yc.NO_ERROR:const T=p.getResponseJson();oe(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case Yc.TIMEOUT:oe(Qt,`RPC '${e}' ${u} timed out`),m(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const C=p.getStatus();if(oe(Qt,`RPC '${e}' ${u} failed with status:`,C,"response text:",p.getResponseText()),C>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const j=x==null?void 0:x.error;if(j&&j.status&&j.message){const L=function(q){const K=q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN}(j.status);m(new pe(L,j.message))}else m(new pe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{oe(Qt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);oe(Qt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=Im(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Gy(),m=Fy(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");oe(Qt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const C=f.createWebChannel(T,p);let x=!1,j=!1;const L=new Z5({Fo:q=>{j?oe(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(x||(oe(Qt,`Opening RPC '${e}' stream ${o} transport.`),C.open(),x=!0),oe(Qt,`RPC '${e}' stream ${o} sending:`,q),C.send(q))},Mo:()=>C.close()}),Y=(q,K,Q)=>{q.listen(K,W=>{try{Q(W)}catch(ce){setTimeout(()=>{throw ce},0)}})};return Y(C,Dl.EventType.OPEN,()=>{j||(oe(Qt,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),Y(C,Dl.EventType.CLOSE,()=>{j||(j=!0,oe(Qt,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),Y(C,Dl.EventType.ERROR,q=>{j||(j=!0,no(Qt,`RPC '${e}' stream ${o} transport errored:`,q),L.Ko(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),Y(C,Dl.EventType.MESSAGE,q=>{var K;if(!j){const Q=q.data[0];Ke(!!Q);const W=Q,ce=(W==null?void 0:W.error)||((K=W[0])===null||K===void 0?void 0:K.error);if(ce){oe(Qt,`RPC '${e}' stream ${o} received error:`,ce);const le=ce.status;let Te=function(S){const I=yt[S];if(I!==void 0)return A_(I)}(le),D=ce.message;Te===void 0&&(Te=ne.INTERNAL,D="Unknown error status: "+le+" with message "+ce.message),j=!0,L.Ko(new pe(Te,D)),C.close()}else oe(Qt,`RPC '${e}' stream ${o} received:`,Q),L.Uo(Q)}}),Y(m,qy.STAT_EVENT,q=>{q.stat===ym.PROXY?oe(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===ym.NOPROXY&&oe(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(r){return new i5(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="PersistentStream";class L_{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new P_(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new pe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(c2,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(oe(c2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e6 extends L_{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=a5(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?gi(f.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Rm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=wm(p)?{documents:u5(u,p)}:{query:c5(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=b_(u,f.resumeToken);const y=Cm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=mh(u,f.snapshotVersion.toTimestamp());const y=Cm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=f5(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Rm(this.serializer),n.removeTarget=e,this.I_(n)}}class t6 extends L_{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=l5(e.writeResults,e.commitTime),s=gi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Rm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>o5(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{}class i6 extends n6{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Sm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Sm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class r6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sr(n),this.N_=!1):oe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class s6{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{na(this)&&(oe(Zs,"Restarting streams for network reachability change."),await async function(p){const y=Ce(p);y.W_.add(4),await hu(y),y.j_.set("Unknown"),y.W_.delete(4),await Lh(y)}(this))})}),this.j_=new r6(s,o)}}async function Lh(r){if(na(r))for(const e of r.G_)await e(!0)}async function hu(r){for(const e of r.G_)await e(!1)}function U_(r,e){const n=Ce(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),_p(n)?yp(n):_o(n).c_()&&vp(n,e))}function gp(r,e){const n=Ce(r),s=_o(n);n.U_.delete(e),s.c_()&&B_(n,e),n.U_.size===0&&(s.c_()?s.P_():na(n)&&n.j_.set("Unknown"))}function vp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(r).y_(e)}function B_(r,e){r.H_.Ne(e),_o(r).w_(e)}function yp(r){r.H_=new J9({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.j_.B_()}function _p(r){return na(r)&&!_o(r).u_()&&r.U_.size>0}function na(r){return Ce(r).W_.size===0}function z_(r){r.H_=void 0}async function a6(r){r.j_.set("Online")}async function o6(r){r.U_.forEach((e,n)=>{vp(r,e)})}async function l6(r,e){z_(r),_p(r)?(r.j_.q_(e),yp(r)):r.j_.set("Unknown")}async function u6(r,e,n){if(r.j_.set("Online"),e instanceof S_&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){oe(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gh(r,s)}else if(e instanceof Zc?r.H_.We(e):e instanceof C_?r.H_.Ze(e):r.H_.je(e),!n.isEqual(we.min()))try{const s=await V_(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(y);T&&u.U_.set(y,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(qt.EMPTY_BYTE_STRING,T.snapshotVersion)),B_(u,p);const C=new $r(T.target,p,y,T.sequenceNumber);vp(u,C)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){oe(Zs,"Failed to raise snapshot:",s),await gh(r,s)}}async function gh(r,e,n){if(!yo(e))throw e;r.W_.add(1),await hu(r),r.j_.set("Offline"),n||(n=()=>V_(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe(Zs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Lh(r)})}function H_(r,e){return e().catch(n=>gh(r,n,e))}async function Uh(r){const e=Ce(r),n=as(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:np;for(;c6(e);)try{const o=await G5(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,h6(e,o)}catch(o){await gh(e,o)}q_(e)&&F_(e)}function c6(r){return na(r)&&r.K_.length<10}function h6(r,e){r.K_.push(e);const n=as(r);n.c_()&&n.b_&&n.S_(e.mutations)}function q_(r){return na(r)&&!as(r).u_()&&r.K_.length>0}function F_(r){as(r).start()}async function f6(r){as(r).C_()}async function d6(r){const e=as(r);for(const n of r.K_)e.S_(n.mutations)}async function m6(r,e,n){const s=r.K_.shift(),o=up.from(s,e,n);await H_(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Uh(r)}async function p6(r,e){e&&as(r).b_&&await async function(s,o){if(function(f){return $9(f)&&f!==ne.ABORTED}(o.code)){const u=s.K_.shift();as(s).h_(),await H_(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Uh(s)}}(r,e),q_(r)&&F_(r)}async function h2(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),oe(Zs,"RemoteStore received new credentials");const s=na(n);n.W_.add(3),await hu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Lh(n)}async function g6(r,e){const n=Ce(r);e?(n.W_.delete(2),await Lh(n)):e||(n.W_.add(2),await hu(n),n.j_.set("Unknown"))}function _o(r){return r.J_||(r.J_=function(n,s,o){const u=Ce(n);return u.M_(),new e6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:a6.bind(null,r),No:o6.bind(null,r),Lo:l6.bind(null,r),p_:u6.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),_p(r)?yp(r):r.j_.set("Unknown")):(await r.J_.stop(),z_(r))})),r.J_}function as(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ce(n);return u.M_(),new t6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:f6.bind(null,r),Lo:p6.bind(null,r),D_:d6.bind(null,r),v_:m6.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Uh(r)):(await r.Y_.stop(),r.K_.length>0&&(oe(Zs,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ep(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(r,e){if(sr("AsyncQueue",`${e}: ${r}`),yo(r))return new pe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ol(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.Z_=new it(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class oo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new oo(e,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class y6{constructor(){this.queries=d2(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=d2(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function d2(){return new ea(r=>c_(r),Dh)}async function _6(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new v6,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Tp(f,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&wp(n)}async function E6(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function T6(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&wp(n)}function w6(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function wp(r){r.ia.forEach(e=>{e.next()})}var km,m2;(m2=km||(km={}))._a="default",m2.Cache="cache";class A6{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.key=e}}class K_{constructor(e){this.key=e}}class C6{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=De(),this.mutatedKeys=De(),this.ya=h_(e),this.wa=new eo(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new f2,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,C)=>{const x=o.get(T),j=Oh(this.query,C)?C:null,L=!!x&&this.mutatedKeys.has(x.key),Y=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let q=!1;x&&j?x.data.isEqual(j.data)?L!==Y&&(s.track({type:3,doc:j}),q=!0):this.va(x,j)||(s.track({type:2,doc:j}),q=!0,(p&&this.ya(j,p)>0||y&&this.ya(j,y)<0)&&(m=!0)):!x&&j?(s.track({type:0,doc:j}),q=!0):x&&!j&&(s.track({type:1,doc:x}),q=!0,(p||y)&&(m=!0)),q&&(j?(f=f.add(j),u=Y?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,C)=>function(j,L){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return Y(j)-Y(L)}(T.type,C.type)||this.ya(T.doc,C.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new oo(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new f2,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=De(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new K_(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new G_(s))}),n}Oa(e){this.fa=e.gs,this.pa=De();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return oo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ap="SyncEngine";class S6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class b6{constructor(e){this.key=e,this.Ba=!1}}class R6{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ea(m=>c_(m),Dh),this.qa=new Map,this.Qa=new Set,this.$a=new it(ge.comparator),this.Ka=new Map,this.Ua=new fp,this.Wa={},this.Ga=new Map,this.za=ao.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function x6(r,e,n=!0){const s=Z_(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Q_(s,e,n,!0),o}async function I6(r,e){const n=Z_(r);await Q_(n,e,!0,!1)}async function Q_(r,e,n,s){const o=await K5(r.localStore,pi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await k6(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&U_(r.remoteStore,o),m}async function k6(r,e,n,s,o){r.Ha=(C,x,j)=>async function(Y,q,K,Q){let W=q.view.Sa(K);W.ls&&(W=await a2(Y.localStore,q.query,!1).then(({documents:D})=>q.view.Sa(D,W)));const ce=Q&&Q.targetChanges.get(q.targetId),le=Q&&Q.targetMismatches.get(q.targetId)!=null,Te=q.view.applyChanges(W,Y.isPrimaryClient,ce,le);return g2(Y,q.targetId,Te.Ma),Te.snapshot}(r,C,x,j);const u=await a2(r.localStore,e,!0),f=new C6(e,u.gs),m=f.Sa(u.documents),p=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);g2(r,n,y.Ma);const T=new S6(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function N6(r,e,n){const s=Ce(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Dh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&gp(s.remoteStore,o.targetId),Nm(s,o.targetId)}).catch(vo)):(Nm(s,o.targetId),await xm(s.localStore,o.targetId,!0))}async function D6(r,e){const n=Ce(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),gp(n.remoteStore,s.targetId))}async function O6(r,e,n){const s=B6(r);try{const o=await function(f,m){const p=Ce(f),y=Rt.now(),T=m.reduce((j,L)=>j.add(L.key),De());let C,x;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let L=ar(),Y=De();return p.ds.getEntries(j,T).next(q=>{L=q,L.forEach((K,Q)=>{Q.isValidDocument()||(Y=Y.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,L)).next(q=>{C=q;const K=[];for(const Q of m){const W=G9(Q,C.get(Q.key).overlayedDocument);W!=null&&K.push(new ta(Q.key,W,i_(W.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,K,m)}).next(q=>{x=q;const K=q.applyToLocalDocumentSet(C,Y);return p.documentOverlayCache.saveOverlays(j,q.batchId,K)})}).then(()=>({batchId:x.batchId,changes:d_(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new it(Me)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await fu(s,o.changes),await Uh(s.remoteStore)}catch(o){const u=Tp(o,"Failed to persist write");n.reject(u)}}async function Y_(r,e){const n=Ce(r);try{const s=await q5(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await fu(n,s,e)}catch(s){await vo(s)}}function p2(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let y=!1;p.queries.forEach((T,C)=>{for(const x of C.ta)x.sa(m)&&(y=!0)}),y&&wp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function M6(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new it(ge.comparator);f=f.insert(u,Xt.newNoDocument(u,we.min()));const m=De().add(u),p=new Vh(we.min(),new Map,new it(Me),f,m);await Y_(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Cp(s)}else await xm(s.localStore,e,!1).then(()=>Nm(s,e,n)).catch(vo)}async function j6(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await H5(n.localStore,e);$_(n,s,null),X_(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await vo(o)}}async function V6(r,e,n){const s=Ce(r);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(C=>(Ke(C!==null),T=C.keys(),p.mutationQueue.removeMutationBatch(y,C))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);$_(s,e,n),X_(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await vo(o)}}function X_(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function $_(r,e,n){const s=Ce(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Nm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||W_(r,s)})}function W_(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(gp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Cp(r))}function g2(r,e,n){for(const s of n)s instanceof G_?(r.Ua.addReference(s.key,e),P6(r,s)):s instanceof K_?(oe(Ap,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||W_(r,s.key)):Ee()}function P6(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(oe(Ap,"New document in limbo: "+n),r.Qa.add(s),Cp(r))}function Cp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ge(ut.fromString(e)),s=r.za.next();r.Ka.set(s,new b6(n)),r.$a=r.$a.insert(n,s),U_(r.remoteStore,new $r(pi(op(n.path)),s,"TargetPurposeLimboResolution",xh.ae))}}async function fu(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const C=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(y){o.push(y);const C=mp.Yi(p.targetId,y);u.push(C)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const T=Ce(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>J.forEach(y,x=>J.forEach(x.Hi,j=>T.persistence.referenceDelegate.addReference(C,x.targetId,j)).next(()=>J.forEach(x.Ji,j=>T.persistence.referenceDelegate.removeReference(C,x.targetId,j)))))}catch(C){if(!yo(C))throw C;oe(pp,"Failed to update sequence numbers: "+C)}for(const C of y){const x=C.targetId;if(!C.fromCache){const j=T.Ts.get(x),L=j.snapshotVersion,Y=j.withLastLimboFreeSnapshotVersion(L);T.Ts=T.Ts.insert(x,Y)}}}(s.localStore,u))}async function L6(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){oe(Ap,"User change. New user:",e.toKey());const s=await j_(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new pe(ne.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Rs)}}function U6(r,e){const n=Ce(r),s=n.Ka.get(e);if(s&&s.Ba)return De().add(s.key);{let o=De();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function Z_(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M6.bind(null,e),e.La.p_=T6.bind(null,e.eventManager),e.La.Ja=w6.bind(null,e.eventManager),e}function B6(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V6.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return z5(this.persistence,new L5,e.initialUser,this.serializer)}Xa(e){return new M_(dp.ri,this.serializer)}Za(e){return new Y5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class z6 extends vh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof ph);const s=this.persistence.referenceDelegate.garbageCollector;return new A5(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new M_(s=>ph.ri(s,n),this.serializer)}}class Dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>p2(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=L6.bind(null,this.syncEngine),await g6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y6}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),s=function(u){return new J5(u)}(e.databaseInfo);return function(u,f,m,p){return new i6(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new s6(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>p2(this.syncEngine,n,0),function(){return u2.D()?new u2:new X5}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,T){const C=new R6(o,u,f,m,p,y);return T&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ce(o);oe(Zs,"RemoteStore shutting down."),u.W_.add(5),await hu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dm.provider={build:()=>new Dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class q6{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=Qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{oe(os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe(os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Tp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function im(r,e){r.asyncQueue.verifyOperationInProgress(),oe(os,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await j_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function v2(r,e){r.asyncQueue.verifyOperationInProgress();const n=await F6(r);oe(os,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>h2(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>h2(e.remoteStore,o)),r._onlineComponents=e}async function F6(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(os,"Using user provided OfflineComponentProvider");try{await im(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await im(r,new vh)}}else oe(os,"Using default OfflineComponentProvider"),await im(r,new z6(void 0));return r._offlineComponents}async function J_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(os,"Using user provided OnlineComponentProvider"),await v2(r,r._uninitializedComponentsProvider._online)):(oe(os,"Using default OnlineComponentProvider"),await v2(r,new Dm))),r._onlineComponents}function G6(r){return J_(r).then(e=>e.syncEngine)}async function K6(r){const e=await J_(r),n=e.eventManager;return n.onListen=x6.bind(null,e.syncEngine),n.onUnlisten=N6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D6.bind(null,e.syncEngine),n}function Q6(r,e,n={}){const s=new ts;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new H6({next:x=>{T.su(),f.enqueueAndForget(()=>E6(u,C));const j=x.docs.has(m);!j&&x.fromCache?y.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&x.fromCache&&p&&p.source==="server"?y.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),C=new A6(op(m.path),T,{includeMetadataChanges:!0,Ta:!0});return _6(u,C)}(await K6(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(r,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function X6(r,e,n,s){if(e===!0&&s===!0)throw new pe(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function _2(r){if(!ge.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Sp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function Zl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sp(r);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firestore.googleapis.com",E2=!0;class T2{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tE,this.ssl=E2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:E2;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T5)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Wb;switch(s.type){case"firstParty":return new t9(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=y2.get(n);s&&(oe("ComponentProvider","Removing Datastore"),y2.delete(n),s.terminate())}(this),Promise.resolve()}}function $6(r,e,n,s={}){var o;const u=(r=Zl(r,bp))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==tE&&u.host!==m&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Qs(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Yt.MOCK_USER;else{y=hC(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Yt(C)}r._authCredentials=new Zb(new Ky(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rp(this.firestore,e,this._query)}}class Vn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Jl extends Rp{constructor(e,n,s){super(e,n,op(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new ge(e))}withConverter(e){return new Jl(this.firestore,e,this._path)}}function xp(r,e,...n){if(r=Pn(r),arguments.length===1&&(e=Qy.newId()),Y6("doc","path",e),r instanceof bp){const s=ut.fromString(e,...n);return _2(s),new Vn(r,null,new ge(s))}{if(!(r instanceof Vn||r instanceof Jl))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return _2(s),new Vn(r.firestore,r instanceof Jl?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="AsyncQueue";class A2{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new P_(this,"async_queue_retry"),this.bu=()=>{const s=nm();s&&oe(w2,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ts;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!yo(e))throw e;oe(w2,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw sr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Ep.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ip extends bp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new A2,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A2(e),this._firestoreClient=void 0,await e}}}function W6(r,e){const n=typeof r=="object"?r:ny(),s=typeof r=="string"?r:lh,o=qm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=uC("firestore");u&&$6(o,...u)}return o}function nE(r){if(r._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Z6(r),r._firestoreClient}function Z6(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,T){return new p9(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,eE(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new q6(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lo(qt.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lo(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=/^__.*__$/;class e3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}function rE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Op{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Op(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(rE(this.Lu)&&J6.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class t3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ph(e)}ju(e,n,s,o=!1){return new Op({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n3(r){const e=r._freezeSettings(),n=Ph(r._databaseId);return new t3(r._databaseId,!!e.ignoreUndefinedProperties,n)}function i3(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);lE("Data must be an object, but it was:",f,s);const m=aE(s,f);let p,y;if(u.merge)p=new Kn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const C of u.mergeFields){const x=r3(e,C,n);if(!f.contains(x))throw new pe(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);a3(T,x)||T.push(x)}p=new Kn(T),y=f.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,y=f.fieldTransforms;return new e3(new jn(m),p,y)}function sE(r,e){if(oE(r=Pn(r)))return lE("Unsupported field value:",e,r),aE(r,e);if(r instanceof iE)return function(s,o){if(!rE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=sE(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return U9(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:mh(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mh(o.serializer,u)}}if(s instanceof Np)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof lo)return{bytesValue:b_(o.serializer,s._byteString)};if(s instanceof Vn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Dp)return function(f,m){return{mapValue:{fields:{[t_]:{stringValue:n_},[uh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return lp(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Sp(s)}`)}(r,e)}function aE(r,e){const n={};return Xy(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(r,(s,o)=>{const u=sE(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function oE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Np||r instanceof lo||r instanceof Vn||r instanceof iE||r instanceof Dp)}function lE(r,e,n){if(!oE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Sp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function r3(r,e,n){if((e=Pn(e))instanceof kp)return e._internalPath;if(typeof e=="string")return uE(r,e);throw yh("Field path arguments must be of type string or ",r,!1,void 0,n)}const s3=new RegExp("[~\\*/\\[\\]]");function uE(r,e,n){if(e.search(s3)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new kp(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function yh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new pe(ne.INVALID_ARGUMENT,m+r+p)}function a3(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o3 extends cE{data(){return super.data()}}function hE(r,e){return typeof e=="string"?uE(r,e):e instanceof kp?e._internalPath:e._delegate._internalPath}class l3{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Js(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ft(f.doubleValue));return new Dp(u)}convertGeoPoint(e){return new Np(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=is(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);Ke(D_(s));const o=new Yl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fE extends cE{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new h3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(hE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class h3 extends fE{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(r){r=Zl(r,Vn);const e=Zl(r.firestore,Ip);return Q6(nE(e),r._key).then(n=>p3(e,r,n))}class f3 extends l3{constructor(e){super(),this.firestore=e}convertBytes(e){return new lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function d3(r,e,n){r=Zl(r,Vn);const s=Zl(r.firestore,Ip),o=u3(r.converter,e);return m3(s,[i3(n3(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,er.none())])}function m3(r,e){return function(s,o){const u=new ts;return s.asyncQueue.enqueueAndForget(async()=>O6(await G6(s),o,u)),u.promise}(nE(r),e)}function p3(r,e,n){const s=n.docs.get(e._key),o=new f3(r);return new fE(r,o,e._key,s,new c3(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){go=o})(mo),to(new Ys("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ip(new Jb(s.getProvider("auth-internal")),new n9(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Jr(Nv,Dv,e),Jr(Nv,Dv,"esm2017")})();const g3={apiKey:"AIzaSyCGUZ2ovwUB_OlTsBvDYI_nsr3NJPOwHCU",authDomain:"stroomlia.firebaseapp.com",projectId:"stroomlia",storageBucket:"stroomlia.firebasestorage.app",messagingSenderId:"153853389573",appId:"1:153853389573:web:0bfe6959f325daac6ae56c"},dE=ty(g3),Eo=Xb(dE),jp=W6(dE);async function v3(r,e){return(await V4(Eo,r,e)).user}async function y3(r,e){return(await j4(Eo,r,e)).user}async function _3(){const r=new di,n=(await Ly(Eo,r)).user,s=xp(jp,"users",n.uid),o=await Mp(s);if(!o.exists()||!o.data()){window.alert("Brukeren finnes ikke");return}else return n}async function E3(){const r=new di,n=(await Ly(Eo,r)).user,s=xp(jp,"users",n.uid);return(await Mp(s)).exists()||await d3(s,{uid:n.uid,name:n.displayName,email:n.email,photoURL:n.photoURL,createdAt:new Date}),console.log(n),n}function mE(){return U4(Eo)}function T3(){const[r,e]=P.useState(),{user:n}=P.useContext(fo),[s,o]=P.useState(!1);P.useEffect(()=>{u()},[]);const u=()=>{e(Xn())};return r?g.jsxs("div",{className:"ordering-view-container",children:[g.jsxs("div",{className:"ordering-view-total-container",children:[n?g.jsx(g.Fragment,{children:g.jsxs("div",{className:"ordering-view-user-profile",children:[g.jsx("p",{children:"Du er pålogget som"}),g.jsxs("div",{className:"ov-user-block",children:[g.jsx("img",{src:n.photoURL,alt:n.displayName}),g.jsx("h3",{children:n.displayName}),g.jsx("button",{onClick:()=>mE(),children:"Logg deg ut"})]})]})}):g.jsx(g.Fragment,{children:g.jsx(eC,{onContinueAsGuest:()=>o(!0)})}),g.jsx(JA,{accountChosen:n?!0:s})]}),g.jsx(Un,{})]}):g.jsx(nr,{message:"Vi henter handlekurven for deg..."})}const w3=["VENN"];function A3(r){return w3.includes(r.toUpperCase())}function C3(){const[r,e]=P.useState(),[n,s]=P.useState(),[o,u]=P.useState(),[f,m]=P.useState(),[p,y]=P.useState(""),[T,C]=P.useState(""),[x,j]=P.useState(!1);P.useEffect(()=>{const Q=localStorage.getItem("orderData");if(Q){const W=JSON.parse(Q);s(W.orderPersonalia),u(W.productAmountCarrierList),Y(L(Xn())),m(Bm())}},[]);function L(Q){return Q.products.map(W=>W.productId)}async function Y(Q){let W=[];for(let ce=0;ce<Q.length;ce++){const le=await wh(Q[ce]);W.push(le)}e(W)}async function q(){const Q=localStorage.getItem("orderData"),W=await XA(JSON.parse(Q));window.location.replace(`/bestilling/${W.id}`)}const K=()=>{if(A3(p)&&!x){C("Lagt til 10% rabatt på bestillingen din!");const Q=IA(20);m(Q),j(!0)}else C(`Rabattkoden ${p} virker ikke..`);setTimeout(()=>{C("")},3e3)};return n?r?g.jsxs("div",{className:"order-overview-container",children:[g.jsxs("div",{className:"order-overview",children:[g.jsxs("div",{className:"overview-info-container",children:[g.jsxs("div",{children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M20 12.5V6.8C20 5.11984 20 4.27976 19.673 3.63803C19.3854 3.07354 18.9265 2.6146 18.362 2.32698C17.7202 2 16.8802 2 15.2 2H8.8C7.11984 2 6.27976 2 5.63803 2.32698C5.07354 2.6146 4.6146 3.07354 4.32698 3.63803C4 4.27976 4 5.11984 4 6.8V17.2C4 18.8802 4 19.7202 4.32698 20.362C4.6146 20.9265 5.07354 21.3854 5.63803 21.673C6.27976 22 7.11984 22 8.8 22H12M14 11H8M10 15H8M16 7H8M14.5 19L16.5 21L21 16.5",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsx("h2",{children:"Bestillingsoversikt"})]}),g.jsx("p",{children:"Nesten i mål! Se over bestillingen din før du sikrer deg den nyeste teknologien."})]}),g.jsxs("div",{className:"section",children:[g.jsx("h2",{className:"overview-title",children:"Kundeinformasjon"}),g.jsxs("div",{className:"info-group",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Fornavn:"})," ",n.firstName]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Etternavn:"})," ",n.lastName]}),g.jsxs("p",{children:[g.jsx("strong",{children:"E-post:"})," ",n.email]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Telefonnummer:"})," ",n.phonenumber]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Adresse:"})," ",n.adres]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Land:"})," ",n.country]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Postalnummer:"})," ",n.zipcode]})]})]}),g.jsxs("div",{className:"section",children:[g.jsx("h2",{className:"overview-title",children:"Handlekurven din"}),r.map(Q=>{const ce=o.find(le=>le.productId===Q.id).amount;return g.jsx("div",{className:"product",children:Q&&g.jsx("div",{className:"shopping-cart-item-container",children:g.jsxs("div",{className:"shopping-cart-item-title-image-container",children:[g.jsx("img",{src:Q.imagePaths[0],alt:Q.name}),g.jsxs("div",{className:"shopping-cart-item-info",children:[g.jsxs("h3",{children:[Q.name," (x",ce,")"]}),g.jsxs("p",{children:[Yn(Number(Q.price))," kr"]})]})]})})},Q.id)})]}),g.jsxs("div",{className:"section",children:[g.jsx("h2",{className:"overview-title",children:"Oversikt"}),g.jsxs("div",{className:"discount-price-container",children:[g.jsxs("div",{className:"price-container",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Antall produkt:"})," ",o.reduce((Q,W)=>Q+W.amount,0)]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Totalpris:"})," ",Yn(f)," kr"]})]}),g.jsxs("div",{className:"discount-container",children:[g.jsx("h2",{className:"discount-title",children:"Har du en rabattkode?"}),g.jsxs("div",{className:"discount-price-container-2",children:[g.jsx("input",{type:"text",placeholder:"Rabattkode",value:p,onChange:Q=>y(Q.target.value),className:"discount-input"}),g.jsx("button",{onClick:K,className:"apply-button",children:"Bruk"})]}),T&&g.jsx("p",{className:"message",children:T})]})]})]}),g.jsxs("button",{onClick:q,className:"apply-button",children:["Legg inn bestilling",g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),g.jsx(Un,{})]}):g.jsx(nr,{message:"Vi lader produktene..."}):g.jsx(nr,{message:"Vi lader bestillingen din..."})}function S3(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];r&&r.addEventListener&&r.addEventListener.apply(r,e)}function b3(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];r&&r.removeEventListener&&r.removeEventListener.apply(r,e)}var rm=typeof window<"u",R3=function(r){P.useEffect(r,[])},x3=function(r){var e=P.useRef(r);e.current=r,R3(function(){return function(){return e.current()}})},I3=function(r){var e=P.useRef(0),n=P.useState(r),s=n[0],o=n[1],u=P.useCallback(function(f){cancelAnimationFrame(e.current),e.current=requestAnimationFrame(function(){o(f)})},[]);return x3(function(){cancelAnimationFrame(e.current)}),[s,u]},k3=function(r){var e={},n=e.initialWidth,s=n===void 0?1/0:n,o=e.initialHeight,u=o===void 0?1/0:o,f=e.onChange,m=I3({width:rm?window.innerWidth:s,height:rm?window.innerHeight:u}),p=m[0],y=m[1];return P.useEffect(function(){if(rm){var T=function(){var C=window.innerWidth,x=window.innerHeight;y({width:C,height:x}),f&&f(C,x)};return S3(window,"resize",T),function(){b3(window,"resize",T)}}},[]),p},sm,C2;function N3(){if(C2)return sm;C2=1;var r={linear:function(e,n,s,o){var u=s-n;return u*e/o+n},easeInQuad:function(e,n,s,o){var u=s-n;return u*(e/=o)*e+n},easeOutQuad:function(e,n,s,o){var u=s-n;return-u*(e/=o)*(e-2)+n},easeInOutQuad:function(e,n,s,o){var u=s-n;return(e/=o/2)<1?u/2*e*e+n:-u/2*(--e*(e-2)-1)+n},easeInCubic:function(e,n,s,o){var u=s-n;return u*(e/=o)*e*e+n},easeOutCubic:function(e,n,s,o){var u=s-n;return u*((e=e/o-1)*e*e+1)+n},easeInOutCubic:function(e,n,s,o){var u=s-n;return(e/=o/2)<1?u/2*e*e*e+n:u/2*((e-=2)*e*e+2)+n},easeInQuart:function(e,n,s,o){var u=s-n;return u*(e/=o)*e*e*e+n},easeOutQuart:function(e,n,s,o){var u=s-n;return-u*((e=e/o-1)*e*e*e-1)+n},easeInOutQuart:function(e,n,s,o){var u=s-n;return(e/=o/2)<1?u/2*e*e*e*e+n:-u/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(e,n,s,o){var u=s-n;return u*(e/=o)*e*e*e*e+n},easeOutQuint:function(e,n,s,o){var u=s-n;return u*((e=e/o-1)*e*e*e*e+1)+n},easeInOutQuint:function(e,n,s,o){var u=s-n;return(e/=o/2)<1?u/2*e*e*e*e*e+n:u/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(e,n,s,o){var u=s-n;return-u*Math.cos(e/o*(Math.PI/2))+u+n},easeOutSine:function(e,n,s,o){var u=s-n;return u*Math.sin(e/o*(Math.PI/2))+n},easeInOutSine:function(e,n,s,o){var u=s-n;return-u/2*(Math.cos(Math.PI*e/o)-1)+n},easeInExpo:function(e,n,s,o){var u=s-n;return e==0?n:u*Math.pow(2,10*(e/o-1))+n},easeOutExpo:function(e,n,s,o){var u=s-n;return e==o?n+u:u*(-Math.pow(2,-10*e/o)+1)+n},easeInOutExpo:function(e,n,s,o){var u=s-n;return e===0?n:e===o?n+u:(e/=o/2)<1?u/2*Math.pow(2,10*(e-1))+n:u/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(e,n,s,o){var u=s-n;return-u*(Math.sqrt(1-(e/=o)*e)-1)+n},easeOutCirc:function(e,n,s,o){var u=s-n;return u*Math.sqrt(1-(e=e/o-1)*e)+n},easeInOutCirc:function(e,n,s,o){var u=s-n;return(e/=o/2)<1?-u/2*(Math.sqrt(1-e*e)-1)+n:u/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(e,n,s,o){var u=s-n,f,m,p;return p=1.70158,m=0,f=u,e===0?n:(e/=o)===1?n+u:(m||(m=o*.3),f<Math.abs(u)?(f=u,p=m/4):p=m/(2*Math.PI)*Math.asin(u/f),-(f*Math.pow(2,10*(e-=1))*Math.sin((e*o-p)*(2*Math.PI)/m))+n)},easeOutElastic:function(e,n,s,o){var u=s-n,f,m,p;return p=1.70158,m=0,f=u,e===0?n:(e/=o)===1?n+u:(m||(m=o*.3),f<Math.abs(u)?(f=u,p=m/4):p=m/(2*Math.PI)*Math.asin(u/f),f*Math.pow(2,-10*e)*Math.sin((e*o-p)*(2*Math.PI)/m)+u+n)},easeInOutElastic:function(e,n,s,o){var u=s-n,f,m,p;return p=1.70158,m=0,f=u,e===0?n:(e/=o/2)===2?n+u:(m||(m=o*(.3*1.5)),f<Math.abs(u)?(f=u,p=m/4):p=m/(2*Math.PI)*Math.asin(u/f),e<1?-.5*(f*Math.pow(2,10*(e-=1))*Math.sin((e*o-p)*(2*Math.PI)/m))+n:f*Math.pow(2,-10*(e-=1))*Math.sin((e*o-p)*(2*Math.PI)/m)*.5+u+n)},easeInBack:function(e,n,s,o,u){var f=s-n;return u===void 0&&(u=1.70158),f*(e/=o)*e*((u+1)*e-u)+n},easeOutBack:function(e,n,s,o,u){var f=s-n;return u===void 0&&(u=1.70158),f*((e=e/o-1)*e*((u+1)*e+u)+1)+n},easeInOutBack:function(e,n,s,o,u){var f=s-n;return u===void 0&&(u=1.70158),(e/=o/2)<1?f/2*(e*e*(((u*=1.525)+1)*e-u))+n:f/2*((e-=2)*e*(((u*=1.525)+1)*e+u)+2)+n},easeInBounce:function(e,n,s,o){var u=s-n,f;return f=r.easeOutBounce(o-e,0,u,o),u-f+n},easeOutBounce:function(e,n,s,o){var u=s-n;return(e/=o)<1/2.75?u*(7.5625*e*e)+n:e<2/2.75?u*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?u*(7.5625*(e-=2.25/2.75)*e+.9375)+n:u*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(e,n,s,o){var u=s-n,f;return e<o/2?(f=r.easeInBounce(e*2,0,u,o),f*.5+n):(f=r.easeOutBounce(e*2-o,0,u,o),f*.5+u*.5+n)}};return sm=r,sm}var D3=N3();function O3(r){return r*Math.PI/180}function gn(r,e){return r+Math.random()*(e-r)}function M3(r,e){return Math.floor(r+Math.random()*(e-r+1))}var Bl;(function(r){r[r.Circle=0]="Circle",r[r.Square=1]="Square",r[r.Strip=2]="Strip"})(Bl||(Bl={}));var Kr;(function(r){r[r.Positive=1]="Positive",r[r.Negative=-1]="Negative"})(Kr||(Kr={}));const j3=1e3/60;class V3{constructor(e,n,s,o){this.getOptions=n;const{colors:u,initialVelocityX:f,initialVelocityY:m}=this.getOptions();this.context=e,this.x=s,this.y=o,this.w=gn(5,20),this.h=gn(5,20),this.radius=gn(5,10),this.vx=typeof f=="number"?gn(-f,f):gn(f.min,f.max),this.vy=typeof m=="number"?gn(-m,0):gn(m.min,m.max),this.shape=M3(0,2),this.angle=O3(gn(0,360)),this.angularSpin=gn(-.2,.2),this.color=u[Math.floor(Math.random()*u.length)],this.rotateY=gn(0,1),this.rotationDirection=gn(0,1)?Kr.Positive:Kr.Negative}update(e){const{gravity:n,wind:s,friction:o,opacity:u,drawShape:f}=this.getOptions(),m=e/j3;this.x+=this.vx*m,this.y+=this.vy*m,this.vy+=n*m,this.vx+=s*m,this.vx*=o**m,this.vy*=o**m,this.rotateY>=1&&this.rotationDirection===Kr.Positive?this.rotationDirection=Kr.Negative:this.rotateY<=-1&&this.rotationDirection===Kr.Negative&&(this.rotationDirection=Kr.Positive);const p=.1*this.rotationDirection*m;if(this.rotateY+=p,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=u,this.context.lineCap="round",this.context.lineWidth=2,f&&typeof f=="function")f.call(this,this.context);else switch(this.shape){case Bl.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Bl.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Bl.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class P3{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=o=>{this.particles.splice(o,1)},this.getParticle=()=>{const o=gn(this.x,this.w+this.x),u=gn(this.y,this.h+this.y);return new V3(this.context,this.getOptions,o,u)},this.animate=o=>{const{canvas:u,context:f,particlesGenerated:m,lastNumberOfPieces:p}=this,{run:y,recycle:T,numberOfPieces:C,debug:x,tweenFunction:j,tweenDuration:L}=this.getOptions();if(!y)return!1;const Y=this.particles.length,q=T?Y:m;if(q<C){p!==C&&(this.tweenProgress=0,this.tweenFrom=q,this.lastNumberOfPieces=C),this.tweenProgress=Math.min(L,Math.max(0,this.tweenProgress+o));const K=j(this.tweenProgress,this.tweenFrom,C,L),Q=Math.round(K-q);for(let W=0;W<Q;W++)this.particles.push(this.getParticle());this.particlesGenerated+=Q}x&&(f.font="12px sans-serif",f.fillStyle="#333",f.textAlign="right",f.fillText(`Particles: ${Y}`,u.width-10,u.height-20));for(let K=this.particles.length-1;K>=0;K--){const Q=this.particles[K];Q.update(o),(Q.y>u.height||Q.y<-100||Q.x>u.width+100||Q.x<-100)&&(T&&q<=C?this.particles[K]=this.getParticle():this.removeParticleAt(K))}return Y>0||q<C},this.canvas=e;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.getOptions=n}}const Vp={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:D3.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class L3{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=o=>{const u={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...u,...Vp,...o},Object.assign(this,o.confettiSource)},this.update=(o=0)=>{const{options:{run:u,onConfettiComplete:f,frameRate:m},canvas:p,context:y}=this,T=Math.min(o-this.lastFrameTime,50);if(m&&T<1e3/m){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=o-(m?T%m:0),u&&(y.fillStyle="white",y.clearRect(0,0,p.width,p.height)),this.generator.animate(T)?this.rafId=requestAnimationFrame(this.update):(f&&typeof f=="function"&&this.generator.particlesGenerated>0&&f.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.generator=new P3(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var o,u;const n=(o=this._options)==null?void 0:o.run,s=(u=this._options)==null?void 0:u.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&s===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const U3=zl.createRef();class Pp extends zl.Component{constructor(e){super(e),this.canvas=zl.createRef(),this.canvas=e.canvasRef||U3}componentDidMount(){if(this.canvas.current){const e=am(this.props)[0];this.confetti=new L3(this.canvas.current,e)}}componentDidUpdate(){const e=am(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=am(this.props),s={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return g.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:s})}}Pp.defaultProps={...Vp};Pp.displayName="ReactConfetti";function am(r){const e={},n={},s={},o=[...Object.keys(Vp),"confettiSource","drawShape","onConfettiComplete","frameRate"],u=["canvasRef"];for(const f in r){const m=r[f];o.includes(f)?e[f]=m:u.includes(f)?u[f]=m:s[f]=m}return[e,s,n]}const B3=zl.forwardRef((r,e)=>g.jsx(Pp,{canvasRef:e,...r}));function z3(){const{orderId:r}=j2(),[e,n]=P.useState(),[s,o]=P.useState(null),{width:u,height:f}=k3();P.useEffect(()=>{p(r)},[]);function m(T){return T.products.map(C=>C.productId)}const p=async T=>{const C=await $A(T);n(C);const x=m(Xn());y(x),localStorage.removeItem("orderData"),localStorage.removeItem("shopping-cart")};async function y(T){let C=[];for(let x=0;x<T.length;x++){const j=await wh(T[x]);C.push(j)}o(C)}return e?s?g.jsxs("div",{className:"final-order-container",children:[g.jsxs("div",{className:"minimal-order-container",children:[g.jsxs("div",{className:"overview-info-container",children:[g.jsxs("div",{children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M4 7.8C4 6.11984 4 5.27976 4.32698 4.63803C4.6146 4.07354 5.07354 3.6146 5.63803 3.32698C6.27976 3 7.11984 3 8.8 3H15.2C16.8802 3 17.7202 3 18.362 3.32698C18.9265 3.6146 19.3854 4.07354 19.673 4.63803C20 5.27976 20 6.11984 20 7.8V21L17.25 19L14.75 21L12 19L9.25 21L6.75 19L4 21V7.8Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsx("h2",{children:"Kvitteringen din"})]}),g.jsx("p",{children:"Takk for bestillingen! Din nye teknologi er snart på vei til deg."})]}),g.jsxs("h3",{className:"overview-greeting",children:["Heia ",e.orderPersonalia.firstName,","]}),g.jsxs("p",{children:["Bestillingen din (#",e.id,") er bekreftet og vi har satt i gang prosessen. Våre lagermedarbeidere pakker varene dine med omhu, og de vil snart være på vei til deg. Her er en oversikt over hva du har bestilt:"]}),g.jsx(B3,{width:u-20,height:f-20}),g.jsx("div",{className:"minimal-order-details",children:s.map(T=>g.jsx("div",{className:"product",children:T&&g.jsx("div",{className:"shopping-cart-item-container",children:g.jsxs("div",{className:"shopping-cart-item-title-image-container",children:[g.jsx("img",{src:T.imagePaths[0],alt:T.name}),g.jsxs("div",{className:"shopping-cart-item-info",children:[g.jsx("h3",{children:T.name}),g.jsxs("p",{children:[Yn(Number(T.price))," kr"]})]})]})})},T.id))}),g.jsxs("div",{className:"minimal-order-total",children:[g.jsxs("p",{children:["Totalpris: ",Yn(e.totalPrice)," kr"]}),g.jsx("p",{children:"Estimert leveringstid: 1–2 arbeidsdager"})]})]}),g.jsx(Un,{})]}):g.jsx(nr,{message:"Vi henter produktene for deg..."}):g.jsx(nr,{message:"Vi henter bestillingen din..."})}function H3(){return g.jsxs("div",{className:"tv-container",children:[g.jsxs("div",{className:"tv-content",children:[g.jsx("h1",{children:"Vilkår og Betingelser"}),g.jsx("h3",{children:"Generelle betingelser"}),g.jsx("p",{children:"Ved å handle hos Strømlia godtar du våre vilkår og betingelser. Vi forbeholder oss retten til å endre vilkårene når som helst uten forvarsel, men vi lover å gjøre vårt beste for å kun gjøre endringer du ikke merker."}),g.jsx("h3",{children:"Priser og tilgjengelighet"}),g.jsx("p",{children:"Alle priser er oppgitt i norske kroner og inkluderer eventuelle avgifter. Produkter kan bli utsolgt raskere enn vi klarer å oppdatere lagerstatusen. Hvis du bestiller et produkt som ikke er på lager, sender vi deg et vennlig blikk via e-post."}),g.jsx("h3",{children:"Leveringstid"}),g.jsx("p",{children:"Vi streber etter å levere produktene dine raskt. Standard leveringstid er 2-5 virkedager, med unntak av uforutsette hendelser som snøstormer, tidsforvrengninger eller at budet blir distrahert av en søt hund på veien."}),g.jsx("h3",{children:"Retur og refusjon"}),g.jsx("p",{children:"Du har 14 dagers angrerett, men vi setter pris på om du tenker deg om før du kjøper. Hvis du ønsker å returnere et produkt, må det være i original emballasje, ubrukt og fri for tegn på at du har prøvd å omprogrammere det til en kunstig intelligens."}),g.jsx("h3",{children:"Ansvarsfraskrivelse"}),g.jsx("p",{children:"Strømlia kan ikke holdes ansvarlig for hva du gjør med produktene etter kjøp. Hvis du for eksempel bruker en iPad som tallerken og den knuser, er det på eget ansvar."}),g.jsx("h3",{children:"Kundeservice"}),g.jsx("p",{children:"Vi er her for deg! Ta kontakt med oss via e-post eller live chat hvis du har spørsmål"})]}),g.jsx(Un,{})]})}const q3="/assets/error404-DAsD6jbh.gif";function F3(){return g.jsxs("div",{className:"error-container",children:[g.jsx("img",{src:q3,alt:"Feilmelding 404 ikke funnet GIF"}),g.jsx("h3",{children:"404 Ikke funnet"}),g.jsx("p",{children:"Det du leter etter finnes ihvertfall ikke her (eller ikke noe mer)..."})]})}const pE="data:image/png;base64,UklGRswEAABXRUJQVlA4TMAEAAAvR8AREAlGbSNJkqf618Wf8J4QIvo/AX5NojhTd7Isjc0pZpiL0d7cL9hEkqyqwxc+AehfHf2YQYOito0kz8xez+WPshAYtG0kyfvxCH92u3cA+j8B+E/0AbQEYLc3Z1oIKwKALfqD9xQA4MMrlx9Poij8huTattPQ2fIPMzaAwxSBlWSlsBQBZaQRZrLfwJYsPQ//BFJs266idZ4AFOANb4yYYwAfOTPKOXS/5zS2bVdZh6goAI1F8jw+KgpAUSdDLVmiMlcWJMmmbdXa63Jf36Nn27Zt27bNL9u2bdu2bevy+JyNCYAAp8Wf9JtSiEIUIiChwwd3KDeMQz3dNjuKohyKIjssiISEDi+S8AXPcBdP8e8gT7az0CKl0Ab1kAcqaIQHb3Ea+4PH0A9QpBQGoSeKQQV78Q+HsBJPsj3dNhsaoz4soCu+4TLWwpkK2VAJDtAbQ2DBLHxIBDuyg/6QaI1qwVSkpEEoVDAS6bgMCbLCCR2MhBPToxIgK74jGTRDxy/cxQkcxAncw2/YoWzAiekaAbLiB16CVqTiMMahGzprOgYtgioogKKogNaoARUAODEhECDt0/GmB1LQsQYdp7EhCEMAVAuRqI8JKA8XJkasBGlfjNeZnozXj7AJYRU4sRBvQHshC6biebACRp7X5T7sUXyepHgEW0jHtECAvROh0GGAtG+wvCu3uzfUktthnk2ZhBWCmLPUEuDIRSoV+YGyZ8O8jbgsxgr78AccGg1wFOERFMSNlLiGWTABfmAHOPRbElEBgwAA4EqI22GeiPgfe8GxkR05UGpFOI+8q9LeV5ebHveOMVBbiiAoBUVYwUQqAkOQG3GQKwAKN192ejFNGIJe0BqqENAwCmeHICsk2MZq0AwH8oCeyA+GwgaqGNcGE3SFbQzUGvq2dUbMmMYMCB0DTw3jEkAbg/81rE4A1xh8hQ65pbj5qiumCUof/BuDj7CAtQR/Kv4e5vWvwaQF7rXgIhbBAFiwjUV4X4GG32PwBawF8aT/n4ifl7kTr958jGvBEQAAxmxiFMoirQIn/o9BEt6tliNjnkeJTxBjxTc0xrOGVqRiEgpW8BUMxmn4JajMeRtz3lFUQgKyAmxDP/h64DIOQ63gvkoM0tyg7sUnYl5gOUSCNQKYgEUdEMBRuME2NFwCg5G07A3/v4iIJ0WwAZCK0f5rE8xd+IpfoIq3+DMK/B3J6d8TCaCKdMykVsC1I/RiEAR1HADDURI9EagBaDiGBZo70BruX3fZ7t32la99D/HFH0IFn7BjHBAq6iKsBhCCahiIw3iAv9H4JowFpUQYEpEP9dCCKhAZ8qXOg58s5JKRsgET45ErAUBmFG4AABYE8RNf8Bd+hMOKzMiEKAAoiPnTVP9gKzZwDjbMzQCQBYktu/nzz9g46w4/CACfUA71kJQCIAayH+DPSR7inBOTF/iPVsiFeyApgnD3A4TJU5x1/82/I2w4BNLiD772A+RJ8aqDLNgNEuMbbuJPJ3iwCXlRAhdAavzDCZxBUgf4cB0rkIheeA+yBw+wEhvxBJ4mBPEN13ACGjgkNNzBfIzGNBRDdlgQCQU6fEjBd7zCMyRpJDgu/uJCoBRURCMCEjp8cAcSnBYH";function G3(){const[r,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(!1);function f(y){if(y.preventDefault(),!o){window.alert("Du må akseptere vilkårene.");return}y3(r,n).then(()=>{window.location.assign("/")}).catch(T=>{console.warn(T)})}const m=async y=>{if(y.preventDefault(),!o){window.alert("Du må akseptere vilkårene.");return}try{await E3()}catch(T){console.warn(T)}},p=()=>u(!o);return g.jsxs("div",{className:"register-form-container",children:[g.jsxs("form",{className:"register-form",onSubmit:f,children:[g.jsx("input",{className:"input-text",type:"email",name:"email",placeholder:"E-post",required:!0,onChange:y=>e(y.target.value)}),g.jsx("input",{type:"password",className:"input-text",name:"password",placeholder:"Passord",required:!0,onChange:y=>s(y.target.value)}),g.jsxs("div",{className:"terms-container",children:[g.jsx("input",{type:"checkbox",className:"input-checkbox",onChange:p}),g.jsxs("span",{children:["Ved å registrere deg bekrefter du at du har lest og akseptert ",g.jsx("a",{className:"terms-a",href:"/vilkår",target:"_blank",children:"våre vilkår og betingelser"}),"."]})]}),g.jsx("button",{className:"auth-button",type:"submit",children:"Registrer deg"})]}),g.jsx("p",{className:"or-line",children:"ELLER"}),g.jsx("div",{className:"providers-container",children:g.jsxs("button",{onClick:m,children:[g.jsx("img",{src:pE,alt:"Google ikon"}),"Registrer deg med Google"]})})]})}function K3(){const[r,e]=P.useState(""),[n,s]=P.useState("");async function o(f){f.preventDefault();try{await v3(r,n),window.location.assign("/")}catch(m){console.warn(m)}}async function u(f){f.preventDefault();try{await _3(),window.location.asign("/")}catch(m){console.warn(m)}}return g.jsxs("div",{className:"login-form-container",children:[g.jsxs("form",{className:"login-form",onSubmit:o,children:[g.jsx("input",{className:"input-text",type:"email",name:"email",placeholder:"E-post",required:!0,onChange:f=>e(f.target.value)}),g.jsx("input",{type:"password",className:"input-text",name:"password",placeholder:"Passord",required:!0,onChange:f=>s(f.target.value)}),g.jsx("button",{className:"auth-button",type:"submit",children:"Logg på"})]}),g.jsx("p",{className:"or-line",children:"ELLER"}),g.jsx("div",{className:"providers-container",children:g.jsxs("button",{onClick:u,children:[g.jsx("img",{src:pE,alt:"Google ikon"}),"Logg på med Google"]})})]})}function Q3(r){const[e,n]=P.useState([]);P.useEffect(()=>{s()},[]);const s=async()=>n(await WA(r.props.uid));return g.jsx(g.Fragment,{children:e.length>0?g.jsx(g.Fragment,{children:e.map(o=>g.jsxs("div",{className:"order-wrapper",children:[g.jsxs("p",{className:"top",children:["Bestilling #",o.id]}),g.jsxs("p",{children:["Totalpris: ",Yn(o.totalPrice)," kr"]}),o.orderLines.map((u,f)=>g.jsx("ul",{className:"order-block",children:g.jsxs("li",{children:[u.productName," - ",u.amount," x ",Yn(u.productPrice)," kr"]})},f))]},o.id))}):g.jsx("p",{style:{padding:"0 20px"},children:"Denne kontoen har ikke lagt inn noen bestillinger ennå..."})})}function Y3(r){return g.jsxs("div",{className:"ai-p",children:[g.jsxs("p",{children:["BrukerID: ",r.props.uid]}),g.jsxs("p",{children:["E-post: ",r.props.email]}),g.jsxs("p",{children:["E-post verifisert: ",r.props.emailVerified?"Ja":"Nei"]}),g.jsxs("p",{children:["Navn: ",r.props.displayName]}),g.jsxs("p",{children:["Telefonnummer: ",r.props.phonenumber]}),g.jsxs("p",{children:["Konto laget: ",r.props.metadata.creationTime]}),g.jsxs("p",{children:["Siste gang pålogget: ",r.props.metadata.lastSignInTime]})]})}function X3(){const[r,e]=P.useState([]);P.useEffect(()=>{n()},[]);const n=()=>e(zA()),s=o=>HA(o);return g.jsx(g.Fragment,{children:r.length>0?g.jsx(g.Fragment,{children:r.map(o=>g.jsxs("div",{className:"favorites-container",children:[g.jsxs("div",{className:"favorites-info-container",children:[g.jsx("img",{src:o.image,alt:o.name}),g.jsxs("div",{className:"favorites-info",children:[g.jsx("a",{href:`/produkter/${o.id}`,children:o.name}),g.jsxs("p",{children:[Yn(Number(o.price))," kr"]})]})]}),g.jsx("div",{className:"favorites-options",children:g.jsx("button",{className:"favorites-delete-btn",onClick:()=>s(o.id),children:g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M16 6V5.2C16 4.0799 16 3.51984 15.782 3.09202C15.5903 2.71569 15.2843 2.40973 14.908 2.21799C14.4802 2 13.9201 2 12.8 2H11.2C10.0799 2 9.51984 2 9.09202 2.21799C8.71569 2.40973 8.40973 2.71569 8.21799 3.09202C8 3.51984 8 4.0799 8 5.2V6M10 11.5V16.5M14 11.5V16.5M3 6H21M19 6V17.2C19 18.8802 19 19.7202 18.673 20.362C18.3854 20.9265 17.9265 21.3854 17.362 21.673C16.7202 22 15.8802 22 14.2 22H9.8C8.11984 22 7.27976 22 6.63803 21.673C6.07354 21.3854 5.6146 20.9265 5.32698 20.362C5 19.7202 5 18.8802 5 17.2V6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]},o.id))}):g.jsx("p",{style:{padding:"0 20px"},children:"Det finnes ingenting på ønskelisten din... Ennå..."})})}function $3(){const[r,e]=P.useState(),{user:n}=P.useContext(fo),s=[{name:"Adresse & Levering",component:null},{name:"Bestillinger",component:g.jsx(Q3,{props:n})},{name:"Konto informasjon",component:g.jsx(Y3,{props:n})},{name:"Ønskeliste",component:g.jsx(X3,{})},{name:"Betalingsmetoder",component:null}],o=u=>e(s.find(f=>u===f.name));return g.jsxs("div",{className:"pa-container",children:[g.jsxs("div",{className:"pa-left",children:[g.jsxs("button",{onClick:()=>o("Bestillinger"),children:[g.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M20.5 7.27783L12 12.0001M12 12.0001L3.49997 7.27783M12 12.0001L12 21.5001M21 16.0586V7.94153C21 7.59889 21 7.42757 20.9495 7.27477C20.9049 7.13959 20.8318 7.01551 20.7354 6.91082C20.6263 6.79248 20.4766 6.70928 20.177 6.54288L12.777 2.43177C12.4934 2.27421 12.3516 2.19543 12.2015 2.16454C12.0685 2.13721 11.9315 2.13721 11.7986 2.16454C11.6484 2.19543 11.5066 2.27421 11.223 2.43177L3.82297 6.54288C3.52345 6.70928 3.37369 6.79248 3.26463 6.91082C3.16816 7.01551 3.09515 7.13959 3.05048 7.27477C3 7.42757 3 7.59889 3 7.94153V16.0586C3 16.4013 3 16.5726 3.05048 16.7254C3.09515 16.8606 3.16816 16.9847 3.26463 17.0893C3.37369 17.2077 3.52345 17.2909 3.82297 17.4573L11.223 21.5684C11.5066 21.726 11.6484 21.8047 11.7986 21.8356C11.9315 21.863 12.0685 21.863 12.2015 21.8356C12.3516 21.8047 12.4934 21.726 12.777 21.5684L20.177 17.4573C20.4766 17.2909 20.6263 17.2077 20.7354 17.0893C20.8318 16.9847 20.9049 16.8606 20.9495 16.7254C21 16.5726 21 16.4013 21 16.0586Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M16.5 9.5L7.5 4.5",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})]}),"Bestillinger"]}),g.jsxs("button",{onClick:()=>o("Ønskeliste"),children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9932 5.13581C9.9938 2.7984 6.65975 2.16964 4.15469 4.31001C1.64964 6.45038 1.29697 10.029 3.2642 12.5604C4.89982 14.6651 9.84977 19.1041 11.4721 20.5408C11.6536 20.7016 11.7444 20.7819 11.8502 20.8135C11.9426 20.8411 12.0437 20.8411 12.1361 20.8135C12.2419 20.7819 12.3327 20.7016 12.5142 20.5408C14.1365 19.1041 19.0865 14.6651 20.7221 12.5604C22.6893 10.029 22.3797 6.42787 19.8316 4.31001C17.2835 2.19216 13.9925 2.7984 11.9932 5.13581Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Ønskeliste"]}),g.jsxs("button",{onClick:()=>o("Konto informasjon"),children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M12 16V12M12 8H12.01M7.8 21H16.2C17.8802 21 18.7202 21 19.362 20.673C19.9265 20.3854 20.3854 19.9265 20.673 19.362C21 18.7202 21 17.8802 21 16.2V7.8C21 6.11984 21 5.27976 20.673 4.63803C20.3854 4.07354 19.9265 3.6146 19.362 3.32698C18.7202 3 17.8802 3 16.2 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Konto informasjon"]})]}),g.jsx("div",{className:"pa-right",children:r?g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:r.name}),g.jsx("div",{className:"pa-right-content-container",children:r.component})]}):null})]})}function W3(r){const e=()=>mE();return g.jsx("div",{className:"up-container",children:g.jsxs("div",{className:"up-content",children:[g.jsx("div",{className:"log-out-btn-container",children:g.jsxs("button",{className:"log-out-btn",onClick:e,children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M16 17L21 12M21 12L16 7M21 12H9M9 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21H9",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),"Logg deg ut"]})}),g.jsxs("div",{className:"up-top",children:[g.jsx("img",{src:r.user.photoURL,alt:r.user.displayName}),g.jsxs("div",{className:"up-top-info",children:[g.jsx("h3",{className:"up-top-name",children:r.user.displayName}),g.jsx("p",{className:"up-top-email",children:r.user.email})]})]}),g.jsx($3,{})]})})}function Z3(){const[r,e]=P.useState(!1),{user:n,loading:s}=P.useContext(fo),o=()=>e(!r);return g.jsxs("div",{className:"ac-container",children:[g.jsxs("div",{className:"ac-content",children:[n?null:g.jsxs("div",{className:"bag-info-container",children:[g.jsxs("div",{children:[g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M20 21C20 19.6044 20 18.9067 19.8278 18.3389C19.44 17.0605 18.4395 16.06 17.1611 15.6722C16.5933 15.5 15.8956 15.5 14.5 15.5H9.5C8.10444 15.5 7.40665 15.5 6.83886 15.6722C5.56045 16.06 4.56004 17.0605 4.17224 18.3389C4 18.9067 4 19.6044 4 21M16.5 7.5C16.5 9.98528 14.4853 12 12 12C9.51472 12 7.5 9.98528 7.5 7.5C7.5 5.01472 9.51472 3 12 3C14.4853 3 16.5 5.01472 16.5 7.5Z",stroke:"currentColor",strokeWidth:je,strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsx("h2",{children:r?"Lag en konto":"Logg deg på"})]}),g.jsxs("p",{children:["Bli en del av vår smarte verden – ",r?"registrer deg nå!":"logg på nå!"]}),g.jsxs("p",{className:"",children:[r?"Har du allerede konto?":"Har du ikke konto ennå?"," ",g.jsx("span",{className:"terms-a",onClick:o,children:r?"Logg deg på":"Registrer deg"})]})]}),n?g.jsx(W3,{user:n},1):g.jsx(g.Fragment,{children:r?g.jsx(G3,{}):g.jsx(K3,{})})]}),g.jsx(Un,{})]})}const J3=({children:r})=>{const[e,n]=P.useState(null),[s,o]=P.useState(!0);return P.useEffect(()=>{const u=Eo.onAuthStateChanged(async f=>{if(f){const m=xp(jp,"users",f.uid);(await Mp(m)).exists()?n(f):console.warn("Brukeren finnes ikke.")}else n(null);o(!1)});return()=>u()},[]),g.jsx(fo.Provider,{value:{user:e,loading:s},children:r})};function eR(){return g.jsx("div",{className:"App",children:g.jsx(J3,{children:g.jsxs(fA,{children:[g.jsxs("div",{className:"top-announcement-container",children:[g.jsx(GA,{}),g.jsx(DA,{}),g.jsx(NA,{})]}),g.jsx("div",{className:"routes-container",children:g.jsxs(qw,{children:[g.jsx(on,{path:"/",element:g.jsx(kA,{})}),g.jsx(on,{path:"/handlekurv",element:g.jsx(MA,{})}),g.jsx(on,{path:"/produkter",element:g.jsx(jA,{})}),g.jsx(on,{path:"/produkter/:productId",element:g.jsx(qA,{})}),g.jsx(on,{path:"/sos",element:g.jsx(KA,{})}),g.jsx(on,{path:"/kontakt",element:g.jsx(QA,{})}),g.jsx(on,{path:"/omoss",element:g.jsx(YA,{})}),g.jsx(on,{path:"/bestilling",element:g.jsx(T3,{})}),g.jsx(on,{path:"/oversikt",element:g.jsx(C3,{})}),g.jsx(on,{path:"/konto",element:g.jsx(Z3,{})}),g.jsx(on,{path:"/bestilling/:orderId",element:g.jsx(z3,{})}),g.jsx(on,{path:"/vilkår",element:g.jsx(H3,{})}),g.jsx(on,{path:"*",element:g.jsx(F3,{})})]})})]})})})}const tR=ZT.createRoot(document.getElementById("root"));tR.render(g.jsx(zl.StrictMode,{children:g.jsx(eR,{})}));
